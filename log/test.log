  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "properties" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "properties" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1010.7ms)[0m  [1m[35mTRUNCATE TABLE "photos", "users", "properties"[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "properties" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1019.3ms)[0m  [1m[35mTRUNCATE TABLE "photos", "users", "properties"[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "properties" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "properties" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name", "cellphone") VALUES (99, 'email@email.com', '1234', '2020-10-26 13:14:57.805766', '2020-10-26 13:14:57.805766', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', '2020-10-26 13:14:57.805766', '2020-10-26 13:14:57.805766', DEFAULT, DEFAULT, DEFAULT), (100, 'ejemplo1@mail.com', '$2a$12$ka3N1fSn3qAU5XDyDotDMOchk4g0tkYdyesGcy8WJja/SvpuBPvtq', '2020-10-26 13:14:57.805766', '2020-10-26 13:14:57.805766', FALSE, 'ejemplo1', DEFAULT), (101, 'admin@mail.com', '$2a$12$cCYEU4oGSydUxzdZy4NtDuaficugAbAN1KTuKalWX0CWbeXc3hVKG', '2020-10-26 13:14:57.805766', '2020-10-26 13:14:57.805766', TRUE, DEFAULT, DEFAULT), (103, 'ejemplo3@mail.com', '$2a$12$/Xn0tsCcfrBxX0FvzSjpJudTlzeBt89hlNitm/y/aRHPWRphxufdK', '2020-10-26 13:14:57.805766', '2020-10-26 13:14:57.805766', FALSE, DEFAULT, DEFAULT);
INSERT INTO "properties" ("id", "project", "built_type", "price", "address", "apt", "hood", "city", "private_area", "user_id", "created_at", "updated_at", "admon", "build_area", "social_class", "state", "elevator", "common_areas", "property_tax", "rooms", "bathrooms", "half_bathrooms", "parking_lot", "utility_room", "empty_property", "inhabitants", "rent", "rent_desition", "mortgage") VALUES (6, DEFAULT, DEFAULT, '5000000000', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:14:57.811680', '2020-10-26 13:14:57.811680', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (7, DEFAULT, 'casa', '50', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:14:57.811680', '2020-10-26 13:14:57.811680', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (1, DEFAULT, DEFAULT, '50000000', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:14:57.811680', '2020-10-26 13:14:57.811680', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (2, DEFAULT, 'Apartment', '50000000', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:14:57.811680', '2020-10-26 13:14:57.811680', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (3, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, 101, '2020-10-26 13:14:57.811680', '2020-10-26 13:14:57.811680', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (10, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, 103, '2020-10-26 13:14:57.811680', '2020-10-26 13:14:57.811680', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "photos" ("id", "url", "property_id", "created_at", "updated_at", "accepted_foc", "accepted_lum") VALUES (1, 'http://image', 10, '2020-10-26 13:14:57.816077', '2020-10-26 13:14:57.816077', DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, '2020-10-26 13:14:57.816077', '2020-10-26 13:14:57.816077', DEFAULT, DEFAULT)[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "properties" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name", "cellphone") VALUES (99, 'email@email.com', '1234', '2020-10-26 13:14:57.808809', '2020-10-26 13:14:57.808809', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', '2020-10-26 13:14:57.808809', '2020-10-26 13:14:57.808809', DEFAULT, DEFAULT, DEFAULT), (100, 'ejemplo1@mail.com', '$2a$12$dD1IuxsiKb6RUXecRR5IF.UIxd527o.tJtER/mAS36/2eIldesbJ.', '2020-10-26 13:14:57.808809', '2020-10-26 13:14:57.808809', FALSE, 'ejemplo1', DEFAULT), (101, 'admin@mail.com', '$2a$12$88rZRYpIFzNj2NWf5gafX.w7HFnXJ9Dktl04tkoJ/KVjHMYWeZouu', '2020-10-26 13:14:57.808809', '2020-10-26 13:14:57.808809', TRUE, DEFAULT, DEFAULT), (103, 'ejemplo3@mail.com', '$2a$12$SFx5WCEAZP/kTkDk2PWWb.dKdbLanC/PVs/KUlPpksd8i4pThJCoe', '2020-10-26 13:14:57.808809', '2020-10-26 13:14:57.808809', FALSE, DEFAULT, DEFAULT);
INSERT INTO "properties" ("id", "project", "built_type", "price", "address", "apt", "hood", "city", "private_area", "user_id", "created_at", "updated_at", "admon", "build_area", "social_class", "state", "elevator", "common_areas", "property_tax", "rooms", "bathrooms", "half_bathrooms", "parking_lot", "utility_room", "empty_property", "inhabitants", "rent", "rent_desition", "mortgage") VALUES (6, DEFAULT, DEFAULT, '5000000000', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:14:57.814470', '2020-10-26 13:14:57.814470', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (7, DEFAULT, 'casa', '50', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:14:57.814470', '2020-10-26 13:14:57.814470', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (1, DEFAULT, DEFAULT, '50000000', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:14:57.814470', '2020-10-26 13:14:57.814470', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (2, DEFAULT, 'Apartment', '50000000', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:14:57.814470', '2020-10-26 13:14:57.814470', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (3, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, 101, '2020-10-26 13:14:57.814470', '2020-10-26 13:14:57.814470', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (10, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, 103, '2020-10-26 13:14:57.814470', '2020-10-26 13:14:57.814470', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "photos" ("id", "url", "property_id", "created_at", "updated_at", "accepted_foc", "accepted_lum") VALUES (1, 'http://image', 10, '2020-10-26 13:14:57.818830', '2020-10-26 13:14:57.818830', DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, '2020-10-26 13:14:57.818830', '2020-10-26 13:14:57.818830', DEFAULT, DEFAULT)[0m
  [1m[35m (37.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (34.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "properties" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "properties" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_7_authorized_for_admin_to_show_any_user
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UsersControllerTest: test_1_Attempt_accessing_without_logging_in_should_fail
----------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:58 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 6585)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 6585)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-26 08:14:58 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-26 08:14:58 -0500
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 2152)
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UsersControllerTest: test_13_checks_creation_of_new_user
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:58 -0500
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
UsersControllerTest: test_2_Failed_sing_up_due_to_invalid_email
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:58 -0500
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 569)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:58 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-26 08:14:59 -0500
Completed 200 OK in 240ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-26 08:14:59 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$hAnlX7VFdckjJT55NDlHAu4ueAWG8UK53bFfdCeCHCG5ry5qONcIO"], ["created_at", "2020-10-26 13:14:59.069802"], ["updated_at", "2020-10-26 13:14:59.069802"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 2257)
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_8_unauthorized_user_to_show_any_other_user
--------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:59 -0500
Completed 422 Unprocessable Entity in 10ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 5632)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UsersControllerTest: test_15_Tests_the_update_method
----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-26 08:14:59 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 560)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 1598)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_4_Failed_log_in_due_to_empty_parameters
-----------------------------------------------------------------
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "full_name" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["full_name", "new_name"], ["updated_at", "2020-10-26 13:14:59.569094"], ["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:59 -0500
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UsersControllerTest: test_5_unauthorized_for_user_for_index
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:59 -0500
Completed 200 OK in 241ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 568)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:14:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:00 -0500
Completed 200 OK in 240ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
Processing by Api::V1::UsersController#login as JSON
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-26 08:15:00 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 363)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Processing by Api::V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
UsersControllerTest: test_9_authorized_user_to_show_his_own_user
----------------------------------------------------------------
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1201)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
UsersControllerTest: test_12_authorized_for_admin_to_delete_user
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 569)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 569)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-26 08:15:00 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-26 08:15:00 -0500
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 1433)
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
UsersControllerTest: test_10_authorized_for_user_to_delete_himself
------------------------------------------------------------------
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 18ms (Views: 0.5ms | ActiveRecord: 1.6ms | Allocations: 6489)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
UsersControllerTest: test_14_check_correct_update_of_user_full_name
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-26 08:15:01 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 13ms (Views: 0.4ms | ActiveRecord: 1.3ms | Allocations: 5948)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------
UsersControllerTest: test_11_unauthorized_for_user_to_delete_another_user
-------------------------------------------------------------------------
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:01 -0500
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-26 08:15:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "full_name" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["full_name", "newname"], ["updated_at", "2020-10-26 13:15:01.095267"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 2437)
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
UsersControllerTest: test_3_Failed_log_in_due_to_invalid_email
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 569)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-26 08:15:01 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1595)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
UsersControllerTest: test_6_authorized_for_admin_for_index
----------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 269)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PropertyTest: test_Should_create_a_property
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (0.4ms)[0m  [1m[32mINSERT INTO "properties" ("hood", "city", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["hood", "Belen"], ["city", "Pizza"], ["user_id", 99], ["created_at", "2020-10-26 13:15:01.660716"], ["updated_at", "2020-10-26 13:15:01.660716"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (0.8ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-26 13:15:01.667828"], ["updated_at", "2020-10-26 13:15:01.667828"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos" WHERE "photos"."property_id" = $1[0m  [["property_id", 12]]
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1 LIMIT $2[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[36mProperty Destroy (0.4ms)[0m  [1m[31mDELETE FROM "properties" WHERE "properties"."id" = $1[0m  [["id", 12]]
  [1m[36mProperty Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "properties" WHERE "properties"."user_id" = $1 LIMIT $2[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (0.5ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-26 13:15:01.681350"], ["updated_at", "2020-10-26 13:15:01.681350"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
PhotosControllerTest: test_5_destroy_photo_by_id
------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 6.0ms | ActiveRecord: 0.2ms | Allocations: 569)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo3@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo3@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-26 08:15:02 -0500
Processing by Api::V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.5ms | Allocations: 2065)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PhotosControllerTest: test_6_create_photo
-----------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo3@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo3@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
Started DELETE "/api/v1/users/103/properties/10/photos/1" for 127.0.0.1 at 2020-10-26 08:15:02 -0500
Processing by Api::V1::PhotosController#destroy as JSON
  Parameters: {"user_id"=>"103", "property_id"=>"10", "photo_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhoto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "photos" WHERE "photos"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 6365)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
PhotosControllerTest: test_2_attemp_to_list_photos_of_another_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo3@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo3@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
Started POST "/api/v1/users/103/properties/10/photos" for 127.0.0.1 at 2020-10-26 08:15:02 -0500
Processing by Api::V1::PhotosController#create as JSON
  Parameters: {"url"=>"http://image2", "user_id"=>"103", "property_id"=>"10"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mPhoto Create (0.3ms)[0m  [1m[32mINSERT INTO "photos" ("url", "property_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["url", "http://image2"], ["property_id", 10], ["created_at", "2020-10-26 13:15:02.898574"], ["updated_at", "2020-10-26 13:15:02.898574"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued PhotoQualityJob (Job ID: 1d88f5c3-e448-4ab7-b02c-5697ad2d7d2d) to Test(default) with arguments: 298486375
Completed 201 Created in 59ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 29041)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PhotosControllerTest: test_4_show_photo_by_id
---------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo3@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo3@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/101/properties/3/photos" for 127.0.0.1 at 2020-10-26 08:15:03 -0500
Processing by Api::V1::PhotosController#index as JSON
  Parameters: {"user_id"=>"101", "property_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1596)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
PhotosControllerTest: test_1_attemp_to_list_photos_without_login
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo3@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo3@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/103/properties/10/photos/1" for 127.0.0.1 at 2020-10-26 08:15:03 -0500
Processing by Api::V1::PhotosController#show as JSON
  Parameters: {"user_id"=>"103", "property_id"=>"10", "photo_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 1570)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
PhotosControllerTest: test_3_list_photos_of_any_user_by_admin
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo3@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo3@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 560)
Started GET "/api/v1/users/1/properties/1/photos" for 127.0.0.1 at 2020-10-26 08:15:03 -0500
Processing by Api::V1::PhotosController#index as JSON
  Parameters: {"user_id"=>"1", "property_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
PhotoTest: test_Should_create,_save_and_delete_a_property,_as_well_as_inspecting_the_link
-----------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mPhoto Create (0.4ms)[0m  [1m[32mINSERT INTO "photos" ("url", "property_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["url", "http://www.linkdeprueba.com"], ["property_id", 1], ["created_at", "2020-10-26 13:15:03.929597"], ["updated_at", "2020-10-26 13:15:03.929597"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPhoto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "photos" WHERE "photos"."id" = $1[0m  [["id", 298486375]]
  [1m[36mPhoto Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "photos" WHERE "photos"."property_id" = $1 LIMIT $2[0m  [["property_id", 1], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
PhotoTest: test_Should_not_create_a_photo_without_a_property_id
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PhotoTest: test_Should_not_create_a_photo_without_a_url
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
PhotoTest: test_Should_successfully_create_a_photo
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mPhoto Create (0.3ms)[0m  [1m[32mINSERT INTO "photos" ("url", "property_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["url", "http://www.zeldadeprueba.com"], ["property_id", 2], ["created_at", "2020-10-26 13:15:03.945273"], ["updated_at", "2020-10-26 13:15:03.945273"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PropertiesControllerTest: test_check_update_of_the_city
-------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:04 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:04 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/101/properties/3/photos" for 127.0.0.1 at 2020-10-26 08:15:04 -0500
Processing by Api::V1::PhotosController#index as JSON
  Parameters: {"user_id"=>"101", "property_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."property_id" = $1[0m  [["property_id", 3]]
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.9ms | Allocations: 1849)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------
PropertiesControllerTest: test_create:_checks_the_creation_of_a_property_without_all_the_entries
------------------------------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:04 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started PUT "/api/v1/users/100/properties/1" for 127.0.0.1 at 2020-10-26 08:15:04 -0500
Processing by Api::V1::PropertiesController#update as JSON
  Parameters: {"city"=>"Sabaneta", "user_id"=>"100", "property_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :property_id[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Update (0.5ms)[0m  [1m[33mUPDATE "properties" SET "city" = $1, "user_id" = $2, "updated_at" = $3 WHERE "properties"."id" = $4[0m  [["city", "Sabaneta"], ["user_id", 100], ["updated_at", "2020-10-26 13:15:04.447559"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 1.5ms | Allocations: 2893)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
PropertiesControllerTest: test_create:_create_a_property_with_no_attributes
---------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:04 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:04 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:04 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
Started POST "/api/v1/users/100/properties/" for 127.0.0.1 at 2020-10-26 08:15:04 -0500
Processing by Api::V1::PropertiesController#create as JSON
  Parameters: {"built_type"=>"Casa", "price"=>"5000000", "admon"=>"80000", "rooms"=>"3", "user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameter: :format[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Create (0.4ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "price", "user_id", "created_at", "updated_at", "admon", "rooms") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["built_type", "Casa"], ["price", "5000000"], ["user_id", 100], ["created_at", "2020-10-26 13:15:04.876922"], ["updated_at", "2020-10-26 13:15:04.876922"], ["admon", "80000"], ["rooms", "3"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 3489)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:04 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
Started POST "/api/v1/users/100/properties/" for 127.0.0.1 at 2020-10-26 08:15:04 -0500
Processing by Api::V1::PropertiesController#create as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameter: :format[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Create (0.3ms)[0m  [1m[32mINSERT INTO "properties" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 100], ["created_at", "2020-10-26 13:15:04.947822"], ["updated_at", "2020-10-26 13:15:04.947822"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.6ms | ActiveRecord: 0.9ms | Allocations: 2578)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
PropertiesControllerTest: test_create:_checks_the_creation_with_an_invalid_param
--------------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:04 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:05 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:05 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-26 08:15:05 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
PropertiesControllerTest: test_show:_show_properties_with_a_invalid_property_id
-------------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:05 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
Started POST "/api/v1/users/100/properties/" for 127.0.0.1 at 2020-10-26 08:15:05 -0500
Processing by Api::V1::PropertiesController#create as JSON
  Parameters: {"city"=>"Medellin", "ruum"=>"5000000", "property_tax"=>"777777", "bathrooms"=>"5", "user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :ruum, :format[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Create (0.4ms)[0m  [1m[32mINSERT INTO "properties" ("city", "user_id", "created_at", "updated_at", "property_tax", "bathrooms") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["city", "Medellin"], ["user_id", 100], ["created_at", "2020-10-26 13:15:05.452751"], ["updated_at", "2020-10-26 13:15:05.452751"], ["property_tax", "777777"], ["bathrooms", "5"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 2704)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
PropertiesControllerTest: test_check_update_without_all_the_params
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:05 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:05 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:05 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/100/properties/4" for 127.0.0.1 at 2020-10-26 08:15:05 -0500
Processing by Api::V1::PropertiesController#show as JSON
  Parameters: {"user_id"=>"100", "property_id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1458)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
PropertiesControllerTest: test_create:_checks_the_creation_with_an_invalid_value
--------------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:05 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started PUT "/api/v1/users/100/properties/1" for 127.0.0.1 at 2020-10-26 08:15:05 -0500
Processing by Api::V1::PropertiesController#update as JSON
  Parameters: {"built_type"=>"Casa", "user_id"=>"100", "property_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mProperty Load (0.4ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :property_id[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Update (0.4ms)[0m  [1m[33mUPDATE "properties" SET "built_type" = $1, "user_id" = $2, "updated_at" = $3 WHERE "properties"."id" = $4[0m  [["built_type", "Casa"], ["user_id", 100], ["updated_at", "2020-10-26 13:15:05.959420"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 1.4ms | Allocations: 2734)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
PropertiesControllerTest: test_index:_enter_with_a_loged_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:05 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:06 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:06 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 239ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
Started POST "/api/v1/users/100/properties/" for 127.0.0.1 at 2020-10-26 08:15:06 -0500
Processing by Api::V1::PropertiesController#create as JSON
  Parameters: {"social_class"=>"3", "rent"=>"si", "half_bathrooms"=>"7", "user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameter: :format[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Create (0.4ms)[0m  [1m[32mINSERT INTO "properties" ("user_id", "created_at", "updated_at", "social_class", "half_bathrooms", "rent") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 100], ["created_at", "2020-10-26 13:15:06.377674"], ["updated_at", "2020-10-26 13:15:06.377674"], ["social_class", "3"], ["half_bathrooms", "7"], ["rent", "si"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.6ms | ActiveRecord: 1.1ms | Allocations: 2696)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PropertiesControllerTest: test_index:_enter_with_admin_profile
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:06 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/100/properties" for 127.0.0.1 at 2020-10-26 08:15:06 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 100]]
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.8ms | Allocations: 1583)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
PropertiesControllerTest: test_show:_show_properties_without_loged_in
---------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:06 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:06 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:06 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/101/properties" for 127.0.0.1 at 2020-10-26 08:15:06 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"101"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mProperty Load (0.4ms)[0m  [1m[34mSELECT "properties".* FROM "properties"[0m
Completed 200 OK in 7ms (Views: 3.4ms | ActiveRecord: 0.8ms | Allocations: 3672)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
PropertiesControllerTest: test_destroy:_destroy_a_valid_property_id
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:06 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/100/properties/4" for 127.0.0.1 at 2020-10-26 08:15:06 -0500
Processing by Api::V1::PropertiesController#show as JSON
  Parameters: {"user_id"=>"100", "property_id"=>"4"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
PropertiesControllerTest: test_destroy:_destroy_an_invalid_property_id
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:06 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:07 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:15:07 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
Started DELETE "/api/v1/users/100/properties/7" for 127.0.0.1 at 2020-10-26 08:15:07 -0500
Processing by Api::V1::PropertiesController#destroy as JSON
  Parameters: {"user_id"=>"100", "property_id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Destroy (0.5ms)[0m  [1m[31mDELETE FROM "properties" WHERE "properties"."id" = $1[0m  [["id", 7]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 1544)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$UCtHFlLRjtw1qW8Za4wGa.UxLRh1jBHLlozxlsABXRQWCHG7cFsl2"], ["created_at", "2020-10-26 13:15:07.402856"], ["updated_at", "2020-10-26 13:15:07.402856"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486376]]
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486376]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$MNzKOU1quAnaCtAm5hw0z.Anpig7jEDUX6FSE0lmrGW4ZlHFiTVGS"], ["created_at", "2020-10-26 13:15:07.412972"], ["updated_at", "2020-10-26 13:15:07.412972"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486377]]
  [1m[36mUser Destroy (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486377]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$fhH4EU2yHbNE6sp19gDnc.HCsevBbhTsdlwtwRWOqU.FLkcK5VtCa"], ["created_at", "2020-10-26 13:15:07.430538"], ["updated_at", "2020-10-26 13:15:07.430538"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486378]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486378]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$5ttjxxCRTAvmdpFsPt1tEuRQzVFu3lJIkO4zFguwb7MNrBRKrSkTi"], ["created_at", "2020-10-26 13:15:07.440743"], ["updated_at", "2020-10-26 13:15:07.440743"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486379]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486379]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$.NBB6ckSIsMBnntfKwdo3eYjF7U25FVmCoCVrUqWj7rK9uUMDmoki"], ["created_at", "2020-10-26 13:15:07.456293"], ["updated_at", "2020-10-26 13:15:07.456293"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486380]]
Started DELETE "/api/v1/users/100/properties/8" for 127.0.0.1 at 2020-10-26 08:15:07 -0500
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486380]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Processing by Api::V1::PropertiesController#destroy as JSON
  Parameters: {"user_id"=>"100", "property_id"=>"8"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mProperty Load (0.4ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$62OvNUR7Z10O.F1BNBnXX.FLcuCjd59JWBJNruiVnf.Fjtu0NmkiC"], ["created_at", "2020-10-26 13:15:07.471618"], ["updated_at", "2020-10-26 13:15:07.471618"], ["full_name", "valid"], ["cellphone", "3001234567"]]
Completed 404 Not Found in 8ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 1458)
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$IUyxe8E2wQHP4ahE6nC6m.12ZBKFkpWhJf/vIo15bwbltfFuR/hMO"], ["created_at", "2020-10-26 13:15:07.479878"], ["updated_at", "2020-10-26 13:15:07.479878"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.9ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486381]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (1.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486381]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.4ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486375]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$MVRNkja1rE6rRhmbiWOkO.ZHLJqxi4Uc75rFJ5RF0vXxI51dSJe1O"], ["created_at", "2020-10-26 13:15:07.495716"], ["updated_at", "2020-10-26 13:15:07.495716"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$RS2J6.TnF7SiNAuPz2rI7eoQXdctwKQG2EurDOUwfYi5kQ4UtBB2K"], ["created_at", "2020-10-26 13:15:07.501779"], ["updated_at", "2020-10-26 13:15:07.501779"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486382]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486382]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$8zJg6eWcBsCySwK078hY9OtVdHf22KRoAYPkSog8xzwCgGEzzO05y"], ["created_at", "2020-10-26 13:15:07.507381"], ["updated_at", "2020-10-26 13:15:07.507381"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486377]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486377]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$VRGUyK1j5qWpl7e5/1DbsuWsKrbdfGtxygDGBRbqtlD9ieRsyqT1C"], ["created_at", "2020-10-26 13:15:07.513428"], ["updated_at", "2020-10-26 13:15:07.513428"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486376]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486376]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486383]]
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486383]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "properties" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "properties" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (966.6ms)[0m  [1m[35mTRUNCATE TABLE "photos", "users", "properties"[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "properties" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (973.3ms)[0m  [1m[35mTRUNCATE TABLE "photos", "users", "properties"[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "properties" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "properties" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name", "cellphone") VALUES (99, 'email@email.com', '1234', '2020-10-26 13:17:51.481911', '2020-10-26 13:17:51.481911', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', '2020-10-26 13:17:51.481911', '2020-10-26 13:17:51.481911', DEFAULT, DEFAULT, DEFAULT), (100, 'ejemplo1@mail.com', '$2a$12$Cl2KVJReovBXsSmXj1RfMeSRI54sftp3ATZZXNiTiSEcaCYI6b8E2', '2020-10-26 13:17:51.481911', '2020-10-26 13:17:51.481911', FALSE, 'ejemplo1', DEFAULT), (101, 'admin@mail.com', '$2a$12$OZl24NREZD6UxudsoboAM.QYtomvPUJD2yIL29TfqD0VWDJgy6q/O', '2020-10-26 13:17:51.481911', '2020-10-26 13:17:51.481911', TRUE, DEFAULT, DEFAULT), (103, 'ejemplo3@mail.com', '$2a$12$3YO/NuzW3cvTE8kx5j1MB.Rnik9PfNpSRaQemnMErqHhJVPq402ZC', '2020-10-26 13:17:51.481911', '2020-10-26 13:17:51.481911', FALSE, DEFAULT, DEFAULT);
INSERT INTO "properties" ("id", "project", "built_type", "price", "address", "apt", "hood", "city", "private_area", "user_id", "created_at", "updated_at", "admon", "build_area", "social_class", "state", "elevator", "common_areas", "property_tax", "rooms", "bathrooms", "half_bathrooms", "parking_lot", "utility_room", "empty_property", "inhabitants", "rent", "rent_desition", "mortgage") VALUES (6, DEFAULT, DEFAULT, '5000000000', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:17:51.488957', '2020-10-26 13:17:51.488957', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (7, DEFAULT, 'casa', '50', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:17:51.488957', '2020-10-26 13:17:51.488957', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (1, DEFAULT, DEFAULT, '50000000', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:17:51.488957', '2020-10-26 13:17:51.488957', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (2, DEFAULT, 'Apartment', '50000000', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:17:51.488957', '2020-10-26 13:17:51.488957', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (3, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, 101, '2020-10-26 13:17:51.488957', '2020-10-26 13:17:51.488957', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (10, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, 103, '2020-10-26 13:17:51.488957', '2020-10-26 13:17:51.488957', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "photos" ("id", "url", "property_id", "created_at", "updated_at", "accepted_foc", "accepted_lum") VALUES (1, 'http://image', 10, '2020-10-26 13:17:51.494313', '2020-10-26 13:17:51.494313', DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, '2020-10-26 13:17:51.494313', '2020-10-26 13:17:51.494313', DEFAULT, DEFAULT)[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "properties" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name", "cellphone") VALUES (99, 'email@email.com', '1234', '2020-10-26 13:17:51.484901', '2020-10-26 13:17:51.484901', DEFAULT, DEFAULT, DEFAULT), (298486374, 'MyString', 'MyString', '2020-10-26 13:17:51.484901', '2020-10-26 13:17:51.484901', DEFAULT, DEFAULT, DEFAULT), (100, 'ejemplo1@mail.com', '$2a$12$ej3mo3I24szuxMW.EJnXgekXxL1DZnyWtPapnUKLE9.CzhYmWipBi', '2020-10-26 13:17:51.484901', '2020-10-26 13:17:51.484901', FALSE, 'ejemplo1', DEFAULT), (101, 'admin@mail.com', '$2a$12$8bOXjtXBQUFkTI0CogmqLe7i55dZj/mj35nHD1yR66cAHR9Zct5E.', '2020-10-26 13:17:51.484901', '2020-10-26 13:17:51.484901', TRUE, DEFAULT, DEFAULT), (103, 'ejemplo3@mail.com', '$2a$12$0q9BpHPfzHNghtaDJoUSY.KjueTpnUEMocN5MufD.jQ9rrW.6qgVO', '2020-10-26 13:17:51.484901', '2020-10-26 13:17:51.484901', FALSE, DEFAULT, DEFAULT);
INSERT INTO "properties" ("id", "project", "built_type", "price", "address", "apt", "hood", "city", "private_area", "user_id", "created_at", "updated_at", "admon", "build_area", "social_class", "state", "elevator", "common_areas", "property_tax", "rooms", "bathrooms", "half_bathrooms", "parking_lot", "utility_room", "empty_property", "inhabitants", "rent", "rent_desition", "mortgage") VALUES (6, DEFAULT, DEFAULT, '5000000000', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:17:51.492268', '2020-10-26 13:17:51.492268', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (7, DEFAULT, 'casa', '50', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:17:51.492268', '2020-10-26 13:17:51.492268', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (1, DEFAULT, DEFAULT, '50000000', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:17:51.492268', '2020-10-26 13:17:51.492268', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (2, DEFAULT, 'Apartment', '50000000', DEFAULT, DEFAULT, DEFAULT, 'MyString', DEFAULT, DEFAULT, '2020-10-26 13:17:51.492268', '2020-10-26 13:17:51.492268', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (3, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, 101, '2020-10-26 13:17:51.492268', '2020-10-26 13:17:51.492268', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (10, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, 103, '2020-10-26 13:17:51.492268', '2020-10-26 13:17:51.492268', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT);
INSERT INTO "photos" ("id", "url", "property_id", "created_at", "updated_at", "accepted_foc", "accepted_lum") VALUES (1, 'http://image', 10, '2020-10-26 13:17:51.498242', '2020-10-26 13:17:51.498242', DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, '2020-10-26 13:17:51.498242', '2020-10-26 13:17:51.498242', DEFAULT, DEFAULT)[0m
  [1m[35m (13.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "properties" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (21.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "properties" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
PhotosControllerTest: test_5_destroy_photo_by_id
------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
PhotosControllerTest: test_3_list_photos_of_any_user_by_admin
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:51 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 6585)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo3@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo3@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 6585)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo3@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo3@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 560)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
Started DELETE "/api/v1/users/103/properties/10/photos/1" for 127.0.0.1 at 2020-10-26 08:17:52 -0500
Processing by Api::V1::PhotosController#destroy as JSON
  Parameters: {"user_id"=>"103", "property_id"=>"10", "photo_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/api/v1/users/101/properties/3/photos" for 127.0.0.1 at 2020-10-26 08:17:52 -0500
Processing by Api::V1::PhotosController#index as JSON
  Parameters: {"user_id"=>"101", "property_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPhoto Destroy (0.5ms)[0m  [1m[31mDELETE FROM "photos" WHERE "photos"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 6690)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PhotosControllerTest: test_4_show_photo_by_id
---------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.2ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."property_id" = $1[0m  [["property_id", 3]]
Completed 200 OK in 53ms (Views: 3.1ms | ActiveRecord: 1.0ms | Allocations: 26496)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
PhotosControllerTest: test_2_attemp_to_list_photos_of_another_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo3@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo3@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 569)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo3@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo3@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 284ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 283ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 337ms (Views: 0.9ms | ActiveRecord: 0.9ms | Allocations: 560)
Started GET "/api/v1/users/103/properties/10/photos/1" for 127.0.0.1 at 2020-10-26 08:17:53 -0500
Processing by Api::V1::PhotosController#show as JSON
  Parameters: {"user_id"=>"103", "property_id"=>"10", "photo_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
Completed 200 OK in 316ms (Views: 0.9ms | ActiveRecord: 0.5ms | Allocations: 560)
Started GET "/api/v1/users/101/properties/3/photos" for 127.0.0.1 at 2020-10-26 08:17:53 -0500
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Processing by Api::V1::PhotosController#index as JSON
  Parameters: {"user_id"=>"101", "property_id"=>"3"}
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 1447)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 11ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 1599)
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PhotosControllerTest: test_6_create_photo
-----------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:53 -0500
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
PhotosControllerTest: test_1_attemp_to_list_photos_without_login
----------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:53 -0500
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 268ms (Views: 0.9ms | ActiveRecord: 0.4ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo3@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo3@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 267ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo3@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo3@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
Started POST "/api/v1/users/103/properties/10/photos" for 127.0.0.1 at 2020-10-26 08:17:54 -0500
Processing by Api::V1::PhotosController#create as JSON
  Parameters: {"url"=>"http://image2", "user_id"=>"103", "property_id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/1/properties/1/photos" for 127.0.0.1 at 2020-10-26 08:17:54 -0500
Processing by Api::V1::PhotosController#index as JSON
  Parameters: {"user_id"=>"1", "property_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$lgnPkiAKOAcB/Jn9dayJyu2nwpJYGtmwjFszlw9Wd90gxAM/4SzYC"], ["created_at", "2020-10-26 13:17:54.222939"], ["updated_at", "2020-10-26 13:17:54.222939"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486375]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (1.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486375]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$9zdRsfB0XOGxMlqq8FhD4Odnhgm.ZYoznXxesNkvXPapiHxYaDLTK"], ["created_at", "2020-10-26 13:17:54.242741"], ["updated_at", "2020-10-26 13:17:54.242741"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486376]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486376]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$CJwGGO3Q8WAcq2fYaZFQkOfbNM7g3DxafddYwG9.nQBwLV/emDEuC"], ["created_at", "2020-10-26 13:17:54.265805"], ["updated_at", "2020-10-26 13:17:54.265805"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.5ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mPhoto Create (0.7ms)[0m  [1m[32mINSERT INTO "photos" ("url", "property_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["url", "http://image2"], ["property_id", 10], ["created_at", "2020-10-26 13:17:54.271592"], ["updated_at", "2020-10-26 13:17:54.271592"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
[ActiveJob] Enqueued PhotoQualityJob (Job ID: 6fe17d29-d6c6-49fc-b3cf-a74ca0e5ea43) to Test(default) with arguments: 298486375
Completed 201 Created in 77ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 26238)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486377]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486377]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$0FAgkHMmgMVjvyIM3rLN7OCbhvz8Y1yxP9RlH0v8UilR.B9Q0yTy6"], ["created_at", "2020-10-26 13:17:54.288859"], ["updated_at", "2020-10-26 13:17:54.288859"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Ot0IW6tMYigFfVMaBtmSnuRpGOrLRlQ1NDYcDTs3V8WlHnwW..bNG"], ["created_at", "2020-10-26 13:17:54.289080"], ["updated_at", "2020-10-26 13:17:54.289080"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486378]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486378]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$CRN3xqW2s/IzeyiRb.BYxOlo22lxV7bYP19P0OZ.8T.vCXBRowMp."], ["created_at", "2020-10-26 13:17:54.311509"], ["updated_at", "2020-10-26 13:17:54.311509"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.8ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486375]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.4ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486379]]
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486379]]
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$bg6QHh1R/vTWJZ5xeJ80nuU.ElzONEz9TG9OiIFH4ZtPa2fPn1zhG"], ["created_at", "2020-10-26 13:17:54.331438"], ["updated_at", "2020-10-26 13:17:54.331438"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$6pmgdeWoXEu3C/pO50Z8AufxXBI1wyXTI89EyWppAtCTLlZ4R9KBW"], ["created_at", "2020-10-26 13:17:54.342925"], ["updated_at", "2020-10-26 13:17:54.342925"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486377]]
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486377]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486376]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486376]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$8qOXWrjLtVpIgXY75dPj7eVjtG1S5898I/vcnWqyAGujtnD8Z3ESy"], ["created_at", "2020-10-26 13:17:54.357938"], ["updated_at", "2020-10-26 13:17:54.357938"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486380]]
  [1m[36mUser Destroy (1.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486380]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$tBZx0Fez/7EArLBXNHsYdOlj.9dJMQf8pBKYsQe.lei1qlzNMPVzW"], ["created_at", "2020-10-26 13:17:54.371498"], ["updated_at", "2020-10-26 13:17:54.371498"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$IhTLSbRIj0N6Yispka8M7ugZq6VokV5S39k1/gyM/iZZgYKCgiNuO"], ["created_at", "2020-10-26 13:17:54.377326"], ["updated_at", "2020-10-26 13:17:54.377326"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486381]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486381]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 298486378]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PropertiesControllerTest: test_index:_enter_with_admin_profile
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 298486378]]
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:54 -0500
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
PropertiesControllerTest: test_destroy:_destroy_a_valid_property_id
-------------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:54 -0500
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 569)
Completed 200 OK in 252ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 569)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:54 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:54 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
Started GET "/api/v1/users/101/properties" for 127.0.0.1 at 2020-10-26 08:17:54 -0500
Started DELETE "/api/v1/users/100/properties/7" for 127.0.0.1 at 2020-10-26 08:17:54 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"101"}
Processing by Api::V1::PropertiesController#destroy as JSON
  Parameters: {"user_id"=>"100", "property_id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mProperty Load (0.4ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mProperty Load (0.4ms)[0m  [1m[34mSELECT "properties".* FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Destroy (0.7ms)[0m  [1m[31mDELETE FROM "properties" WHERE "properties"."id" = $1[0m  [["id", 7]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 1594)
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 0.9ms | Allocations: 3726)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
PropertiesControllerTest: test_create:_checks_the_creation_with_an_invalid_param
--------------------------------------------------------------------------------
-------------------------------------------------------------
PropertiesControllerTest: test_index:_enter_with_a_loged_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:54 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:54 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:55 -0500
Completed 200 OK in 243ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 568)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:55 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
Started POST "/api/v1/users/100/properties/" for 127.0.0.1 at 2020-10-26 08:17:55 -0500
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/100/properties" for 127.0.0.1 at 2020-10-26 08:17:55 -0500
Processing by Api::V1::PropertiesController#create as JSON
  Parameters: {"city"=>"Medellin", "ruum"=>"5000000", "property_tax"=>"777777", "bathrooms"=>"5", "user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :ruum, :format[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms | Allocations: 1581)
  [1m[36mProperty Create (0.4ms)[0m  [1m[32mINSERT INTO "properties" ("city", "user_id", "created_at", "updated_at", "property_tax", "bathrooms") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["city", "Medellin"], ["user_id", 100], ["created_at", "2020-10-26 13:17:55.394256"], ["updated_at", "2020-10-26 13:17:55.394256"], ["property_tax", "777777"], ["bathrooms", "5"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 201 Created in 8ms (Views: 0.6ms | ActiveRecord: 1.1ms | Allocations: 3407)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
PropertiesControllerTest: test_show:_show_properties_with_a_invalid_property_id
-------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:55 -0500
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
------------------------------------------------------------------------------------------------
PropertiesControllerTest: test_create:_checks_the_creation_of_a_property_without_all_the_entries
------------------------------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:55 -0500
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:55 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/100/properties/4" for 127.0.0.1 at 2020-10-26 08:17:55 -0500
Completed 200 OK in 240ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 560)
Processing by Api::V1::PropertiesController#show as JSON
  Parameters: {"user_id"=>"100", "property_id"=>"4"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
Started POST "/api/v1/users/100/properties/" for 127.0.0.1 at 2020-10-26 08:17:55 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::PropertiesController#create as JSON
  Parameters: {"built_type"=>"Casa", "price"=>"5000000", "admon"=>"80000", "rooms"=>"3", "user_id"=>"100"}
  [1m[36mProperty Load (0.4ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 1458)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
[31mUnpermitted parameter: :format[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PropertiesControllerTest: test_check_update_of_the_city
-------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Create (0.4ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "price", "user_id", "created_at", "updated_at", "admon", "rooms") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["built_type", "Casa"], ["price", "5000000"], ["user_id", 100], ["created_at", "2020-10-26 13:17:55.896299"], ["updated_at", "2020-10-26 13:17:55.896299"], ["admon", "80000"], ["rooms", "3"]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:55 -0500
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 2739)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
PropertiesControllerTest: test_create:_create_a_property_with_no_attributes
---------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 239ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
Started PUT "/api/v1/users/100/properties/1" for 127.0.0.1 at 2020-10-26 08:17:56 -0500
Processing by Api::V1::PropertiesController#update as JSON
  Parameters: {"city"=>"Sabaneta", "user_id"=>"100", "property_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :property_id[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
  [1m[36mProperty Update (0.4ms)[0m  [1m[33mUPDATE "properties" SET "city" = $1, "user_id" = $2, "updated_at" = $3 WHERE "properties"."id" = $4[0m  [["city", "Sabaneta"], ["user_id", 100], ["updated_at", "2020-10-26 13:17:56.392079"], ["id", 1]]
Started POST "/api/v1/users/100/properties/" for 127.0.0.1 at 2020-10-26 08:17:56 -0500
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 4110)
Processing by Api::V1::PropertiesController#create as JSON
  Parameters: {"user_id"=>"100"}
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
PropertiesControllerTest: test_destroy:_destroy_an_invalid_property_id
----------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:56 -0500
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameter: :format[0m
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Create (0.5ms)[0m  [1m[32mINSERT INTO "properties" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 100], ["created_at", "2020-10-26 13:17:56.404584"], ["updated_at", "2020-10-26 13:17:56.404584"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 0.6ms | ActiveRecord: 1.6ms | Allocations: 2578)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
PropertiesControllerTest: test_check_update_without_all_the_params
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
Started DELETE "/api/v1/users/100/properties/8" for 127.0.0.1 at 2020-10-26 08:17:56 -0500
Processing by Api::V1::PropertiesController#destroy as JSON
  Parameters: {"user_id"=>"100", "property_id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mProperty Load (0.4ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1458)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
PropertiesControllerTest: test_create:_checks_the_creation_with_an_invalid_value
--------------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:56 -0500
Started PUT "/api/v1/users/100/properties/1" for 127.0.0.1 at 2020-10-26 08:17:56 -0500
Processing by Api::V1::PropertiesController#update as JSON
  Parameters: {"built_type"=>"Casa", "user_id"=>"100", "property_id"=>"1"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :property_id[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Update (0.6ms)[0m  [1m[33mUPDATE "properties" SET "built_type" = $1, "user_id" = $2, "updated_at" = $3 WHERE "properties"."id" = $4[0m  [["built_type", "Casa"], ["user_id", 100], ["updated_at", "2020-10-26 13:17:56.907106"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 1.8ms | Allocations: 2785)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
PropertiesControllerTest: test_show:_show_properties_without_loged_in
---------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
Started POST "/api/v1/users/100/properties/" for 127.0.0.1 at 2020-10-26 08:17:57 -0500
Processing by Api::V1::PropertiesController#create as JSON
  Parameters: {"social_class"=>"3", "rent"=>"si", "half_bathrooms"=>"7", "user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameter: :format[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Create (0.5ms)[0m  [1m[32mINSERT INTO "properties" ("user_id", "created_at", "updated_at", "social_class", "half_bathrooms", "rent") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 100], ["created_at", "2020-10-26 13:17:57.394435"], ["updated_at", "2020-10-26 13:17:57.394435"], ["social_class", "3"], ["half_bathrooms", "7"], ["rent", "si"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 2721)
Completed 200 OK in 240ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Started GET "/api/v1/users/100/properties/4" for 127.0.0.1 at 2020-10-26 08:17:57 -0500
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by Api::V1::PropertiesController#show as JSON
  Parameters: {"user_id"=>"100", "property_id"=>"4"}
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 123)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:57 -0500
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
UsersControllerTest: test_12_authorized_for_admin_to_delete_user
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-26 08:17:57 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-26 08:17:57 -0500
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
UsersControllerTest: test_6_authorized_for_admin_for_index
----------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:57 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.5ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 8ms (Views: 0.4ms | ActiveRecord: 1.7ms | Allocations: 2367)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
UsersControllerTest: test_2_Failed_sing_up_due_to_invalid_email
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-26 08:17:58 -0500
Processing by Api::V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.4ms | Allocations: 2064)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UsersControllerTest: test_1_Attempt_accessing_without_logging_in_should_fail
----------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-26 08:17:58 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 3695)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
UsersControllerTest: test_9_authorized_user_to_show_his_own_user
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-26 08:17:58 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
UsersControllerTest: test_10_authorized_for_user_to_delete_himself
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-26 08:17:58 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.6ms | Allocations: 1433)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_4_Failed_log_in_due_to_empty_parameters
-----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-26 08:17:59 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = $1[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 9ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 1941)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------
UsersControllerTest: test_11_unauthorized_for_user_to_delete_another_user
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:59 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 363)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
UsersControllerTest: test_13_checks_creation_of_new_user
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 250ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 569)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-26 08:17:59 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1595)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
UsersControllerTest: test_14_check_correct_update_of_user_full_name
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-26 08:17:59 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$LcO/mP0GDUQwnViYxfqI5.8OTbcokdoN7MfAzoNdU96x57fPYJMUS"], ["created_at", "2020-10-26 13:17:59.954672"], ["updated_at", "2020-10-26 13:17:59.954672"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 1491)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
UsersControllerTest: test_3_Failed_log_in_due_to_invalid_email
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:17:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:18:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:18:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-26 08:18:00 -0500
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) AND "users"."id" != $2 LIMIT $3[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "full_name" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["full_name", "newname"], ["updated_at", "2020-10-26 13:18:00.421544"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 2462)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UsersControllerTest: test_5_unauthorized_for_user_for_index
-----------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:18:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:18:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 269)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_7_authorized_for_admin_to_show_any_user
-----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:18:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:18:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:18:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-26 08:18:00 -0500
Processing by Api::V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1029)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_8_unauthorized_user_to_show_any_other_user
--------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:18:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-26 08:18:00 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 1859)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
UsersControllerTest: test_15_Tests_the_update_method
----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:18:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:18:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 568)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-26 08:18:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 560)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-26 08:18:01 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1595)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (0.7ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-26 13:18:01.429199"], ["updated_at", "2020-10-26 13:18:01.429199"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 248ms (ActiveRecord: 0.2ms | Allocations: 359)
