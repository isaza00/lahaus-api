  [1m[35m (4.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "photos"[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "property_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "properties"[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "project" varchar, "built_type" varchar, "price" varchar, "address" varchar, "apt" varchar, "tower" varchar, "hood" varchar, "city" varchar, "private_area" varchar, "estrato" varchar, "beds" integer, "baths" integer, "contact_1" varchar, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "isadmin" boolean DEFAULT 0)[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aphotos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aphotos_on_property_id" ON "aphotos" ("property_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aphotos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "photos"[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "photos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0, CONSTRAINT "fk_rails_0d5710f200"
FOREIGN KEY ("property_id")
  REFERENCES "properties" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "photos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "aphotos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aphotos"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (11.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproperties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "tower" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "estrato" varchar DEFAULT NULL, "beds" integer DEFAULT NULL, "baths" integer DEFAULT NULL, "contact_1" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_user_id" ON "aproperties" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_price" ON "aproperties" ("price")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_hood" ON "aproperties" ("hood")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_city" ON "aproperties" ("city")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_built_type" ON "aproperties" ("built_type")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproperties" ("id","project","built_type","price","address","apt","tower","hood","city","private_area","estrato","beds","baths","contact_1","user_id","created_at","updated_at")
                     SELECT "id","project","built_type","price","address","apt","tower","hood","city","private_area","estrato","beds","baths","contact_1","user_id","created_at","updated_at" FROM "properties"[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "tower" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "estrato" varchar DEFAULT NULL, "beds" integer DEFAULT NULL, "baths" integer DEFAULT NULL, "contact_1" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e41321a67c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "properties" ("id","project","built_type","price","address","apt","tower","hood","city","private_area","estrato","beds","baths","contact_1","user_id","created_at","updated_at")
                     SELECT "id","project","built_type","price","address","apt","tower","hood","city","private_area","estrato","beds","baths","contact_1","user_id","created_at","updated_at" FROM "aproperties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aproperties"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201011143722)[0m
  [1m[35m (5.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200920140300),
(20200920142212),
(20200928162141),
(20200928194359),
(20200928195320),
(20200929012706),
(20200929014510),
(20201005185525),
(20201011142729);

[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-10-11 23:49:02.101170"], ["updated_at", "2020-10-11 23:49:02.101170"]]
  [1m[35m (5.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "5685d58ca6ed60db96db01126fefb67caa9723b5"], ["created_at", "2020-10-11 23:49:02.113543"], ["updated_at", "2020-10-11 23:49:02.113543"]]
  [1m[35m (9.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-11 23:49:02.269265', '2020-10-11 23:49:02.269265');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-11 23:49:02.269265', '2020-10-11 23:49:02.269265');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-11 23:49:02.276279', '2020-10-11 23:49:02.276279');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-11 23:49:02.276279', '2020-10-11 23:49:02.276279');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-11 23:49:02.280689', '2020-10-11 23:49:02.280689');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-11 23:49:02.280689', '2020-10-11 23:49:02.280689')[0m
  [1m[35m (12.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-11 23:49:27.458260', '2020-10-11 23:49:27.458260');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-11 23:49:27.458260', '2020-10-11 23:49:27.458260');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-11 23:49:27.462234', '2020-10-11 23:49:27.462234');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-11 23:49:27.462234', '2020-10-11 23:49:27.462234');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-11 23:49:27.471081', '2020-10-11 23:49:27.471081');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-11 23:49:27.471081', '2020-10-11 23:49:27.471081')[0m
  [1m[35m (23.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-11 23:50:16.954158', '2020-10-11 23:50:16.954158');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-11 23:50:16.954158', '2020-10-11 23:50:16.954158');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-11 23:50:16.960808', '2020-10-11 23:50:16.960808');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-11 23:50:16.960808', '2020-10-11 23:50:16.960808');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-11 23:50:16.962208', '2020-10-11 23:50:16.962208');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-11 23:50:16.962208', '2020-10-11 23:50:16.962208')[0m
  [1m[35m (10.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (4.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-11 23:50:38.439671', '2020-10-11 23:50:38.439671');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-11 23:50:38.439671', '2020-10-11 23:50:38.439671');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-11 23:50:38.441235', '2020-10-11 23:50:38.441235');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-11 23:50:38.441235', '2020-10-11 23:50:38.441235');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-11 23:50:38.442710', '2020-10-11 23:50:38.442710');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-11 23:50:38.442710', '2020-10-11 23:50:38.442710')[0m
  [1m[35m (11.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (7.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-11 23:50:53.150516', '2020-10-11 23:50:53.150516');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-11 23:50:53.150516', '2020-10-11 23:50:53.150516');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-11 23:50:53.157505', '2020-10-11 23:50:53.157505');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-11 23:50:53.157505', '2020-10-11 23:50:53.157505');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-11 23:50:53.159495', '2020-10-11 23:50:53.159495');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-11 23:50:53.159495', '2020-10-11 23:50:53.159495')[0m
  [1m[35m (9.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (4.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (6.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-11 23:51:48.350610', '2020-10-11 23:51:48.350610');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-11 23:51:48.350610', '2020-10-11 23:51:48.350610');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-11 23:51:48.359790', '2020-10-11 23:51:48.359790');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-11 23:51:48.359790', '2020-10-11 23:51:48.359790');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-11 23:51:48.361046', '2020-10-11 23:51:48.361046');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-11 23:51:48.361046', '2020-10-11 23:51:48.361046')[0m
  [1m[35m (10.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-11 23:55:43.602481', '2020-10-11 23:55:43.602481');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-11 23:55:43.602481', '2020-10-11 23:55:43.602481');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-11 23:55:43.603978', '2020-10-11 23:55:43.603978');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-11 23:55:43.603978', '2020-10-11 23:55:43.603978');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-11 23:55:43.611633', '2020-10-11 23:55:43.611633');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-11 23:55:43.611633', '2020-10-11 23:55:43.611633')[0m
  [1m[35m (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 00:22:23.249069', '2020-10-12 00:22:23.249069');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 00:22:23.249069', '2020-10-12 00:22:23.249069');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 00:22:23.250434', '2020-10-12 00:22:23.250434');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 00:22:23.250434', '2020-10-12 00:22:23.250434');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 00:22:23.261670', '2020-10-12 00:22:23.261670');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 00:22:23.261670', '2020-10-12 00:22:23.261670')[0m
  [1m[35m (236.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 00:23:19.097288', '2020-10-12 00:23:19.097288');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 00:23:19.097288', '2020-10-12 00:23:19.097288');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 00:23:19.101688', '2020-10-12 00:23:19.101688');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 00:23:19.101688', '2020-10-12 00:23:19.101688');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 00:23:19.104460', '2020-10-12 00:23:19.104460');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 00:23:19.104460', '2020-10-12 00:23:19.104460')[0m
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 00:25:47.108320', '2020-10-12 00:25:47.108320');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 00:25:47.108320', '2020-10-12 00:25:47.108320');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 00:25:47.109896', '2020-10-12 00:25:47.109896');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 00:25:47.109896', '2020-10-12 00:25:47.109896');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 00:25:47.117961', '2020-10-12 00:25:47.117961');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 00:25:47.117961', '2020-10-12 00:25:47.117961')[0m
  [1m[35m (8.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 00:27:11.389788', '2020-10-12 00:27:11.389788');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 00:27:11.389788', '2020-10-12 00:27:11.389788');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 00:27:11.391436', '2020-10-12 00:27:11.391436');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 00:27:11.391436', '2020-10-12 00:27:11.391436');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 00:27:11.392633', '2020-10-12 00:27:11.392633');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 00:27:11.392633', '2020-10-12 00:27:11.392633')[0m
  [1m[35m (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 00:43:25.669894', '2020-10-12 00:43:25.669894');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 00:43:25.669894', '2020-10-12 00:43:25.669894');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 00:43:25.671291', '2020-10-12 00:43:25.671291');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 00:43:25.671291', '2020-10-12 00:43:25.671291');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 00:43:25.672611', '2020-10-12 00:43:25.672611');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 00:43:25.672611', '2020-10-12 00:43:25.672611')[0m
  [1m[35m (9.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$zZ2BS59GU7l2tmd0L82aouvZEhL/giG794AqGYvQLXfT0Fkjo7QQu"], ["created_at", "2020-10-12 00:43:25.715084"], ["updated_at", "2020-10-12 00:43:25.715084"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$wfAqRd.l5xFH4XTkTbtq7uhYc43IfRZl0lEnT0JDh4NhxKAcSb9XG"], ["created_at", "2020-10-12 00:43:25.726058"], ["updated_at", "2020-10-12 00:43:25.726058"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (4.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (6.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 00:46:02.662781', '2020-10-12 00:46:02.662781');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 00:46:02.662781', '2020-10-12 00:46:02.662781');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 00:46:02.673903', '2020-10-12 00:46:02.673903');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 00:46:02.673903', '2020-10-12 00:46:02.673903');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 00:46:02.675191', '2020-10-12 00:46:02.675191');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 00:46:02.675191', '2020-10-12 00:46:02.675191')[0m
  [1m[35m (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$66aWBGZMiW0y6.bOEFCYLO3iJ54neZni2nzaz/ujjSlunjD5IeE5C"], ["created_at", "2020-10-12 00:46:02.724204"], ["updated_at", "2020-10-12 00:46:02.724204"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$k5K/nqhXOet/sAW/MvO81unn3ObPRrtYoH3hwgijgP66/h89CWsU."], ["created_at", "2020-10-12 00:46:02.736531"], ["updated_at", "2020-10-12 00:46:02.736531"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 00:46:20.910363', '2020-10-12 00:46:20.910363');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 00:46:20.910363', '2020-10-12 00:46:20.910363');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 00:46:20.912371', '2020-10-12 00:46:20.912371');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 00:46:20.912371', '2020-10-12 00:46:20.912371');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 00:46:20.913550', '2020-10-12 00:46:20.913550');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 00:46:20.913550', '2020-10-12 00:46:20.913550')[0m
  [1m[35m (13.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$J2xWcPeJIMFR4MaqjpG01uWEYjlpGjNwIh2HLIL7LSCMmik/cgdVG"], ["created_at", "2020-10-12 00:46:20.981190"], ["updated_at", "2020-10-12 00:46:20.981190"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$PALhgItUOY2snhBpGD.jGOvRFQQKPHBVgVM1yI5ktCfFPtYLzoFLe"], ["created_at", "2020-10-12 00:46:21.013935"], ["updated_at", "2020-10-12 00:46:21.013935"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (6.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 00:50:07.337502', '2020-10-12 00:50:07.337502');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 00:50:07.337502', '2020-10-12 00:50:07.337502');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 00:50:07.344189', '2020-10-12 00:50:07.344189');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 00:50:07.344189', '2020-10-12 00:50:07.344189');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 00:50:07.348164', '2020-10-12 00:50:07.348164');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 00:50:07.348164', '2020-10-12 00:50:07.348164')[0m
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$MKuNjkunMmo.l2YTl1afoeCsT25lo6eWBEjGEL68R1oGFdDQ.HGWi"], ["created_at", "2020-10-12 00:50:07.391832"], ["updated_at", "2020-10-12 00:50:07.391832"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$ZfmbKNcDiTxV5UtcbWviXum2E5GrC26kcf9uQpJDUhtLcnPr7IqGq"], ["created_at", "2020-10-12 00:50:07.427807"], ["updated_at", "2020-10-12 00:50:07.427807"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (2.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 00:50:47.649782', '2020-10-12 00:50:47.649782');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 00:50:47.649782', '2020-10-12 00:50:47.649782');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 00:50:47.652363', '2020-10-12 00:50:47.652363');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 00:50:47.652363', '2020-10-12 00:50:47.652363');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 00:50:47.655377', '2020-10-12 00:50:47.655377');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 00:50:47.655377', '2020-10-12 00:50:47.655377')[0m
  [1m[35m (16.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
UserTest: test_should_findasda_the_new_created_user
---------------------------------------------------
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (5.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$PJaJKDrjJ84STAq7v30KBOYg1Omp4dTk7gHVPf41JslxMnsJm5URm"], ["created_at", "2020-10-12 00:50:47.806882"], ["updated_at", "2020-10-12 00:50:47.806882"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Uu3v2Ka9qJDRiDNexTauJuRQ9IMPQD/F0eMMizskNoTHHfZjb99FK"], ["created_at", "2020-10-12 00:50:47.824796"], ["updated_at", "2020-10-12 00:50:47.824796"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:14:14.188850', '2020-10-12 01:14:14.188850');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:14:14.188850', '2020-10-12 01:14:14.188850');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:14:14.190127', '2020-10-12 01:14:14.190127');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:14:14.190127', '2020-10-12 01:14:14.190127');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:14:14.191232', '2020-10-12 01:14:14.191232');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:14:14.191232', '2020-10-12 01:14:14.191232')[0m
  [1m[35m (47.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$FFSfRXx4dRD2JYdjVvLxK.EraJesTv6BPwW5SLBhX1CPpqYevUpAq"], ["created_at", "2020-10-12 01:14:14.263306"], ["updated_at", "2020-10-12 01:14:14.263306"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$h236RkGKopQpGADs9n1bReZDVUS2luYclVs1764GalHZnS1fIuy4q"], ["created_at", "2020-10-12 01:14:14.288164"], ["updated_at", "2020-10-12 01:14:14.288164"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$1w/nPQXnavnZfO.OfIViM.gS2PX6tSCxy4Ssbn85bkHK4x.L2V75m"], ["created_at", "2020-10-12 01:14:14.299778"], ["updated_at", "2020-10-12 01:14:14.299778"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$WCkUhOWYus.9bKUXt0PcneUZQtUbOHlYG4qz3/ZMd4.1RPuLDgZLa"], ["created_at", "2020-10-12 01:14:14.315774"], ["updated_at", "2020-10-12 01:14:14.315774"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$o66lWk9d2oVhvN9ZU92T/uD0Cx4CaR59lvJObkYX3XmIIFY1zQmQe"], ["created_at", "2020-10-12 01:14:14.323470"], ["updated_at", "2020-10-12 01:14:14.323470"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$zWd6hNRSJs2bhml7HPPTh.14OXArMcU0pKgLchh2Mw/rbglq34YSe"], ["created_at", "2020-10-12 01:14:14.332022"], ["updated_at", "2020-10-12 01:14:14.332022"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (4.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$G4U7zuUE8voU9C/VOtlGie6KpZQ6nBAwQsMdLgtqzeCrxR3Q9XJQS"], ["created_at", "2020-10-12 01:14:14.349786"], ["updated_at", "2020-10-12 01:14:14.349786"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (6.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$1hadlIawPEIhCnTTHogrb.wneXs2C.wX6ZWNjTYrWwwQHEu.yOjnC"], ["created_at", "2020-10-12 01:14:14.363272"], ["updated_at", "2020-10-12 01:14:14.363272"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$fT8INBmtzZdxVp.sT2mA4OdBjBiXH3Dw48QfeaU8YUkK1sXcsdOEC"], ["created_at", "2020-10-12 01:14:14.378983"], ["updated_at", "2020-10-12 01:14:14.378983"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:14:52.193517', '2020-10-12 01:14:52.193517');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:14:52.193517', '2020-10-12 01:14:52.193517');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:14:52.195589', '2020-10-12 01:14:52.195589');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:14:52.195589', '2020-10-12 01:14:52.195589');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:14:52.197041', '2020-10-12 01:14:52.197041');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:14:52.197041', '2020-10-12 01:14:52.197041')[0m
  [1m[35m (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Z1HvfBeCrhxwspwHK39kNOZb0bTJIYaB1oHFBoMdET4IVsjqMVklK"], ["created_at", "2020-10-12 01:14:52.270941"], ["updated_at", "2020-10-12 01:14:52.270941"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$0aUmG0ZOreZxvfYGLBz/uO.DIDRtpEloZwuJouEWthH57gYd7ClQW"], ["created_at", "2020-10-12 01:14:52.298646"], ["updated_at", "2020-10-12 01:14:52.298646"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$CjjXx4otVnTyVIfiS3iumOOOZEL/pTMg2NyVJfVcXVblvgdhq9SdW"], ["created_at", "2020-10-12 01:14:52.320631"], ["updated_at", "2020-10-12 01:14:52.320631"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$wqGTY/Ib6eIvPV4s3pYXfuMG8v1ml3hOfOCG7/lzor7Ed5osy96Qy"], ["created_at", "2020-10-12 01:14:52.340894"], ["updated_at", "2020-10-12 01:14:52.340894"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$xCUSBGGcscJ8NR/NAnfKE.KVFltDW..UwkdQns6I7DobKbbVVWjfS"], ["created_at", "2020-10-12 01:14:52.362465"], ["updated_at", "2020-10-12 01:14:52.362465"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (3.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$vk.diWvE/O4afQuq7smeheZXkg5mJ6sPcydSqtR33HE4G0e616MVS"], ["created_at", "2020-10-12 01:14:52.375525"], ["updated_at", "2020-10-12 01:14:52.375525"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (3.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$MCYXK34HxQ.bYg8ncgRGqeU0l/9B2c0F3zxd/N4Jn/l78EZHs6.Pu"], ["created_at", "2020-10-12 01:14:52.391397"], ["updated_at", "2020-10-12 01:14:52.391397"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:17:54.416495', '2020-10-12 01:17:54.416495');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:17:54.416495', '2020-10-12 01:17:54.416495');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:17:54.419375', '2020-10-12 01:17:54.419375');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:17:54.419375', '2020-10-12 01:17:54.419375');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:17:54.420645', '2020-10-12 01:17:54.420645');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:17:54.420645', '2020-10-12 01:17:54.420645')[0m
  [1m[35m (21.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$dLHs3WlatpGVIBOdn55fvu7bPyVfATxlKRATJiEsLNOAWOspcDzNO"], ["created_at", "2020-10-12 01:17:54.468925"], ["updated_at", "2020-10-12 01:17:54.468925"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (5.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$taaa/tmaYJnBH5SJCVyE8ekVH8GGEkjX13vEkEwpHcPsoEGBn8mhO"], ["created_at", "2020-10-12 01:17:54.511216"], ["updated_at", "2020-10-12 01:17:54.511216"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "ejemplo1@mail.com"], ["password_digest", "$2a$04$fOFh.LkjMTxEiV2dgmA/qeECcZTKlmwFbFtx4Oyon1by0pdmYTGmm"], ["created_at", "2020-10-12 01:17:54.520131"], ["updated_at", "2020-10-12 01:17:54.520131"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$SyCE6YrUYDkQJpuoJtPalObIG46tlmSV0bjMxS2epgIKMw6hAS9ee"], ["created_at", "2020-10-12 01:17:54.532660"], ["updated_at", "2020-10-12 01:17:54.532660"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$.of.xt/vAfDu47.jBEOCBOTDn7kxJ5vHi4WZ0HXPpSnmlZ5qHuDWq"], ["created_at", "2020-10-12 01:17:54.537049"], ["updated_at", "2020-10-12 01:17:54.537049"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$AtXex6v8opyzmQeKtEA4JuHuK3rYj80DXC9vvFVbIoIFRT1lIEJHi"], ["created_at", "2020-10-12 01:17:54.549871"], ["updated_at", "2020-10-12 01:17:54.549871"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$ikYHjOA6b1j9yQgqR9XT7eJ9R1o3wtWfMxjriD2YxFwON7hJ8PhV2"], ["created_at", "2020-10-12 01:17:54.556215"], ["updated_at", "2020-10-12 01:17:54.556215"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (5.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$xAv4ffpWrcm1xolcKu4Zpua66IZ3PGThMWw1L9eu02Xkb0mnCxwz."], ["created_at", "2020-10-12 01:17:54.577782"], ["updated_at", "2020-10-12 01:17:54.577782"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (8.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$VZ3OKZTGt2CCSzoaEUU0W.Fx1uspxGqLoHlksTZL0nmbWfNnU1.ru"], ["created_at", "2020-10-12 01:17:54.597876"], ["updated_at", "2020-10-12 01:17:54.597876"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$pYcaYqK9kbL.QNAUyDLIWOvw5cAe6EKtIN8IsnD09MZf7jmkUKPNi"], ["created_at", "2020-10-12 01:17:54.611163"], ["updated_at", "2020-10-12 01:17:54.611163"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (5.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:18:14.604633', '2020-10-12 01:18:14.604633');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:18:14.604633', '2020-10-12 01:18:14.604633');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:18:14.608403', '2020-10-12 01:18:14.608403');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:18:14.608403', '2020-10-12 01:18:14.608403');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:18:14.609843', '2020-10-12 01:18:14.609843');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:18:14.609843', '2020-10-12 01:18:14.609843')[0m
  [1m[35m (11.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$gfdS.B4GJnkxpXAET8HrHOoZLj8mSJKai4sxKdPLohjaXtRgDqotu"], ["created_at", "2020-10-12 01:18:14.644665"], ["updated_at", "2020-10-12 01:18:14.644665"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$73mfZ24ogjXB6tGVjEvlGuHIN19i2ys8uE2YouJO/6Z/xvE3KGDeW"], ["created_at", "2020-10-12 01:18:14.665709"], ["updated_at", "2020-10-12 01:18:14.665709"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (6.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$aeoIPzqYmSdyynKyISYIBuNLWuOnEglEybtmc3pFv70XBT2uHLLCC"], ["created_at", "2020-10-12 01:18:14.685214"], ["updated_at", "2020-10-12 01:18:14.685214"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$2LZ0qN9n8xU5b0EDymydP.q71rZFFVImhsnaf40EbXLnNDj1M4M/O"], ["created_at", "2020-10-12 01:18:14.701204"], ["updated_at", "2020-10-12 01:18:14.701204"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (4.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$FtPsJmnUT9xY3WsQOAJf/uRU0f7OE1shY8PAh6m314t9/BzAJeH/y"], ["created_at", "2020-10-12 01:18:14.712738"], ["updated_at", "2020-10-12 01:18:14.712738"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$bPyp1ts.0ftNxYqyqvV1Cem0tHeriikXukBwFJhnXt8dSK.lF4i96"], ["created_at", "2020-10-12 01:18:14.736456"], ["updated_at", "2020-10-12 01:18:14.736456"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$C7qlI3ht04PGkG.XQgQtPemg090fpmd.zyJBrJjap9376GEmdFQwO"], ["created_at", "2020-10-12 01:18:14.749894"], ["updated_at", "2020-10-12 01:18:14.749894"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$3UAB3..7vwGy6Hkb0g2hy.mU2rUmKXnw.hq8frTrvmmWYPlny6IVi"], ["created_at", "2020-10-12 01:18:14.756034"], ["updated_at", "2020-10-12 01:18:14.756034"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$PTbFtmBXDD0DOfnRzuApFOysug5Lkl6q9/mYi4hR4PCj.e9zvluZ2"], ["created_at", "2020-10-12 01:18:14.767512"], ["updated_at", "2020-10-12 01:18:14.767512"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:20:01.339007', '2020-10-12 01:20:01.339007');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:20:01.339007', '2020-10-12 01:20:01.339007');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:20:01.340573', '2020-10-12 01:20:01.340573');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:20:01.340573', '2020-10-12 01:20:01.340573');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:20:01.347647', '2020-10-12 01:20:01.347647');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:20:01.347647', '2020-10-12 01:20:01.347647')[0m
  [1m[35m (145.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$kzYh0j.fYNI3GXU0jvem1OLIHN8rSPeLRl7a0Pu6o4XFMhvCzqBIi"], ["created_at", "2020-10-12 01:20:01.526816"], ["updated_at", "2020-10-12 01:20:01.526816"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (7.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$earmiKSWJSbhi/Pljg7H0.Yji2oO5fVAnXkVWO8j2rooCbEUkyUdy"], ["created_at", "2020-10-12 01:20:01.629265"], ["updated_at", "2020-10-12 01:20:01.629265"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$8CxBZG1hmGzdU1R3QMhZ8uQw/zSWu6sSswNuUZ2cxeannDTzkfTRO"], ["created_at", "2020-10-12 01:20:01.651170"], ["updated_at", "2020-10-12 01:20:01.651170"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (6.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$yNkKsRHJVybpGbfzKh/oputoeVJXaLMYcoi342KiwnUFP206xBmI2"], ["created_at", "2020-10-12 01:20:01.671190"], ["updated_at", "2020-10-12 01:20:01.671190"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (2.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$lCdCp3AKV314njlAjg65C.2ITG9mL0TJe6lhT8u7Fcqm.TaP1vqYG"], ["created_at", "2020-10-12 01:20:01.691710"], ["updated_at", "2020-10-12 01:20:01.691710"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$xIA5M8iWsK9UQi0gqJ4mpOtDHylg/usJwpDpQmcUhW73MJ4yqfHxa"], ["created_at", "2020-10-12 01:20:01.701366"], ["updated_at", "2020-10-12 01:20:01.701366"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (3.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$wM6fP.O1vPzJHD4BTgsdx./JucFXoXpXz96RNkg7VK8KwJx/2iV0e"], ["created_at", "2020-10-12 01:20:01.721104"], ["updated_at", "2020-10-12 01:20:01.721104"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$7aduD7iqP.nytffXBnS8A.EzhKFNnPby9OZiGBwzKqc9/lG6QkM2W"], ["created_at", "2020-10-12 01:20:01.728184"], ["updated_at", "2020-10-12 01:20:01.728184"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$GQY71N6QPfDEzieHL3lbUOqmVS3KmiDLBQGjM27exLOTSgAUJ2zTO"], ["created_at", "2020-10-12 01:20:01.739309"], ["updated_at", "2020-10-12 01:20:01.739309"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$0OuyOxlFISpgAL00DctrheHhH6Vphkm8ZHOuytuXvCpb/sjfKbTEW"], ["created_at", "2020-10-12 01:20:01.761084"], ["updated_at", "2020-10-12 01:20:01.761084"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (5.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:27:05.111850', '2020-10-12 01:27:05.111850');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:27:05.111850', '2020-10-12 01:27:05.111850');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:27:05.133532', '2020-10-12 01:27:05.133532');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:27:05.133532', '2020-10-12 01:27:05.133532');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:27:05.134788', '2020-10-12 01:27:05.134788');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:27:05.134788', '2020-10-12 01:27:05.134788')[0m
  [1m[35m (11.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$NPHOzce9/WRUdQdOqPoF9OOK9hhyrtzuFWfLkiQ4Fn4GTkn.GZTuy"], ["created_at", "2020-10-12 01:27:05.169531"], ["updated_at", "2020-10-12 01:27:05.169531"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$v5HC/AOCp83SoPCY9eEHD.0ysdY5.YFTEYi0.mcksN/0AO3SHgzyK"], ["created_at", "2020-10-12 01:27:05.211550"], ["updated_at", "2020-10-12 01:27:05.211550"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$bxNpJDcxHQ/J3h3fYv7vDO9SviJl9.YzVQeEBPYDryH7ECcB4vHZO"], ["created_at", "2020-10-12 01:27:05.223153"], ["updated_at", "2020-10-12 01:27:05.223153"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (2.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$7sMkLM8PgrH8Y7YuVz8qL.zlO/mh79BMRwS.nm5/etdswovtZGOTW"], ["created_at", "2020-10-12 01:27:05.231024"], ["updated_at", "2020-10-12 01:27:05.231024"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$B/5sUqp/xD1RXjWSj3kKyOasOkm9pVZFMo.Bq8mFPpMV1sual9aRy"], ["created_at", "2020-10-12 01:27:05.255773"], ["updated_at", "2020-10-12 01:27:05.255773"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$00FELMO2gUa8VjaCfk6K6ezgTa/aaK/nIJ298zbclLaSee5slxubi"], ["created_at", "2020-10-12 01:27:05.268105"], ["updated_at", "2020-10-12 01:27:05.268105"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$mpvcawYjUsY0UB.RUK9I3ODUIWHpiq.Kd4ocDLm2BJfVvBL6GRo3G"], ["created_at", "2020-10-12 01:27:05.283693"], ["updated_at", "2020-10-12 01:27:05.283693"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (8.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$kG759i0Oe3NFq/WJECIHkuP3bjg.arEVEzT4joN86yJc09F0pQDVe"], ["created_at", "2020-10-12 01:27:05.296432"], ["updated_at", "2020-10-12 01:27:05.296432"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$.wmh6.nupembUSiNAERYOuQTojl6e7lMdhCzwLQKpZykm161FFXbG"], ["created_at", "2020-10-12 01:27:05.324983"], ["updated_at", "2020-10-12 01:27:05.324983"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (6.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$uSAhciWGp00rtKH.YuTj2uPC5yyt6Y9CPWefdJ6m1hVeNCYlLRoWS"], ["created_at", "2020-10-12 01:27:05.342389"], ["updated_at", "2020-10-12 01:27:05.342389"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:28:30.105753', '2020-10-12 01:28:30.105753');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:28:30.105753', '2020-10-12 01:28:30.105753');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:28:30.107031', '2020-10-12 01:28:30.107031');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:28:30.107031', '2020-10-12 01:28:30.107031');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:28:30.112236', '2020-10-12 01:28:30.112236');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:28:30.112236', '2020-10-12 01:28:30.112236')[0m
  [1m[35m (9.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$39twzOd0B/wrUwxPoCAyleVcKe3gvkEMz3lNvWmwvDKhKhp35Obau"], ["created_at", "2020-10-12 01:28:30.139424"], ["updated_at", "2020-10-12 01:28:30.139424"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$X22N/iJEy0L5c7BKnyKW6e.6EFxYa3edsfcUnccf82tutYXP6cCaa"], ["created_at", "2020-10-12 01:28:30.163074"], ["updated_at", "2020-10-12 01:28:30.163074"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$6Do1utJWaFkcMysB5mm/0.syXO8dJEIeKrYlvUyA2UldbhHF7yu/K"], ["created_at", "2020-10-12 01:28:30.171634"], ["updated_at", "2020-10-12 01:28:30.171634"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$8ZF9e2XSLacUKlcUIgPz8u7HDks2dKqpHw6.YiLFu/K4lD6ld5o7y"], ["created_at", "2020-10-12 01:28:30.184628"], ["updated_at", "2020-10-12 01:28:30.184628"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Xw2dab7AW4y26qy5/rs6v.OiRRi1/SfBqkZ6/TWprVrQ7pV/l0UAe"], ["created_at", "2020-10-12 01:28:30.204474"], ["updated_at", "2020-10-12 01:28:30.204474"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (3.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$VP5QBMLbDW1GaOVVUf1SQeWbwopVdCg4BjlI7hcp3NYB.7MVls4yS"], ["created_at", "2020-10-12 01:28:30.227390"], ["updated_at", "2020-10-12 01:28:30.227390"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$W9z9Vi1s9uRp0j.8RKVwOOFWPYecl8qxsa77xs9PzD7Q5kdepFY5m"], ["created_at", "2020-10-12 01:28:30.243720"], ["updated_at", "2020-10-12 01:28:30.243720"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Kgssa1jQfp8yKPsdRGLO3eTa47xBknqiLsuH7zSoa0D9MFDElexSS"], ["created_at", "2020-10-12 01:28:30.256403"], ["updated_at", "2020-10-12 01:28:30.256403"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$h68d.pXdkLJi2wKf8b3rg.7jD8zn142oGsevc3pPl4qjHt0e2SZVy"], ["created_at", "2020-10-12 01:28:30.272749"], ["updated_at", "2020-10-12 01:28:30.272749"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$O/3B9rQobAdNAcZJ5mZPd.ZhihN1GNq2e.CjjuiHYTUigGGhG4SP6"], ["created_at", "2020-10-12 01:28:30.279800"], ["updated_at", "2020-10-12 01:28:30.279800"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$wLn8iC8ykt4jIabf/KxKbefOa1XG9Efhop6riWeeDD0JFLrXD0rle"], ["created_at", "2020-10-12 01:28:30.300569"], ["updated_at", "2020-10-12 01:28:30.300569"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$vYEEBr/mumoWrqDVN9HT7u9Ic.gTBDUO.Vaxt3swtmW0vkfArEnfW"], ["created_at", "2020-10-12 01:28:30.336798"], ["updated_at", "2020-10-12 01:28:30.336798"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:29:23.128748', '2020-10-12 01:29:23.128748');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:29:23.128748', '2020-10-12 01:29:23.128748');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:29:23.131232', '2020-10-12 01:29:23.131232');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:29:23.131232', '2020-10-12 01:29:23.131232');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:29:23.132630', '2020-10-12 01:29:23.132630');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:29:23.132630', '2020-10-12 01:29:23.132630')[0m
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$XebMCOT9IEKG0z2PhBrOP..Rk055QSn.NaXy/ckZRLwDQ57UpuZaS"], ["created_at", "2020-10-12 01:29:23.176092"], ["updated_at", "2020-10-12 01:29:23.176092"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Xvo1BlxeCAeoQWSEwtLOYe9Y4s1aiowGod7qQXu9N1Awm5Sp7uIW2"], ["created_at", "2020-10-12 01:29:23.204737"], ["updated_at", "2020-10-12 01:29:23.204737"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$jGEWj62jIXAjaJURSNI4yOuss/wsJxB/2DFrcJ/GyF/9.mGAUSiIi"], ["created_at", "2020-10-12 01:29:23.227160"], ["updated_at", "2020-10-12 01:29:23.227160"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$Bw.LnPDrPHMSoKuknrf.0Ou2xwwopkz8hK9UskW6QNd4SLGGvc3c."], ["created_at", "2020-10-12 01:29:23.230952"], ["updated_at", "2020-10-12 01:29:23.230952"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$K6nu2KfRi5ENtf8gllw5ZefxGmL86ROV5uN7RhFPeEdGmrAgtKvVC"], ["created_at", "2020-10-12 01:29:23.248737"], ["updated_at", "2020-10-12 01:29:23.248737"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$l2OSI1WpZwFwiR2.66gPYezQP0u2dDHb68WaWfIDMSaG3/UArQVzW"], ["created_at", "2020-10-12 01:29:23.271921"], ["updated_at", "2020-10-12 01:29:23.271921"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$vBe6yKpawWfaXmJZNBL97uFYAdhizBu6Hoywe1XSVXTicZrLnlp.6"], ["created_at", "2020-10-12 01:29:23.293233"], ["updated_at", "2020-10-12 01:29:23.293233"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (7.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$asbFMhtjJeLMyvJutxue4ODkweXeNm7C6GUnmULABvUAyyQf1.XNa"], ["created_at", "2020-10-12 01:29:23.319359"], ["updated_at", "2020-10-12 01:29:23.319359"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.9ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$8dNY2E38KctwcCUk4pTlvegYq7cZ9MrLcLkFXTQUE9o.xred4ST6m"], ["created_at", "2020-10-12 01:29:23.340216"], ["updated_at", "2020-10-12 01:29:23.340216"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (4.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$H7VccP33FHUxOrThkkIJa.bWfSP4i0Bh4izx0m41Y6s0H.VWdo2r6"], ["created_at", "2020-10-12 01:29:23.366826"], ["updated_at", "2020-10-12 01:29:23.366826"]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$V783o1RqYV4j7YViGBrT/eOnfwmMEUe4KDtgAt1seunVT9OmqClJK"], ["created_at", "2020-10-12 01:29:23.377174"], ["updated_at", "2020-10-12 01:29:23.377174"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$OiQrW.5tIOhTZh0Ezu/cLOS2fhHoVlAC1Hhi11pnMd5xSR9RGmamq"], ["created_at", "2020-10-12 01:29:23.392595"], ["updated_at", "2020-10-12 01:29:23.392595"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (6.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:31:44.113160', '2020-10-12 01:31:44.113160');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:31:44.113160', '2020-10-12 01:31:44.113160');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:31:44.117996', '2020-10-12 01:31:44.117996');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:31:44.117996', '2020-10-12 01:31:44.117996');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:31:44.121053', '2020-10-12 01:31:44.121053');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:31:44.121053', '2020-10-12 01:31:44.121053')[0m
  [1m[35m (9.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$XJgRQNcZpKs4f/2FrnARM.wiGXG2K44tEr/BLsRGQ92X6n.28HbTW"], ["created_at", "2020-10-12 01:31:44.158050"], ["updated_at", "2020-10-12 01:31:44.158050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Bv7jaOIPnFLUpd1e4NwMP.FEshh.4uUDW6BifJm/U8iS3W/x1431."], ["created_at", "2020-10-12 01:31:44.185865"], ["updated_at", "2020-10-12 01:31:44.185865"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$mgfIfLbGHbqFUDht1sDjt.C6CtxI51hdoRrpgv/tcUAe4iLEnMlR6"], ["created_at", "2020-10-12 01:31:44.189341"], ["updated_at", "2020-10-12 01:31:44.189341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$SJfVU9f228rlFNKCoN40Au.nSXtd5G.oJoZojUIVWHAIlSt1hNZQG"], ["created_at", "2020-10-12 01:31:44.210933"], ["updated_at", "2020-10-12 01:31:44.210933"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$ZBgeW1IcvjFxVH0VAxWLFua0NXJ4zTXBVTGpZwqLyKVTpgV6xnaTy"], ["created_at", "2020-10-12 01:31:44.236726"], ["updated_at", "2020-10-12 01:31:44.236726"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$AOsXmYXUFh7gThd1HzeggeFort.ZpzaZb8T4UJ4.d5D4bMvKdNEjq"], ["created_at", "2020-10-12 01:31:44.248049"], ["updated_at", "2020-10-12 01:31:44.248049"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$bYM02vhtQhvOe7SBMwmUb.xoOR/AaqLVj7OQfJijz5CFs3IGl3xEG"], ["created_at", "2020-10-12 01:31:44.263108"], ["updated_at", "2020-10-12 01:31:44.263108"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$/XLiF/s1OCiYcua2IKJ0luvoC9ILNDL56x84MqpV/s12x3OQm9Mlm"], ["created_at", "2020-10-12 01:31:44.287740"], ["updated_at", "2020-10-12 01:31:44.287740"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$KPrJFCy6IVlEuEWytzdlWewXmuv4nozDQ8hf9vlKmwQxA/T0sL4bi"], ["created_at", "2020-10-12 01:31:44.292494"], ["updated_at", "2020-10-12 01:31:44.292494"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (6.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$LIGDtigCnHVm4TmYFs1i2.N2rL4nOGqxq13Z.Sw7TFefoOuh4YQna"], ["created_at", "2020-10-12 01:31:44.308534"], ["updated_at", "2020-10-12 01:31:44.308534"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$4UST7Vrmpct2HE5R9gZBa.gGYq2kLo3WKa3St.XedZczGBtoBdKR6"], ["created_at", "2020-10-12 01:31:44.331824"], ["updated_at", "2020-10-12 01:31:44.331824"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$rxW0m4xS1jhm6LzNiH7f7uzaohlg6y/PtufE.ntnf5reI4pN9HX7a"], ["created_at", "2020-10-12 01:31:44.356016"], ["updated_at", "2020-10-12 01:31:44.356016"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:32:37.956199', '2020-10-12 01:32:37.956199');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:32:37.956199', '2020-10-12 01:32:37.956199');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:32:37.965744', '2020-10-12 01:32:37.965744');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:32:37.965744', '2020-10-12 01:32:37.965744');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:32:37.969218', '2020-10-12 01:32:37.969218');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:32:37.969218', '2020-10-12 01:32:37.969218')[0m
  [1m[35m (14.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Ywk3cB3HtObGooMa6ErkTOSHnjOX8ecEzNJ1k71b0PspyAo718Ati"], ["created_at", "2020-10-12 01:32:38.008797"], ["updated_at", "2020-10-12 01:32:38.008797"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$gJURmvAeDE3GoSiJ7S8rMO5Wd.ZnQSIEyxTklofoqtJMxWdx0nH8u"], ["created_at", "2020-10-12 01:32:38.029474"], ["updated_at", "2020-10-12 01:32:38.029474"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (4.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$zuQAyaaSj27YvyFlsXr9sOeuctIo.nc/H9qWcYXfYP4gnU28UXNN."], ["created_at", "2020-10-12 01:32:38.070389"], ["updated_at", "2020-10-12 01:32:38.070389"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$cD9gyQwZ8IIa8EouCRDRLuNgZKVchB.Sc.0RlkrkO7gNoAMMVURpS"], ["created_at", "2020-10-12 01:32:38.077917"], ["updated_at", "2020-10-12 01:32:38.077917"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$MM/FP4bLQH8Rd8R/P3kjVOPA5/JKIYWHteZKHhJ/lQU60z67emlcC"], ["created_at", "2020-10-12 01:32:38.110407"], ["updated_at", "2020-10-12 01:32:38.110407"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$rLyHux8nD.hPE7dK9r5V/.XET.KTDJRj6w0J6usLJCa70gILkBeZ2"], ["created_at", "2020-10-12 01:32:38.120780"], ["updated_at", "2020-10-12 01:32:38.120780"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$x6bWh9Ri9siCrWMt76xtVu/uA0dCXP8psgGydKXZ4fqaRx4VqJWSS"], ["created_at", "2020-10-12 01:32:38.146593"], ["updated_at", "2020-10-12 01:32:38.146593"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$s/urK9XTuzBkCbgve9n9AOCz5eGd4ehR.qkUgGU9VoQC/vkLiYUYC"], ["created_at", "2020-10-12 01:32:38.171020"], ["updated_at", "2020-10-12 01:32:38.171020"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$u71h8uWHnOP/xYFcwXosmOTV7Pgij8J32TWa1n7DYaEN8YiW2dn0S"], ["created_at", "2020-10-12 01:32:38.190549"], ["updated_at", "2020-10-12 01:32:38.190549"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$VwT304PtxqP.8q9zbWqdYuWPsPG4LDAZ8Iu6kF5jNcACaTzdaBQh6"], ["created_at", "2020-10-12 01:32:38.195727"], ["updated_at", "2020-10-12 01:32:38.195727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$F6oFnxVuHGWHYh8UI25nFOP85dII0s70S3RLkYlPHm4y1MYap5ZAy"], ["created_at", "2020-10-12 01:32:38.213743"], ["updated_at", "2020-10-12 01:32:38.213743"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (6.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$KwiDxH2mdRMb7Y1AhyUIzeTWjXutDs8cqrBuuLB4uwZGkMC18r1fe"], ["created_at", "2020-10-12 01:32:38.237139"], ["updated_at", "2020-10-12 01:32:38.237139"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:33:00.111744', '2020-10-12 01:33:00.111744');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:33:00.111744', '2020-10-12 01:33:00.111744');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:33:00.116416', '2020-10-12 01:33:00.116416');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:33:00.116416', '2020-10-12 01:33:00.116416');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:33:00.118415', '2020-10-12 01:33:00.118415');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:33:00.118415', '2020-10-12 01:33:00.118415')[0m
  [1m[35m (8.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$IY6SdyBDmsZMrVzeR5Kf8um30u9/fnIH7L.Pd1Sl0yoINe1NotQD."], ["created_at", "2020-10-12 01:33:00.153205"], ["updated_at", "2020-10-12 01:33:00.153205"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$nJiQDm6po0rouInPhf3YNutn8gkHhBaLvUX45iXHL/M9jrjnWHx5C"], ["created_at", "2020-10-12 01:33:00.163220"], ["updated_at", "2020-10-12 01:33:00.163220"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (12.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$JptXfyMt87xp5BlE9EXgC.sihQ95KbnTKo4FVv4Sf3WJGhAvDhjFG"], ["created_at", "2020-10-12 01:33:00.184606"], ["updated_at", "2020-10-12 01:33:00.184606"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$14uB5wkw/KORzhkxHy/U2eYRzVrB0NcDIXL7lJCxH72gZ/EL8gqpO"], ["created_at", "2020-10-12 01:33:00.214470"], ["updated_at", "2020-10-12 01:33:00.214470"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$OZFVEFGyHEIws/iqazC1W.btq8JGMpJWtdDr4WKfnYuE8MUJLTAR."], ["created_at", "2020-10-12 01:33:00.235811"], ["updated_at", "2020-10-12 01:33:00.235811"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$rRmF8a3nCVHdp6LBJ9DCHOk12hCof7/96Sx7ZKGHQWu52kEwgkGeu"], ["created_at", "2020-10-12 01:33:00.259341"], ["updated_at", "2020-10-12 01:33:00.259341"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$gHFotXhEpi79RkzFR0q.t.1/tfAA0AdFdyy6xzpDv5jjWuBoxLxm6"], ["created_at", "2020-10-12 01:33:00.276275"], ["updated_at", "2020-10-12 01:33:00.276275"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$xLPoIrYQLHAmLDbMkXZBKO1dYMg2/oSlikanHaLwMHxOtkmL8N.JK"], ["created_at", "2020-10-12 01:33:00.283750"], ["updated_at", "2020-10-12 01:33:00.283750"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$iVZkcxLOG.2CAjipqXgPcOs7raU.Klp5hIe1Ff6D/JCWAeyceJYl2"], ["created_at", "2020-10-12 01:33:00.297912"], ["updated_at", "2020-10-12 01:33:00.297912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Wt5fNRP/TJRjIAgt7CdrpOPuvQbGnQTVlRjroRLYMoECnM41q5vki"], ["created_at", "2020-10-12 01:33:00.316639"], ["updated_at", "2020-10-12 01:33:00.316639"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$hjpF7F5w3/qzdF5ibtDzI.gZjosqBBRlrdRZmgwc0.ll6ft.5MA/e"], ["created_at", "2020-10-12 01:33:00.349647"], ["updated_at", "2020-10-12 01:33:00.349647"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$UHESr9inmxYfKaF2Z36NbO93pZ/H4ExhzRKqVKbLHyXNmLo88GvvC"], ["created_at", "2020-10-12 01:33:00.356063"], ["updated_at", "2020-10-12 01:33:00.356063"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:33:50.749269', '2020-10-12 01:33:50.749269');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:33:50.749269', '2020-10-12 01:33:50.749269');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:33:50.756954', '2020-10-12 01:33:50.756954');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:33:50.756954', '2020-10-12 01:33:50.756954');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:33:50.779492', '2020-10-12 01:33:50.779492');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:33:50.779492', '2020-10-12 01:33:50.779492')[0m
  [1m[35m (8.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$oUH7PK0kKpEMSzid7kgzXek2rfuKzDmfQ7K14HVCC84rTgy.p3Qxq"], ["created_at", "2020-10-12 01:33:50.807206"], ["updated_at", "2020-10-12 01:33:50.807206"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$Dzpd0TzUKKWsjRwLadmzM.LHGE48rOINZK5GObxhfUn52ZPTnDJhq"], ["created_at", "2020-10-12 01:33:50.816112"], ["updated_at", "2020-10-12 01:33:50.816112"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$8zNiCuMQ84mw96jViBUGBuGfZQj4Q7vR8UypinQeAjYl351Iqw3ue"], ["created_at", "2020-10-12 01:33:50.833858"], ["updated_at", "2020-10-12 01:33:50.833858"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$QBVLkfM.JkZPiuDVq.x3g.ZF7aJmnlurls8pCe1XR9mkztirKsSXS"], ["created_at", "2020-10-12 01:33:50.854616"], ["updated_at", "2020-10-12 01:33:50.854616"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Wn87y/Q.BHbq4zEPQIt.4uwFfz1LfkHYmC7HF8.ZR6W9MPbnCKD0e"], ["created_at", "2020-10-12 01:33:50.873776"], ["updated_at", "2020-10-12 01:33:50.873776"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$85iZu6wc/vbvdDzvsTP9kO872PNuVBpO9CHMV7uI8XYY4YbAzpKs2"], ["created_at", "2020-10-12 01:33:50.880478"], ["updated_at", "2020-10-12 01:33:50.880478"]]
  [1m[35m (4.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$n5jc5Ej5DyEMU.jMlHd0oes2yIZJQaJ9zAcesZ/HrZedF3cZddQd6"], ["created_at", "2020-10-12 01:33:50.898434"], ["updated_at", "2020-10-12 01:33:50.898434"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$whtk0ULCUSmeSaeGFOAST.Wf9p19wx1dXWktDV4IctSS74eIoUY5K"], ["created_at", "2020-10-12 01:33:50.914233"], ["updated_at", "2020-10-12 01:33:50.914233"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$F/ljij1uUhpqATpsGyl..OHNWlrmQGF23m3cnfCz.q3FpXfeVg5By"], ["created_at", "2020-10-12 01:33:50.920509"], ["updated_at", "2020-10-12 01:33:50.920509"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$HZaCbDFMaMibUd6oZb4QiurPU96Awd4zqZu0ZI77ybj2U20GIM5r."], ["created_at", "2020-10-12 01:33:50.945706"], ["updated_at", "2020-10-12 01:33:50.945706"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (6.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$5tFs94IDZgmXjqrSPTTsAeg0Vr6RMZ7I0ilmy/seefzq63btQeGGu"], ["created_at", "2020-10-12 01:33:50.963901"], ["updated_at", "2020-10-12 01:33:50.963901"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$jN0MlbcwvVQje3gA6CjmeOrPtP2QMV7vfuNGy1cJOlIVapmsgar4G"], ["created_at", "2020-10-12 01:33:50.988217"], ["updated_at", "2020-10-12 01:33:50.988217"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (4.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$ObcEOx8ZmazJJm/Aa3ynReDly79oA1GghL2hG.UlIzvNbAW3qpDpi"], ["created_at", "2020-10-12 01:33:51.020166"], ["updated_at", "2020-10-12 01:33:51.020166"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:43:15.107808', '2020-10-12 01:43:15.107808');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:43:15.107808', '2020-10-12 01:43:15.107808');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:43:15.112681', '2020-10-12 01:43:15.112681');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:43:15.112681', '2020-10-12 01:43:15.112681');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:43:15.114391', '2020-10-12 01:43:15.114391');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:43:15.114391', '2020-10-12 01:43:15.114391')[0m
  [1m[35m (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-11 20:43:15 -0500
Processing by Api::V1::UsersController#index as JSON
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 196)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:43:31.276941', '2020-10-12 01:43:31.276941');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:43:31.276941', '2020-10-12 01:43:31.276941');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:43:31.281077', '2020-10-12 01:43:31.281077');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:43:31.281077', '2020-10-12 01:43:31.281077');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:43:31.282324', '2020-10-12 01:43:31.282324');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:43:31.282324', '2020-10-12 01:43:31.282324')[0m
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-11 20:43:31 -0500
Processing by Api::V1::UsersController#index as JSON
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 196)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:45:38.679704', '2020-10-12 01:45:38.679704');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:45:38.679704', '2020-10-12 01:45:38.679704');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:45:38.683185', '2020-10-12 01:45:38.683185');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:45:38.683185', '2020-10-12 01:45:38.683185');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:45:38.684526', '2020-10-12 01:45:38.684526');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:45:38.684526', '2020-10-12 01:45:38.684526')[0m
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-11 20:45:38 -0500
Processing by Api::V1::UsersController#index as JSON
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 196)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (3.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:53:10.385351', '2020-10-12 01:53:10.385351');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:53:10.385351', '2020-10-12 01:53:10.385351');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:53:10.389532', '2020-10-12 01:53:10.389532');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:53:10.389532', '2020-10-12 01:53:10.389532');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:53:10.395524', '2020-10-12 01:53:10.395524');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:53:10.395524', '2020-10-12 01:53:10.395524')[0m
  [1m[35m (11.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-11 20:53:10 -0500
Processing by Api::V1::UsersController#index as JSON
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 196)
  [1m[35m (3.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:56:10.513432', '2020-10-12 01:56:10.513432');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:56:10.513432', '2020-10-12 01:56:10.513432');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:56:10.514758', '2020-10-12 01:56:10.514758');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:56:10.514758', '2020-10-12 01:56:10.514758');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:56:10.515942', '2020-10-12 01:56:10.515942');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:56:10.515942', '2020-10-12 01:56:10.515942')[0m
  [1m[35m (19.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-11 20:56:10 -0500
Processing by Api::V1::UsersController#index as JSON
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 196)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (6.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:56:40.641526', '2020-10-12 01:56:40.641526');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:56:40.641526', '2020-10-12 01:56:40.641526');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:56:40.644588', '2020-10-12 01:56:40.644588');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:56:40.644588', '2020-10-12 01:56:40.644588');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:56:40.646807', '2020-10-12 01:56:40.646807');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:56:40.646807', '2020-10-12 01:56:40.646807')[0m
  [1m[35m (9.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/users/login" for 127.0.0.1 at 2020-10-11 20:56:40 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/users/signup" for 127.0.0.1 at 2020-10-11 20:56:40 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-11 20:56:40 -0500
Processing by Api::V1::UsersController#index as JSON
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms | Allocations: 196)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:57:26.799778', '2020-10-12 01:57:26.799778');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:57:26.799778', '2020-10-12 01:57:26.799778');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:57:26.803893', '2020-10-12 01:57:26.803893');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:57:26.803893', '2020-10-12 01:57:26.803893');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:57:26.807742', '2020-10-12 01:57:26.807742');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:57:26.807742', '2020-10-12 01:57:26.807742')[0m
  [1m[35m (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-11 20:57:26 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 195)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/users/login" for 127.0.0.1 at 2020-10-11 20:57:26 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/users/signup" for 127.0.0.1 at 2020-10-11 20:57:26 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 01:58:41.627134', '2020-10-12 01:58:41.627134');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 01:58:41.627134', '2020-10-12 01:58:41.627134');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 01:58:41.629768', '2020-10-12 01:58:41.629768');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 01:58:41.629768', '2020-10-12 01:58:41.629768');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 01:58:41.633472', '2020-10-12 01:58:41.633472');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 01:58:41.633472', '2020-10-12 01:58:41.633472')[0m
  [1m[35m (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-11 20:58:41 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 531)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-11 20:58:41 -0500
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-11 20:58:41 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 02:00:03.972382', '2020-10-12 02:00:03.972382');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 02:00:03.972382', '2020-10-12 02:00:03.972382');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 02:00:03.981580', '2020-10-12 02:00:03.981580');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 02:00:03.981580', '2020-10-12 02:00:03.981580');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 02:00:03.982880', '2020-10-12 02:00:03.982880');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 02:00:03.982880', '2020-10-12 02:00:03.982880')[0m
  [1m[35m (9.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-11 21:00:04 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 194)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-11 21:00:04 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 443)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-11 21:00:04 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 02:04:00.594773', '2020-10-12 02:04:00.594773');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 02:04:00.594773', '2020-10-12 02:04:00.594773');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 02:04:00.598271', '2020-10-12 02:04:00.598271');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 02:04:00.598271', '2020-10-12 02:04:00.598271');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 02:04:00.600568', '2020-10-12 02:04:00.600568');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 02:04:00.600568', '2020-10-12 02:04:00.600568')[0m
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-11 21:04:00 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 194)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-11 21:04:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 444)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-11 21:04:00 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 16:44:46.231254', '2020-10-12 16:44:46.231254');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 16:44:46.231254', '2020-10-12 16:44:46.231254');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 16:44:46.232526', '2020-10-12 16:44:46.232526');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 16:44:46.232526', '2020-10-12 16:44:46.232526');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 16:44:46.233761', '2020-10-12 16:44:46.233761');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 16:44:46.233761', '2020-10-12 16:44:46.233761')[0m
  [1m[35m (7.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 16:44:57.868108', '2020-10-12 16:44:57.868108');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 16:44:57.868108', '2020-10-12 16:44:57.868108');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 16:44:57.876105', '2020-10-12 16:44:57.876105');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 16:44:57.876105', '2020-10-12 16:44:57.876105');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 16:44:57.877369', '2020-10-12 16:44:57.877369');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 16:44:57.877369', '2020-10-12 16:44:57.877369')[0m
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 16:46:04.372941', '2020-10-12 16:46:04.372941');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 16:46:04.372941', '2020-10-12 16:46:04.372941');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 16:46:04.378625', '2020-10-12 16:46:04.378625');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 16:46:04.378625', '2020-10-12 16:46:04.378625');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 16:46:04.379862', '2020-10-12 16:46:04.379862');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 16:46:04.379862', '2020-10-12 16:46:04.379862')[0m
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 16:47:40.423290', '2020-10-12 16:47:40.423290');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 16:47:40.423290', '2020-10-12 16:47:40.423290');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 16:47:40.427172', '2020-10-12 16:47:40.427172');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 16:47:40.427172', '2020-10-12 16:47:40.427172');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 16:47:40.431112', '2020-10-12 16:47:40.431112');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 16:47:40.431112', '2020-10-12 16:47:40.431112')[0m
  [1m[35m (19.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 16:53:25.504961', '2020-10-12 16:53:25.504961');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 16:53:25.504961', '2020-10-12 16:53:25.504961');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 16:53:25.510450', '2020-10-12 16:53:25.510450');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 16:53:25.510450', '2020-10-12 16:53:25.510450');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 16:53:25.511682', '2020-10-12 16:53:25.511682');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 16:53:25.511682', '2020-10-12 16:53:25.511682')[0m
  [1m[35m (7.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 16:53:35.065646', '2020-10-12 16:53:35.065646');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 16:53:35.065646', '2020-10-12 16:53:35.065646');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 16:53:35.066999', '2020-10-12 16:53:35.066999');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 16:53:35.066999', '2020-10-12 16:53:35.066999');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 16:53:35.075397', '2020-10-12 16:53:35.075397');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 16:53:35.075397', '2020-10-12 16:53:35.075397')[0m
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 16:54:53.937252', '2020-10-12 16:54:53.937252');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 16:54:53.937252', '2020-10-12 16:54:53.937252');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 16:54:53.949141', '2020-10-12 16:54:53.949141');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 16:54:53.949141', '2020-10-12 16:54:53.949141');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 16:54:53.957489', '2020-10-12 16:54:53.957489');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 16:54:53.957489', '2020-10-12 16:54:53.957489')[0m
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProperty Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "properties" WHERE "properties"."city" = ? LIMIT ?[0m  [["city", "Medellin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 16:56:03.291938', '2020-10-12 16:56:03.291938');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 16:56:03.291938', '2020-10-12 16:56:03.291938');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 16:56:03.295393', '2020-10-12 16:56:03.295393');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 16:56:03.295393', '2020-10-12 16:56:03.295393');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 16:56:03.296585', '2020-10-12 16:56:03.296585');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 16:56:03.296585', '2020-10-12 16:56:03.296585')[0m
  [1m[35m (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProperty Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "properties" WHERE "properties"."city" = ? AND "properties"."hood" = ? LIMIT ?[0m  [["city", "Medellin"], ["hood", "Belen"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (5.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 16:56:51.959886', '2020-10-12 16:56:51.959886');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 16:56:51.959886', '2020-10-12 16:56:51.959886');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 16:56:51.961185', '2020-10-12 16:56:51.961185');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 16:56:51.961185', '2020-10-12 16:56:51.961185');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 16:56:51.964543', '2020-10-12 16:56:51.964543');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 16:56:51.964543', '2020-10-12 16:56:51.964543')[0m
  [1m[35m (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProperty Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "properties" WHERE "properties"."user_id" = ? AND "properties"."city" = ? AND "properties"."hood" = ? LIMIT ?[0m  [["user_id", 1], ["city", "Medellin"], ["hood", "Belen"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 16:57:56.581537', '2020-10-12 16:57:56.581537');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 16:57:56.581537', '2020-10-12 16:57:56.581537');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 16:57:56.587150', '2020-10-12 16:57:56.587150');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 16:57:56.587150', '2020-10-12 16:57:56.587150');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 16:57:56.594705', '2020-10-12 16:57:56.594705');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 16:57:56.594705', '2020-10-12 16:57:56.594705')[0m
  [1m[35m (9.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mProperty Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "properties" WHERE "properties"."user_id" = ? AND "properties"."city" = ? AND "properties"."hood" = ? AND "properties"."built_type" = ? LIMIT ?[0m  [["user_id", 1], ["city", "Medellin"], ["hood", "Belen"], ["built_type", "Casa"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 16:58:28.048208', '2020-10-12 16:58:28.048208');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 16:58:28.048208', '2020-10-12 16:58:28.048208');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 16:58:28.049525', '2020-10-12 16:58:28.049525');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 16:58:28.049525', '2020-10-12 16:58:28.049525');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 16:58:28.061386', '2020-10-12 16:58:28.061386');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 16:58:28.061386', '2020-10-12 16:58:28.061386')[0m
  [1m[35m (8.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 16:59:16.116130', '2020-10-12 16:59:16.116130');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 16:59:16.116130', '2020-10-12 16:59:16.116130');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 16:59:16.121445', '2020-10-12 16:59:16.121445');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 16:59:16.121445', '2020-10-12 16:59:16.121445');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 16:59:16.127290', '2020-10-12 16:59:16.127290');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 16:59:16.127290', '2020-10-12 16:59:16.127290')[0m
  [1m[35m (9.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 17:04:04.022248', '2020-10-12 17:04:04.022248');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 17:04:04.022248', '2020-10-12 17:04:04.022248');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 17:04:04.027984', '2020-10-12 17:04:04.027984');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 17:04:04.027984', '2020-10-12 17:04:04.027984');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 17:04:04.035217', '2020-10-12 17:04:04.035217');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 17:04:04.035217', '2020-10-12 17:04:04.035217')[0m
  [1m[35m (9.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 22:33:49.467954', '2020-10-12 22:33:49.467954');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 22:33:49.467954', '2020-10-12 22:33:49.467954');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 22:33:49.470298', '2020-10-12 22:33:49.470298');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 22:33:49.470298', '2020-10-12 22:33:49.470298');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 22:33:49.471631', '2020-10-12 22:33:49.471631');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 22:33:49.471631', '2020-10-12 22:33:49.471631')[0m
  [1m[35m (10.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (4.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 22:59:25.106874', '2020-10-12 22:59:25.106874');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 22:59:25.106874', '2020-10-12 22:59:25.106874');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 22:59:25.118093', '2020-10-12 22:59:25.118093');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 22:59:25.118093', '2020-10-12 22:59:25.118093');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 22:59:25.126544', '2020-10-12 22:59:25.126544');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 22:59:25.126544', '2020-10-12 22:59:25.126544')[0m
  [1m[35m (9.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$w2zOybtV/AJW3rZ7rZwF..dg7IIsap6vLh.pe9ID3UA1dPl/Q4YcO"], ["created_at", "2020-10-12 22:59:25.193592"], ["updated_at", "2020-10-12 22:59:25.193592"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (9.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$uZvUCMg8oZ3teiNAVjaiXufaXGlIlZ3SrEP1ZvW/RGSCR3jds3tjq"], ["created_at", "2020-10-12 22:59:25.290444"], ["updated_at", "2020-10-12 22:59:25.290444"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$VaLixhLOh8qsh/YTV/zu8u0kddRchNpzEtdOjrv6.nPlsGHIhGFIu"], ["created_at", "2020-10-12 22:59:25.330644"], ["updated_at", "2020-10-12 22:59:25.330644"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$MdID/NMVbLnRsdKBYfXLkeg2XGheBJ37xXd3OLUq/ja3PpcjxuQfS"], ["created_at", "2020-10-12 22:59:25.346687"], ["updated_at", "2020-10-12 22:59:25.346687"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$GNYX1iypuD8lL3tZWwWYQ.XiTGZSwLOSzVt/T6IIlLPtdRS94E0Be"], ["created_at", "2020-10-12 22:59:25.367289"], ["updated_at", "2020-10-12 22:59:25.367289"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$mJV5xyUvWycBzY5dCRtox.3pis92lXSHrdcTpjBJWBodZ7MR90nMm"], ["created_at", "2020-10-12 22:59:25.404865"], ["updated_at", "2020-10-12 22:59:25.404865"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (5.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$k6tGpPGY/CDz.ixQ9ebPHOhL2JyrApz4ATuVfheDtQqRIXPcts6Gi"], ["created_at", "2020-10-12 22:59:25.423775"], ["updated_at", "2020-10-12 22:59:25.423775"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (9.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$kAUrZLAh.UFmdULGJEZn/.poXgxEZX0FP3HaF/.vZ8sV6KSm/UL7e"], ["created_at", "2020-10-12 22:59:25.445866"], ["updated_at", "2020-10-12 22:59:25.445866"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$76g/3otgO7mA2SQdrhAaj.QTzgLHSmxeR2cBjWQJk7boIHCAmFEyK"], ["created_at", "2020-10-12 22:59:25.476667"], ["updated_at", "2020-10-12 22:59:25.476667"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$vZ0dDOjniXH1m4xiTxJUwuaiexCvVUQcRy3QLAmxf8guwCPPUjYai"], ["created_at", "2020-10-12 22:59:25.488844"], ["updated_at", "2020-10-12 22:59:25.488844"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$EhJlPK27xI0l28nI4z7cOODcJ3ovJK1GO/Ybz0XyTvDvL8bprtRBe"], ["created_at", "2020-10-12 22:59:25.513239"], ["updated_at", "2020-10-12 22:59:25.513239"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (9.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$9QditJDBXjJlL96AIFV8pupPj83saAq0//MBJwY6U5QR7nvOqI04e"], ["created_at", "2020-10-12 22:59:25.554939"], ["updated_at", "2020-10-12 22:59:25.554939"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$UzH7xmPO1t9jTBdC2HNxNeC7vOMtcywNoWgA08Ovt5MekYdkBr26y"], ["created_at", "2020-10-12 22:59:25.567730"], ["updated_at", "2020-10-12 22:59:25.567730"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:01:06.596427', '2020-10-12 23:01:06.596427');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:01:06.596427', '2020-10-12 23:01:06.596427');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:01:06.605105', '2020-10-12 23:01:06.605105');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:01:06.605105', '2020-10-12 23:01:06.605105');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:01:06.606618', '2020-10-12 23:01:06.606618');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:01:06.606618', '2020-10-12 23:01:06.606618')[0m
  [1m[35m (29.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$rm4goZTzqCw1oTrDe6sxnuFAEpMWWc3whz9ix7podihk387.6j1Zu"], ["created_at", "2020-10-12 23:01:06.674530"], ["updated_at", "2020-10-12 23:01:06.674530"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Vp4xbIQhxwvnPENfeW4adOkoIZbT8T/OtwqP8lyeGfM.QxuPVULy."], ["created_at", "2020-10-12 23:01:06.739455"], ["updated_at", "2020-10-12 23:01:06.739455"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$bZfu3K1oBR6sJMfVDdICvucSMYaPW.0olO9K.nfitUKxzPi/gE1BS"], ["created_at", "2020-10-12 23:01:06.769136"], ["updated_at", "2020-10-12 23:01:06.769136"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$L9JGmCVdctudXXMoDADnsuE3jiWP9mt7nkXj/2UoZMEpJt2FDY1zG"], ["created_at", "2020-10-12 23:01:06.785534"], ["updated_at", "2020-10-12 23:01:06.785534"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.6ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (2.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$HB64VicxxYPmtATlhLxlYOHeqM164tGkJq5W/rb/ePzgHpzjZ.jpi"], ["created_at", "2020-10-12 23:01:06.832958"], ["updated_at", "2020-10-12 23:01:06.832958"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$uAUKRNn75e.jFpo7cJjHKeuZkjkya/EqxRzPNt9X7lQVLD50d8Fei"], ["created_at", "2020-10-12 23:01:06.871055"], ["updated_at", "2020-10-12 23:01:06.871055"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (13.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$T.kviCN0W.kokoUOdIwGAe9qnQvYoqJGfZUDSV9rRsIRXma.SzWb2"], ["created_at", "2020-10-12 23:01:06.890146"], ["updated_at", "2020-10-12 23:01:06.890146"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$sh79C7UouzMbxIAKRmPCGezrr6mMIp7QqAxqRnI5ck3cy9k/Aq/aK"], ["created_at", "2020-10-12 23:01:06.918005"], ["updated_at", "2020-10-12 23:01:06.918005"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$d6BbyF1MImp47mqnKSFhq.M4daGlZ1vIqT74TDV9dM0tFq/Tbk2na"], ["created_at", "2020-10-12 23:01:06.957835"], ["updated_at", "2020-10-12 23:01:06.957835"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (2.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$eRaPh26l9g1bZfLB38m8T.2W5lBVicooQXR/yVRbDZTy7qNpShLkG"], ["created_at", "2020-10-12 23:01:06.989392"], ["updated_at", "2020-10-12 23:01:06.989392"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$Nd9V85Tje20MkR.avNTbZedFS9VZIm0EqHtv7.zR2MZHymPSolqzO"], ["created_at", "2020-10-12 23:01:06.999867"], ["updated_at", "2020-10-12 23:01:06.999867"]]
  [1m[35m (2.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$BvarDkFsY4JcxIoGLc.HuuNJOjC0ZAbRJDpKT0RUHJPYGTzue.1ly"], ["created_at", "2020-10-12 23:01:07.017674"], ["updated_at", "2020-10-12 23:01:07.017674"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (5.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:01:40.118648', '2020-10-12 23:01:40.118648');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:01:40.118648', '2020-10-12 23:01:40.118648');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:01:40.123367', '2020-10-12 23:01:40.123367');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:01:40.123367', '2020-10-12 23:01:40.123367');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:01:40.124568', '2020-10-12 23:01:40.124568');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:01:40.124568', '2020-10-12 23:01:40.124568')[0m
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$a4vmJ2CkVxO9bWUWldbbauvnOtf7H3GJwxnoWY5UqELE/1PiN26ci"], ["created_at", "2020-10-12 23:01:40.161005"], ["updated_at", "2020-10-12 23:01:40.161005"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$ayUtpai4cNB/v7Y2xVvyC.2TNH44X/RziyC3KexRtlIArnIotGBWe"], ["created_at", "2020-10-12 23:01:40.188594"], ["updated_at", "2020-10-12 23:01:40.188594"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (2.6ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$ucGqkN/UO9OuroMNMfCpnuzZGy5EDdl6lzj3pemLI7agic10RTEsW"], ["created_at", "2020-10-12 23:01:40.227664"], ["updated_at", "2020-10-12 23:01:40.227664"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$9yTfd//08aJDqD1JyHxe7urAhMThd0OM.KtZgswtATkTBaSXPYMWa"], ["created_at", "2020-10-12 23:01:40.248073"], ["updated_at", "2020-10-12 23:01:40.248073"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (4.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$2TSMJcfBYr44QJohTffWHOPTf2ttT8Etug6vnnlOmUfsbz8jAwcoy"], ["created_at", "2020-10-12 23:01:40.276257"], ["updated_at", "2020-10-12 23:01:40.276257"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$8V6mlUlUj9NtVLh2.x.Gs.AYDVdhDWe1BEDNAFOg68m2f1fk8YGjy"], ["created_at", "2020-10-12 23:01:40.282406"], ["updated_at", "2020-10-12 23:01:40.282406"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$AlxzZ8hecZDBZspGenWDkuZPcTn2OKAAA6hD54itZlIpxFX2QDh5u"], ["created_at", "2020-10-12 23:01:40.299305"], ["updated_at", "2020-10-12 23:01:40.299305"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$gaBWfUKs6pLzk0/NmIqa/.dhQ0d022R0EFMb8a4zUTN5x5L0oe0RW"], ["created_at", "2020-10-12 23:01:40.306267"], ["updated_at", "2020-10-12 23:01:40.306267"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$lEfrW9M1P41iB3KKKKMDtOasTeudVHwRzOr/ZUgf4rQpFo.1qU4p."], ["created_at", "2020-10-12 23:01:40.327144"], ["updated_at", "2020-10-12 23:01:40.327144"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$UfyGPG7ZIUGCcHMKSUaw6Ot7/VSsjwWl61XpIzbIYvUFnPRGqgbki"], ["created_at", "2020-10-12 23:01:40.351896"], ["updated_at", "2020-10-12 23:01:40.351896"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (7.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Nr/EsYfJBUzKYQwE5xaXGuTd7/QlAc.nBaP4MqJt89lWN0dsnk/A6"], ["created_at", "2020-10-12 23:01:40.372998"], ["updated_at", "2020-10-12 23:01:40.372998"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$votClDJmmkBYLhISaPXf3uB8QUOM1pNmopQFgpEVCPBcV.MVOXxVa"], ["created_at", "2020-10-12 23:01:40.401676"], ["updated_at", "2020-10-12 23:01:40.401676"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (20.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (7.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:02:03.981480', '2020-10-12 23:02:03.981480');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:02:03.981480', '2020-10-12 23:02:03.981480');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:02:03.989174', '2020-10-12 23:02:03.989174');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:02:03.989174', '2020-10-12 23:02:03.989174');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:02:03.991299', '2020-10-12 23:02:03.991299');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:02:03.991299', '2020-10-12 23:02:03.991299')[0m
  [1m[35m (39.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$c2sjN3CCwhZmBGuTme4/0.n438Oli.3V4wKs8iNyyfKjjmBxIl2JS"], ["created_at", "2020-10-12 23:02:04.057266"], ["updated_at", "2020-10-12 23:02:04.057266"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$xS9HyBTU1siXDUN9pEa/5eCMWnXhXtn3r8Q99WMydMH/AOK7SnULi"], ["created_at", "2020-10-12 23:02:04.083037"], ["updated_at", "2020-10-12 23:02:04.083037"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$qOHntB4XJh7CjpqC1Dw6ruV8/6awXTo0IdQCILDyG8BYnRi/Fnewi"], ["created_at", "2020-10-12 23:02:04.109936"], ["updated_at", "2020-10-12 23:02:04.109936"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$E40MVr87KwrChic5lB7fE.T4qj8R0NyHGRt/7.06CLYBYydFOEs7y"], ["created_at", "2020-10-12 23:02:04.113895"], ["updated_at", "2020-10-12 23:02:04.113895"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$/lPqsNN0SS/3CMyzVeWG1.mXupdAxm9xs0Paj2iBbMwHsGn.zANMu"], ["created_at", "2020-10-12 23:02:04.125751"], ["updated_at", "2020-10-12 23:02:04.125751"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$CYiYO1YHdsloTAUN6fpq/eLFX1jiCrZ4v2XeabsLNdoCH6bG/e5iy"], ["created_at", "2020-10-12 23:02:04.138739"], ["updated_at", "2020-10-12 23:02:04.138739"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (4.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$MQ7IQpxWg475TroCR1CEeuUjwhV3oqW8XaomCTn/ZZ/Hcp44dmBmq"], ["created_at", "2020-10-12 23:02:04.167370"], ["updated_at", "2020-10-12 23:02:04.167370"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Vc09mOumz/1G0JqhI4QwZ.hBfcyqGU4eW5ZMNmQeOoZKgsDjf4z7K"], ["created_at", "2020-10-12 23:02:04.186849"], ["updated_at", "2020-10-12 23:02:04.186849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$iTiTj7kcYc7tIcc7mQ/b5eFJe.QAi552/jQjrtBh69/qgyHUpoaqC"], ["created_at", "2020-10-12 23:02:04.210971"], ["updated_at", "2020-10-12 23:02:04.210971"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$FjTDcZSACaxUKyO4nYBvN.cskBDi//vwq9Viy8g8WxE7dVgCaSTY2"], ["created_at", "2020-10-12 23:02:04.229627"], ["updated_at", "2020-10-12 23:02:04.229627"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$J09YyIltFk9B3LfZxqSx1uRx6EZncixyKwRgvOMQIQcRNG4JoFyKW"], ["created_at", "2020-10-12 23:02:04.252478"], ["updated_at", "2020-10-12 23:02:04.252478"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$PziTOdxi1Mh/P45.fORTYuL26/OdNaZahNSClOMmXzWm4ZDokwt2e"], ["created_at", "2020-10-12 23:02:04.274630"], ["updated_at", "2020-10-12 23:02:04.274630"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:02:28.639803', '2020-10-12 23:02:28.639803');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:02:28.639803', '2020-10-12 23:02:28.639803');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:02:28.641199', '2020-10-12 23:02:28.641199');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:02:28.641199', '2020-10-12 23:02:28.641199');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:02:28.644652', '2020-10-12 23:02:28.644652');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:02:28.644652', '2020-10-12 23:02:28.644652')[0m
  [1m[35m (13.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$xkxGZgc1IPDpixEKxVZ5de7SITr4wJanVhrCyFCQKSc1doGBV4uhO"], ["created_at", "2020-10-12 23:02:28.689834"], ["updated_at", "2020-10-12 23:02:28.689834"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (8.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$OCa6seGxsK8PB6/bouhlGeNMHLsTK6kAJEa.YNac7asMiJg7jpRf."], ["created_at", "2020-10-12 23:02:28.714213"], ["updated_at", "2020-10-12 23:02:28.714213"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$JblS0bxOdHyseY0UT3jTjOGOEzd6JbiQrsA4TREfKwcgEapKeNM0e"], ["created_at", "2020-10-12 23:02:28.726200"], ["updated_at", "2020-10-12 23:02:28.726200"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$fnv1D6n1IXtN.OUCpAizdujSPMTgAHKa6862jWawgUY9XHLbZbELK"], ["created_at", "2020-10-12 23:02:28.741271"], ["updated_at", "2020-10-12 23:02:28.741271"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$EKZNQ2U4dczGO0f61WqltujhpaZdyIJoA3VWd8/eKBE81RUOHsa2a"], ["created_at", "2020-10-12 23:02:28.758938"], ["updated_at", "2020-10-12 23:02:28.758938"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$aEZq/.eLWiGgIbE4wi0tk.0A9dgGpVEREBHUv98E388ns/kzhnnJe"], ["created_at", "2020-10-12 23:02:28.783372"], ["updated_at", "2020-10-12 23:02:28.783372"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$4k6v/EY9kNTuVrJ4pRKCmOexXiqdBhzqhWOmnWPAtGAQ10.e7vpn."], ["created_at", "2020-10-12 23:02:28.806368"], ["updated_at", "2020-10-12 23:02:28.806368"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$qAbElcLyWRcd.PDmO8QRlOsq7BzUHikQ/Onmv5ILi5ZfNtlNRf8xK"], ["created_at", "2020-10-12 23:02:28.829673"], ["updated_at", "2020-10-12 23:02:28.829673"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$vlCU/frgtCWWbkHZoLahrOo.0VB67expfDCo6pb3iHL6u/Y0gFYR2"], ["created_at", "2020-10-12 23:02:28.850498"], ["updated_at", "2020-10-12 23:02:28.850498"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$kTCzhI.mS6IAWjTj23fEEuyk2mvAsqULvYi5JiToxDIb/KQKTdijG"], ["created_at", "2020-10-12 23:02:28.860825"], ["updated_at", "2020-10-12 23:02:28.860825"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$sSH5lY.o3FdQX2d46R/hV../vsGSJBPDnvzt8LhSUfhvdCXbGxr/K"], ["created_at", "2020-10-12 23:02:28.880645"], ["updated_at", "2020-10-12 23:02:28.880645"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$84Xo2VdRhyijk2Km2leeNe08v2/TJZHwv.wIk0hlmgs3xF9MlTSnC"], ["created_at", "2020-10-12 23:02:28.901788"], ["updated_at", "2020-10-12 23:02:28.901788"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:05:18.260441', '2020-10-12 23:05:18.260441');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:05:18.260441', '2020-10-12 23:05:18.260441');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:05:18.262024', '2020-10-12 23:05:18.262024');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:05:18.262024', '2020-10-12 23:05:18.262024');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:05:18.263285', '2020-10-12 23:05:18.263285');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:05:18.263285', '2020-10-12 23:05:18.263285')[0m
  [1m[35m (9.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$GYWffzKaHWORQn/5myKbb.QaQWCcDYtlyPgQeyCxKPT9LgPMDjdOK"], ["created_at", "2020-10-12 23:05:18.299080"], ["updated_at", "2020-10-12 23:05:18.299080"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Fbj5UKQyd5vFTqVMh5gQNOHQns3IY2Q2E0o0mgoTPqSJY93tdM32."], ["created_at", "2020-10-12 23:05:18.329787"], ["updated_at", "2020-10-12 23:05:18.329787"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$9zeqdaNjfTDGiexJKHYF.e6BIOUJha4mFlEDPI/YmzVy6WLQc6bHC"], ["created_at", "2020-10-12 23:05:18.339814"], ["updated_at", "2020-10-12 23:05:18.339814"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$hrUfD0WNIMEyvBAkIldEse4XRey7WWzzShTMUs00lXV3ceddu/NPa"], ["created_at", "2020-10-12 23:05:18.350300"], ["updated_at", "2020-10-12 23:05:18.350300"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (9.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$zyUpnRlxrDM9sThHCLhkqecSv95pxOh.6Sjg.VawYeNXP2OPB7xBK"], ["created_at", "2020-10-12 23:05:18.373594"], ["updated_at", "2020-10-12 23:05:18.373594"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$L5MO3A1GGinODhEixOnaMesRuM4cxdf6znAu4aXZ1eHmLNYzL9cpi"], ["created_at", "2020-10-12 23:05:18.393569"], ["updated_at", "2020-10-12 23:05:18.393569"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (7.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$W4vRQ1zMuCI6ZwSaE8TQx.pjpZh6.d17JCV9LHhU/f06ndI15iAcG"], ["created_at", "2020-10-12 23:05:18.413974"], ["updated_at", "2020-10-12 23:05:18.413974"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$f6fXUV69ABy4t1UcFqvlF./RxnemY6kTRe/yNICMkbJ1TXTAdGBzS"], ["created_at", "2020-10-12 23:05:18.428121"], ["updated_at", "2020-10-12 23:05:18.428121"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$6kY2VU/zr0sQWFNubIjFauBRlpTw/3wkhlphwc8HVRCRfjcqXbE.2"], ["created_at", "2020-10-12 23:05:18.467278"], ["updated_at", "2020-10-12 23:05:18.467278"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (4.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (6.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$54OInOS2nGg4f.q25jmYueFXBbf6czHGphtNtFijCZK8j81exYxKK"], ["created_at", "2020-10-12 23:05:18.489206"], ["updated_at", "2020-10-12 23:05:18.489206"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (7.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$/mWGGghuZJ68MeqUGQzNkeq3EwwW1nYXzwhYsgFjLRCtnsLYAQ3vC"], ["created_at", "2020-10-12 23:05:18.505176"], ["updated_at", "2020-10-12 23:05:18.505176"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$yaUBnErE5NfpVkOeZtDiS.2J0vPrpcM85In5ttSojnOl.qbJ5u15i"], ["created_at", "2020-10-12 23:05:18.521674"], ["updated_at", "2020-10-12 23:05:18.521674"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (6.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:07:17.543894', '2020-10-12 23:07:17.543894');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:07:17.543894', '2020-10-12 23:07:17.543894');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:07:17.545263', '2020-10-12 23:07:17.545263');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:07:17.545263', '2020-10-12 23:07:17.545263');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:07:17.548689', '2020-10-12 23:07:17.548689');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:07:17.548689', '2020-10-12 23:07:17.548689')[0m
  [1m[35m (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$DpvixkXKHD3..oGMRVLjXOThUwtPj9VqWhShYKNEir4z.Ps/lH9Qy"], ["created_at", "2020-10-12 23:07:17.588240"], ["updated_at", "2020-10-12 23:07:17.588240"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$UzBb91llblPk2Ij.rwOVaOp6XTkwX5stAlEi2.RnNelYZT4YOYHrS"], ["created_at", "2020-10-12 23:07:17.619336"], ["updated_at", "2020-10-12 23:07:17.619336"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$Q75JJLFnNpagI3w71LpFX.0tDBdDnDF2b0qlicR3PPUNjCXcBjIlW"], ["created_at", "2020-10-12 23:07:17.627586"], ["updated_at", "2020-10-12 23:07:17.627586"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$xKQQOJ0p8Ljq3X/I5Nb/S.a4F/h4.ivOmBIAXx34.dvS.vgrnGLe."], ["created_at", "2020-10-12 23:07:17.651767"], ["updated_at", "2020-10-12 23:07:17.651767"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (12.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Bf7nNNVL/fE68zjX5dG51eqciqP/qBhTmYPc2M1ROSpeGSGn92wrq"], ["created_at", "2020-10-12 23:07:17.675103"], ["updated_at", "2020-10-12 23:07:17.675103"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$xGdCd7wYhNMdfIf6FKgm9umGcmsytQxAJgqU8KfhxCia8BnP5L7Aa"], ["created_at", "2020-10-12 23:07:17.690830"], ["updated_at", "2020-10-12 23:07:17.690830"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$rGxKekEZOlr0ZrJr71yXUOX3xmt6QJ8tc5byKdAjc82IuASwQ8eOW"], ["created_at", "2020-10-12 23:07:17.702507"], ["updated_at", "2020-10-12 23:07:17.702507"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$ms8lRNcYXyEMMbA.yvrotOLdsqbFOUUHZEuVzvE0IUuuz1vv5mt16"], ["created_at", "2020-10-12 23:07:17.728609"], ["updated_at", "2020-10-12 23:07:17.728609"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$dN9P3YbmGxrl2v.Ipm0AZuH/Uk5BRIvdQJQfkfzX/j0..LDwXXcKC"], ["created_at", "2020-10-12 23:07:17.750915"], ["updated_at", "2020-10-12 23:07:17.750915"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (4.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$x22AoL2p2AI98mQrE0ukluBE1.GCy/a3tSfoRIk2SjrdS6mSz02aC"], ["created_at", "2020-10-12 23:07:17.778389"], ["updated_at", "2020-10-12 23:07:17.778389"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (8.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$j2xmraQc0l8mT25PQCp.TuVwPQCDbNU4OhJvOJ2vSJ34s.QznrxCe"], ["created_at", "2020-10-12 23:07:17.799888"], ["updated_at", "2020-10-12 23:07:17.799888"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (7.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$q8aMKp9QrcxlENZhP8u7U.z/55VKJpUwHus0TKd2wQ.72YJlUr14."], ["created_at", "2020-10-12 23:07:17.824160"], ["updated_at", "2020-10-12 23:07:17.824160"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:07:37.132847', '2020-10-12 23:07:37.132847');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:07:37.132847', '2020-10-12 23:07:37.132847');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:07:37.134260', '2020-10-12 23:07:37.134260');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:07:37.134260', '2020-10-12 23:07:37.134260');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:07:37.137716', '2020-10-12 23:07:37.137716');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:07:37.137716', '2020-10-12 23:07:37.137716')[0m
  [1m[35m (11.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$3xsp6lgkbSDCEJzKFQ5wROwRP.BuOS8bxQTotSU2VE7..r1jHsmGC"], ["created_at", "2020-10-12 23:07:37.182742"], ["updated_at", "2020-10-12 23:07:37.182742"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.9ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (3.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$3/i3f7F9T99w1y8fEUcXGOQijA0hbBqr4tBr.h0R3as9WWlYaDbhW"], ["created_at", "2020-10-12 23:07:37.248153"], ["updated_at", "2020-10-12 23:07:37.248153"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$9BgTWCpkrA8g3a.FnqrtJepcNhLLOMi6/6SVl1ujAAD7BaUluHGjK"], ["created_at", "2020-10-12 23:07:37.259808"], ["updated_at", "2020-10-12 23:07:37.259808"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$OsUr04NxVBqfaG8TQWW58eeoH8gFRL5A7pGYeobTWTNwfi7CgfwHS"], ["created_at", "2020-10-12 23:07:37.273454"], ["updated_at", "2020-10-12 23:07:37.273454"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$Yb43FO7y5Dl3XLwIqZnJ7uJMtgS7pEAnb76fApT0e8TN0RrfeNipu"], ["created_at", "2020-10-12 23:07:37.287099"], ["updated_at", "2020-10-12 23:07:37.287099"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$.y1jBQ0AP5Rd7LV79CnsHuDESW7NgB1d7N8ZOmzfEcsGZfPQLGOYC"], ["created_at", "2020-10-12 23:07:37.306691"], ["updated_at", "2020-10-12 23:07:37.306691"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$348ggVW88y1vztReNbBBveGMG7XQAiYS6XSgQIon7RmTjdzEx1djq"], ["created_at", "2020-10-12 23:07:37.314256"], ["updated_at", "2020-10-12 23:07:37.314256"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$5AELME4V5Y6Ku9S3YgWqJeeSGwbOn34G/Thm5uhjvj4sJglPb6fpC"], ["created_at", "2020-10-12 23:07:37.338730"], ["updated_at", "2020-10-12 23:07:37.338730"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (3.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$RqlHwcI7p35/Jz8QXhFNiObGkzugF54kA6CJ74PFUqaGdWDAz97EG"], ["created_at", "2020-10-12 23:07:37.357573"], ["updated_at", "2020-10-12 23:07:37.357573"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$6Lg.MV5mCxXSDH.lxMYxnewRSncYpn.BmQNeZZ60cwaF7tbfQywYy"], ["created_at", "2020-10-12 23:07:37.380624"], ["updated_at", "2020-10-12 23:07:37.380624"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$7Cuz6LBbpdxMQ8VyXlU15uCkKDduKAsWX3n9zW62jBAwvlShlpYsy"], ["created_at", "2020-10-12 23:07:37.403804"], ["updated_at", "2020-10-12 23:07:37.403804"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$wmqncyviS.xGfVZGbckkDe39x2K9k0VAFz2w8EQ73GrQUj.czhhaa"], ["created_at", "2020-10-12 23:07:37.430318"], ["updated_at", "2020-10-12 23:07:37.430318"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:07:53.305017', '2020-10-12 23:07:53.305017');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:07:53.305017', '2020-10-12 23:07:53.305017');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:07:53.306464', '2020-10-12 23:07:53.306464');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:07:53.306464', '2020-10-12 23:07:53.306464');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:07:53.316000', '2020-10-12 23:07:53.316000');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:07:53.316000', '2020-10-12 23:07:53.316000')[0m
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$au3inmMUcs2Dhokj/7SW8.mK8PpPlcGHZTbnY9WW3pmNLUZPI2dTu"], ["created_at", "2020-10-12 23:07:53.346906"], ["updated_at", "2020-10-12 23:07:53.346906"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$y1A7BdeewGr2dOZfThZgKOErMvbqBhVCqNMAXUPt8AhAS9yGJmD0y"], ["created_at", "2020-10-12 23:07:53.383531"], ["updated_at", "2020-10-12 23:07:53.383531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$yGbfEPSx.MAzUILl6.yWs.reVlY65ORiY9g7n/x3xsc78.h4VT61K"], ["created_at", "2020-10-12 23:07:53.393628"], ["updated_at", "2020-10-12 23:07:53.393628"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$BP3jMEP6Xx/FMmtFSJjs1ekJMxT.NLb660Sd342SMBkd7E7Om8VhO"], ["created_at", "2020-10-12 23:07:53.407791"], ["updated_at", "2020-10-12 23:07:53.407791"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$L9Dk/Pem3piSITMvmjNGo.RC1Z3SO0B07yC/Eujf4d9x31RXhtKRC"], ["created_at", "2020-10-12 23:07:53.417657"], ["updated_at", "2020-10-12 23:07:53.417657"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$eKWzYDX14Quvx.mcBZicqOGqPhJlAXSZY7thtBjhwZXAYda6lNsty"], ["created_at", "2020-10-12 23:07:53.427644"], ["updated_at", "2020-10-12 23:07:53.427644"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$VayPWjglyqE87XzDuOm4WO/3sfwBPNM0n9cxZRTGvGyMJ343jYgmG"], ["created_at", "2020-10-12 23:07:53.450534"], ["updated_at", "2020-10-12 23:07:53.450534"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (8.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$.V.9VvfSqzdBUq3Hq4LMmeXn7f0JhpGvhzmxGVm8oqb8vat2EcVMG"], ["created_at", "2020-10-12 23:07:53.470864"], ["updated_at", "2020-10-12 23:07:53.470864"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$/zIT0rhNdURrWQCA6vO2sOMnlNsCSjqicEAsNn7B.vFAAUY36zSZO"], ["created_at", "2020-10-12 23:07:53.494141"], ["updated_at", "2020-10-12 23:07:53.494141"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (4.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$fhvx8IPmGsDv4ZfMniIJ.u0saavk.bhqHfhm4SUD5XYC5II/PjC9q"], ["created_at", "2020-10-12 23:07:53.514216"], ["updated_at", "2020-10-12 23:07:53.514216"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$1WtW3RNyR2na2S.i0MK6YO6cC2EfXssuYmkTDdxl11sHsndYnt7w2"], ["created_at", "2020-10-12 23:07:53.540564"], ["updated_at", "2020-10-12 23:07:53.540564"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$CEyUBxJlV0DIsWxesnPRgeVk9QXUa1df6Hlhd4r8U2/ti26HJUjh."], ["created_at", "2020-10-12 23:07:53.595410"], ["updated_at", "2020-10-12 23:07:53.595410"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.5ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (8.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:13:14.985157', '2020-10-12 23:13:14.985157');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:13:14.985157', '2020-10-12 23:13:14.985157');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:13:14.986523', '2020-10-12 23:13:14.986523');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:13:14.986523', '2020-10-12 23:13:14.986523');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:13:14.992061', '2020-10-12 23:13:14.992061');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:13:14.992061', '2020-10-12 23:13:14.992061')[0m
  [1m[35m (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$HiczGrFk2qWyuT5zjWi07uRdyjoL.TAKiZJ4ZseSq1eUfS28rHrDa"], ["created_at", "2020-10-12 23:13:15.024902"], ["updated_at", "2020-10-12 23:13:15.024902"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$VNlvr3Qi9AObNiEOEd5ktOmLzIUbn7fKqFN8yBUnkpuYpIprATdJa"], ["created_at", "2020-10-12 23:13:15.056528"], ["updated_at", "2020-10-12 23:13:15.056528"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$CdYuVQdQYcQecRd3rDXKm./jySHq0GtvBjORHFNK4gdN7H0KYbl4."], ["created_at", "2020-10-12 23:13:15.062203"], ["updated_at", "2020-10-12 23:13:15.062203"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$ySvFLtNNJSeoVmjUbtV7G.Jiks4cim0GTyT1qiWCtxyy8CMh4liWK"], ["created_at", "2020-10-12 23:13:15.074340"], ["updated_at", "2020-10-12 23:13:15.074340"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$uuREv1WYJkSz2uxQYE4NPerGd0LgwGWLFboiSUbRW7B.LGG63PMOK"], ["created_at", "2020-10-12 23:13:15.102004"], ["updated_at", "2020-10-12 23:13:15.102004"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$0IN.KrSEJN/AtWITx8ING.BtW9F434x2kLJ6kjJaU4q2zFrvWGCyK"], ["created_at", "2020-10-12 23:13:15.124077"], ["updated_at", "2020-10-12 23:13:15.124077"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$HXRS/PRzzbnKzU9CSsipOepOFmKTPMX3pl/oIaM7ENOiZbW7ttisa"], ["created_at", "2020-10-12 23:13:15.142296"], ["updated_at", "2020-10-12 23:13:15.142296"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$d1k6/O2inCLz6ZZDUoFyv.vCYgbKB/0Iy0ZqcVlH05lG4KVmfNA3e"], ["created_at", "2020-10-12 23:13:15.151687"], ["updated_at", "2020-10-12 23:13:15.151687"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$ChM0sIzBiiYA3.6epWYY3OlihC5oZKN9smo1iLFK3pCUyMqZgAl4."], ["created_at", "2020-10-12 23:13:15.166927"], ["updated_at", "2020-10-12 23:13:15.166927"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$MkppDH27xEVxfDLnLNDkDOX/unKeaE/9kyYoUcYSEwCOHLFlzKp5u"], ["created_at", "2020-10-12 23:13:15.183202"], ["updated_at", "2020-10-12 23:13:15.183202"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$n4wRdnCVEIgjlFmgSIw2DOqjm3j2iSZ/bhOTB/.AUdlDuurhcbvZS"], ["created_at", "2020-10-12 23:13:15.199197"], ["updated_at", "2020-10-12 23:13:15.199197"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$dLv0Hn17DVUKEF5R/0yjYOYhZYlet1k6qqe03TRzjcG1zjZ1ZPaOy"], ["created_at", "2020-10-12 23:13:15.217769"], ["updated_at", "2020-10-12 23:13:15.217769"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:13:41.994017', '2020-10-12 23:13:41.994017');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:13:41.994017', '2020-10-12 23:13:41.994017');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:13:41.995404', '2020-10-12 23:13:41.995404');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:13:41.995404', '2020-10-12 23:13:41.995404');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:13:42.004097', '2020-10-12 23:13:42.004097');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:13:42.004097', '2020-10-12 23:13:42.004097')[0m
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$BbtUshQ4Dtc30g1RUMHbVulIfLj4LzRypKgz1ae9GbbraO4s8T.UK"], ["created_at", "2020-10-12 23:13:42.040769"], ["updated_at", "2020-10-12 23:13:42.040769"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (9.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$6D/QcdsYH2fT8UGwNhBW6.tUYnI2UhauQyj6XknrxX4hOLKzl4xjm"], ["created_at", "2020-10-12 23:13:42.072883"], ["updated_at", "2020-10-12 23:13:42.072883"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$PkIpU/Rt3e0PDSnKjozw8.61/SWnMcVOQea7ocMMJ70Krea1oyTgi"], ["created_at", "2020-10-12 23:13:42.101426"], ["updated_at", "2020-10-12 23:13:42.101426"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$d.jbE6X9R5ode9Elt/XkbOqQU3eAcmOH7Fy6vdUJXHji9L2Af1YhO"], ["created_at", "2020-10-12 23:13:42.116757"], ["updated_at", "2020-10-12 23:13:42.116757"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$ZN7kMtQ94fu5nG4tvh8VLO06Zv/QNeGPUID3yowgo2RbzbE4MreT2"], ["created_at", "2020-10-12 23:13:42.122546"], ["updated_at", "2020-10-12 23:13:42.122546"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (4.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$myzq7dVkrMxluRF6C6oRMecKE/tJd/t6/0n7ZCpXq11ZdxoH4bBkS"], ["created_at", "2020-10-12 23:13:42.142841"], ["updated_at", "2020-10-12 23:13:42.142841"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (13.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$k.2Fq5LgWV9f/53kPZSDCulOGZ1hcRcUQcKddbnRD8a5mp05A0HQi"], ["created_at", "2020-10-12 23:13:42.158999"], ["updated_at", "2020-10-12 23:13:42.158999"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$zxCkROSXnywLyGcyoMH5aeZw6tKXPbm7/VSRY5aNt36OrJbuJMiMi"], ["created_at", "2020-10-12 23:13:42.194797"], ["updated_at", "2020-10-12 23:13:42.194797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$DMjYaKmORZjaniu7p6mtgunIdHtTvhVsMIObVMg7zpJPdyzHvFE.e"], ["created_at", "2020-10-12 23:13:42.214203"], ["updated_at", "2020-10-12 23:13:42.214203"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$w5AP0Skwoenb9clWP0BNJOPQlDle2O1uO0BfZEi2XNJ/yg9cGSO/a"], ["created_at", "2020-10-12 23:13:42.239589"], ["updated_at", "2020-10-12 23:13:42.239589"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$CAl2RG2rhia3Diix4nBReOgvTsmV5kDFRPRJRm6LlBL2jQ5BftOj."], ["created_at", "2020-10-12 23:13:42.251612"], ["updated_at", "2020-10-12 23:13:42.251612"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$yx/uvf4v.3sNgDX/oAQQE.t9l/aqtjLd0d7J6dkhVjGjINT2vN5GK"], ["created_at", "2020-10-12 23:13:42.265807"], ["updated_at", "2020-10-12 23:13:42.265807"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (1.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:15:26.376604', '2020-10-12 23:15:26.376604');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:15:26.376604', '2020-10-12 23:15:26.376604');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:15:26.385951', '2020-10-12 23:15:26.385951');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:15:26.385951', '2020-10-12 23:15:26.385951');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:15:26.387238', '2020-10-12 23:15:26.387238');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:15:26.387238', '2020-10-12 23:15:26.387238')[0m
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$l7PPFOF/1kPwWcURYNxN.OdhrqI219XlEO5ASDDod6NPFYb7C9qsi"], ["created_at", "2020-10-12 23:15:26.429067"], ["updated_at", "2020-10-12 23:15:26.429067"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$D1wOFtAj8jK4SwDKflb.ROkAkNxPVSpNTnnno9VzZUBQ4ipuOKYzq"], ["created_at", "2020-10-12 23:15:26.463207"], ["updated_at", "2020-10-12 23:15:26.463207"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (5.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$o4Ci9vbtzZp676zaKeMT6O/t4KhrJV3TsIaGbNRa3f4MB43/19Wgy"], ["created_at", "2020-10-12 23:15:26.477119"], ["updated_at", "2020-10-12 23:15:26.477119"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (4.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$rWRFZ1PendXFUo.rzaZGTeRbf3xy0movQGscRG5szVwrNko2YM0u."], ["created_at", "2020-10-12 23:15:26.491749"], ["updated_at", "2020-10-12 23:15:26.491749"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190964]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190964]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (7.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$9JLRtwxueBNXPrt9E5kziuj5UWLwa/ibdF2uonRUZpSMpNtoPVrL."], ["created_at", "2020-10-12 23:15:26.510175"], ["updated_at", "2020-10-12 23:15:26.510175"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$CPyAcmLhyvF9OT2lUc66BuIdbegz6MdUQneVvLrDQRAAJEhl3.FeC"], ["created_at", "2020-10-12 23:15:26.522483"], ["updated_at", "2020-10-12 23:15:26.522483"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$ysyT8jOlbdnUmCnis2EiP.mKSmuTLafhoL.WA6kVttXi.S9WN8wrG"], ["created_at", "2020-10-12 23:15:26.534348"], ["updated_at", "2020-10-12 23:15:26.534348"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$bmc9iO9ziC3oy0VKpCqEHevMn3kmfNZZIsmsMRqyoysq0iSYTy4IC"], ["created_at", "2020-10-12 23:15:26.551818"], ["updated_at", "2020-10-12 23:15:26.551818"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$leGgdeDZV7vLlTf5DDjE2.pswXKxbg4ukXeJ8vPYC.8nbBzP5sCii"], ["created_at", "2020-10-12 23:15:26.570855"], ["updated_at", "2020-10-12 23:15:26.570855"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$C9GBi/Gdaof6Thx1W7LOKOmdcuJlrqUqQbraoUx1fJxGRtFiUUV4S"], ["created_at", "2020-10-12 23:15:26.598814"], ["updated_at", "2020-10-12 23:15:26.598814"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$4O0TeKpr/cHbjFwrmDPnQ.hdk4rEW3aJ5WV5oYxf2y1X4ZII7BADK"], ["created_at", "2020-10-12 23:15:26.620212"], ["updated_at", "2020-10-12 23:15:26.620212"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$IbNvq8m0J83Qss2gJKZtuO6G5mIhKBzpLAn5WhPu2y5PtiNMWdNXO"], ["created_at", "2020-10-12 23:15:26.649503"], ["updated_at", "2020-10-12 23:15:26.649503"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 980190963]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:17:31.311668', '2020-10-12 23:17:31.311668');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:17:31.311668', '2020-10-12 23:17:31.311668');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:17:31.315426', '2020-10-12 23:17:31.315426');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:17:31.315426', '2020-10-12 23:17:31.315426');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:17:31.322494', '2020-10-12 23:17:31.322494');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:17:31.322494', '2020-10-12 23:17:31.322494')[0m
  [1m[35m (11.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', '2020-10-12 23:18:41.743937', '2020-10-12 23:18:41.743937');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:18:41.743937', '2020-10-12 23:18:41.743937');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:18:41.747264', '2020-10-12 23:18:41.747264');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:18:41.747264', '2020-10-12 23:18:41.747264');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:18:41.748796', '2020-10-12 23:18:41.748796');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:18:41.748796', '2020-10-12 23:18:41.748796')[0m
  [1m[35m (76.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-12 23:21:44.953727', '2020-10-12 23:21:44.953727');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:21:44.953727', '2020-10-12 23:21:44.953727');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:21:44.958744', '2020-10-12 23:21:44.958744');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:21:44.958744', '2020-10-12 23:21:44.958744');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:21:44.959963', '2020-10-12 23:21:44.959963');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:21:44.959963', '2020-10-12 23:21:44.959963')[0m
  [1m[35m (8.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (6.1ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-12 23:21:45.018142"], ["updated_at", "2020-10-12 23:21:45.018142"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos" WHERE "photos"."property_id" = ?[0m  [["property_id", 980190963]]
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-12 23:22:18.464855', '2020-10-12 23:22:18.464855');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:22:18.464855', '2020-10-12 23:22:18.464855');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:22:18.466628', '2020-10-12 23:22:18.466628');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:22:18.466628', '2020-10-12 23:22:18.466628');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:22:18.467827', '2020-10-12 23:22:18.467827');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:22:18.467827', '2020-10-12 23:22:18.467827')[0m
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (3.8ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-12 23:22:18.514107"], ["updated_at", "2020-10-12 23:22:18.514107"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos" WHERE "photos"."property_id" = ?[0m  [["property_id", 980190963]]
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[36mProperty Destroy (0.2ms)[0m  [1m[31mDELETE FROM "properties" WHERE "properties"."id" = ?[0m  [["id", 980190963]]
  [1m[36mProperty Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-12 23:22:45.183816', '2020-10-12 23:22:45.183816');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:22:45.183816', '2020-10-12 23:22:45.183816');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:22:45.185269', '2020-10-12 23:22:45.185269');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:22:45.185269', '2020-10-12 23:22:45.185269');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:22:45.186452', '2020-10-12 23:22:45.186452');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:22:45.186452', '2020-10-12 23:22:45.186452')[0m
  [1m[35m (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (2.7ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-12 23:22:45.247963"], ["updated_at", "2020-10-12 23:22:45.247963"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (3.1ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-12 23:22:45.268770"], ["updated_at", "2020-10-12 23:22:45.268770"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos" WHERE "photos"."property_id" = ?[0m  [["property_id", 980190963]]
  [1m[36mProperty Load (3.6ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[36mProperty Destroy (0.2ms)[0m  [1m[31mDELETE FROM "properties" WHERE "properties"."id" = ?[0m  [["id", 980190963]]
  [1m[36mProperty Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[35m (20.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-12 23:23:58.811849', '2020-10-12 23:23:58.811849');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:23:58.811849', '2020-10-12 23:23:58.811849');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:23:58.813352', '2020-10-12 23:23:58.813352');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:23:58.813352', '2020-10-12 23:23:58.813352');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:23:58.814564', '2020-10-12 23:23:58.814564');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:23:58.814564', '2020-10-12 23:23:58.814564')[0m
  [1m[35m (8.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (3.8ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-12 23:23:58.877005"], ["updated_at", "2020-10-12 23:23:58.877005"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos" WHERE "photos"."property_id" = ?[0m  [["property_id", 980190963]]
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[36mProperty Destroy (7.4ms)[0m  [1m[31mDELETE FROM "properties" WHERE "properties"."id" = ?[0m  [["id", 980190963]]
  [1m[36mProperty Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (1.2ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-12 23:23:58.911752"], ["updated_at", "2020-10-12 23:23:58.911752"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-12 23:24:53.323093', '2020-10-12 23:24:53.323093');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-12 23:24:53.323093', '2020-10-12 23:24:53.323093');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-12 23:24:53.324456', '2020-10-12 23:24:53.324456');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-12 23:24:53.324456', '2020-10-12 23:24:53.324456');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-12 23:24:53.325624', '2020-10-12 23:24:53.325624');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-12 23:24:53.325624', '2020-10-12 23:24:53.325624')[0m
  [1m[35m (13.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-12 18:24:53 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 194)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-12 18:24:53 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 419)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-12 18:24:53 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 22ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5510)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-12 18:24:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 338)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "photos"[0m
  [1m[35m (81.9ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "property_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (98.0ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "properties"[0m
  [1m[35m (95.7ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "project" varchar, "built_type" varchar, "price" varchar, "address" varchar, "apt" varchar, "hood" varchar, "city" varchar, "private_area" varchar, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar, "build_area" varchar, "social_class" varchar, "state" varchar, "elevator" boolean, "common_areas" varchar, "property_tax" varchar, "rooms" varchar, "bathrooms" varchar, "half_bathrooms" varchar, "parking_lot" varchar, "utility_room" boolean, "empty_property" boolean, "inhabitants" boolean, "rent" varchar, "mortgage" varchar)[0m
  [1m[35m (86.5ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (86.6ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (95.3ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (100.0ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (98.5ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (77.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "isadmin" boolean DEFAULT 0, "full_name" varchar, "cellphone" varchar)[0m
  [1m[35m (87.5ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aphotos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "tindex_aphotos_on_property_id" ON "aphotos" ("property_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "aphotos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "photos"[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "photos"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0, CONSTRAINT "fk_rails_0d5710f200"
FOREIGN KEY ("property_id")
  REFERENCES "properties" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "photos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "aphotos"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aphotos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (76.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproperties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_user_id" ON "aproperties" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_price" ON "aproperties" ("price")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_hood" ON "aproperties" ("hood")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_city" ON "aproperties" ("city")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_built_type" ON "aproperties" ("built_type")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aproperties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "properties"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL, CONSTRAINT "fk_rails_e41321a67c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "properties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "aproperties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aproperties"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (85.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (99.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (78.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201013005654)[0m
  [1m[35m (77.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200920140300),
(20200920142212),
(20200928162141),
(20200928194359),
(20200928195320),
(20200929012706),
(20200929014510),
(20201005185525),
(20201011142729),
(20201011143722),
(20201013003510);

[0m
  [1m[35m (103.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-10-13 12:37:39.990115"], ["updated_at", "2020-10-13 12:37:39.990115"]]
  [1m[35m (69.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "b070afd6582e7d71893918d10e4e23953a964fb8"], ["created_at", "2020-10-13 12:37:40.073821"], ["updated_at", "2020-10-13 12:37:40.073821"]]
  [1m[35m (64.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "photos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "photos"[0m
  [1m[35m (123.4ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "property_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (123.4ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "property_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (165.7ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "properties"[0m
  [1m[35m (222.4ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "properties"[0m
  [1m[35m (176.4ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "project" varchar, "built_type" varchar, "price" varchar, "address" varchar, "apt" varchar, "hood" varchar, "city" varchar, "private_area" varchar, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar, "build_area" varchar, "social_class" varchar, "state" varchar, "elevator" boolean, "common_areas" varchar, "property_tax" varchar, "rooms" varchar, "bathrooms" varchar, "half_bathrooms" varchar, "parking_lot" varchar, "utility_room" boolean, "empty_property" boolean, "inhabitants" boolean, "rent" varchar, "mortgage" varchar)[0m
  [1m[35m (171.3ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "project" varchar, "built_type" varchar, "price" varchar, "address" varchar, "apt" varchar, "hood" varchar, "city" varchar, "private_area" varchar, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar, "build_area" varchar, "social_class" varchar, "state" varchar, "elevator" boolean, "common_areas" varchar, "property_tax" varchar, "rooms" varchar, "bathrooms" varchar, "half_bathrooms" varchar, "parking_lot" varchar, "utility_room" boolean, "empty_property" boolean, "inhabitants" boolean, "rent" varchar, "mortgage" varchar)[0m
  [1m[35m (227.3ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (215.5ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (206.9ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (179.0ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (176.4ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (204.6ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (201.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (205.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (214.0ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (211.6ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (216.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "isadmin" boolean DEFAULT 0, "full_name" varchar, "cellphone" varchar)[0m
  [1m[35m (217.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "isadmin" boolean DEFAULT 0, "full_name" varchar, "cellphone" varchar)[0m
  [1m[35m (224.4ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aphotos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (201.0ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX "tindex_aphotos_on_property_id" ON "aphotos" ("property_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "aphotos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "photos"[0m
  [1m[35m (3.1ms)[0m  [1m[35mDROP TABLE "photos"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aphotos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0, CONSTRAINT "fk_rails_0d5710f200"
FOREIGN KEY ("property_id")
  REFERENCES "properties" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "tindex_aphotos_on_property_id" ON "aphotos" ("property_id")[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "aphotos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "photos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "aphotos"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "aphotos"[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE "photos"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0, CONSTRAINT "fk_rails_0d5710f200"
FOREIGN KEY ("property_id")
  REFERENCES "properties" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "photos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "aphotos"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "aphotos"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (132.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (149.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproperties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_user_id" ON "aproperties" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_price" ON "aproperties" ("price")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproperties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_hood" ON "aproperties" ("hood")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_city" ON "aproperties" ("city")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_user_id" ON "aproperties" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_built_type" ON "aproperties" ("built_type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_price" ON "aproperties" ("price")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "aproperties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_hood" ON "aproperties" ("hood")[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_city" ON "aproperties" ("city")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_built_type" ON "aproperties" ("built_type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL, CONSTRAINT "fk_rails_e41321a67c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproperties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "properties"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL, CONSTRAINT "fk_rails_e41321a67c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "properties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "aproperties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aproperties"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "properties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "aproperties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aproperties"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (166.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (189.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (172.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (169.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (145.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201013005654)[0m
  [1m[35m (202.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201013005654)[0m
  [1m[35m (164.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200920140300),
(20200920142212),
(20200928162141),
(20200928194359),
(20200928195320),
(20200929012706),
(20200929014510),
(20201005185525),
(20201011142729),
(20201011143722),
(20201013003510);

[0m
  [1m[35m (191.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200920140300),
(20200920142212),
(20200928162141),
(20200928194359),
(20200928195320),
(20200929012706),
(20200929014510),
(20201005185525),
(20201011142729),
(20201011143722),
(20201013003510);

[0m
  [1m[35m (205.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-10-13 12:38:32.328750"], ["updated_at", "2020-10-13 12:38:32.328750"]]
  [1m[35m (171.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (4.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-10-13 12:38:32.413199"], ["updated_at", "2020-10-13 12:38:32.413199"]]
  [1m[35m (126.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (4.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "b070afd6582e7d71893918d10e4e23953a964fb8"], ["created_at", "2020-10-13 12:38:32.473796"], ["updated_at", "2020-10-13 12:38:32.473796"]]
  [1m[35m (173.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "b070afd6582e7d71893918d10e4e23953a964fb8"], ["created_at", "2020-10-13 12:38:32.602086"], ["updated_at", "2020-10-13 12:38:32.602086"]]
  [1m[35m (159.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (137.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 12:38:32.751766', '2020-10-13 12:38:32.751766');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 12:38:32.751766', '2020-10-13 12:38:32.751766');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 12:38:32.754045', '2020-10-13 12:38:32.754045');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 12:38:32.754045', '2020-10-13 12:38:32.754045');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 12:38:32.756695', '2020-10-13 12:38:32.756695');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 12:38:32.756695', '2020-10-13 12:38:32.756695')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 12:38:32.781521', '2020-10-13 12:38:32.781521');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 12:38:32.781521', '2020-10-13 12:38:32.781521');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 12:38:32.787438', '2020-10-13 12:38:32.787438');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 12:38:32.787438', '2020-10-13 12:38:32.787438');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 12:38:32.790465', '2020-10-13 12:38:32.790465');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 12:38:32.790465', '2020-10-13 12:38:32.790465')[0m
  [1m[35m (155.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
  [1m[35m (159.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
PropertiesControllerTest: test_name
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 07:38:33 -0500
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 07:38:33 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 07:38:33 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-13 07:38:33 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :format[0m
Completed 401 Unauthorized in 8ms (Views: 1.6ms | ActiveRecord: 0.8ms | Allocations: 486)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 07:38:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 401 Unauthorized in 8ms (Views: 0.7ms | ActiveRecord: 1.1ms | Allocations: 381)
Completed 422 Unprocessable Entity in 48ms (Views: 0.5ms | ActiveRecord: 1.6ms | Allocations: 3565)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (476.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (3.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 12:39:24.219269', '2020-10-13 12:39:24.219269');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 12:39:24.219269', '2020-10-13 12:39:24.219269');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 12:39:24.222179', '2020-10-13 12:39:24.222179');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 12:39:24.222179', '2020-10-13 12:39:24.222179');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 12:39:24.225046', '2020-10-13 12:39:24.225046');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 12:39:24.225046', '2020-10-13 12:39:24.225046')[0m
  [1m[36mTruncate Tables (646.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (4.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 12:39:24.381854', '2020-10-13 12:39:24.381854');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 12:39:24.381854', '2020-10-13 12:39:24.381854');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 12:39:24.384831', '2020-10-13 12:39:24.384831');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 12:39:24.384831', '2020-10-13 12:39:24.384831');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 12:39:24.387780', '2020-10-13 12:39:24.387780');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 12:39:24.387780', '2020-10-13 12:39:24.387780')[0m
  [1m[35m (273.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
  [1m[35m (162.9ms)[0m  [1m[36mcommit transaction[0m
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 07:39:24 -0500
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
PropertiesControllerTest: test_name
-----------------------------------
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 212)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (509.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (543.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 12:40:15.700471', '2020-10-13 12:40:15.700471');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 12:40:15.700471', '2020-10-13 12:40:15.700471');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 12:40:15.704882', '2020-10-13 12:40:15.704882');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 12:40:15.704882', '2020-10-13 12:40:15.704882');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 12:40:15.710878', '2020-10-13 12:40:15.710878');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 12:40:15.710878', '2020-10-13 12:40:15.710878')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 12:40:15.714900', '2020-10-13 12:40:15.714900');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 12:40:15.714900', '2020-10-13 12:40:15.714900');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 12:40:15.718882', '2020-10-13 12:40:15.718882');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 12:40:15.718882', '2020-10-13 12:40:15.718882');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 12:40:15.724377', '2020-10-13 12:40:15.724377');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 12:40:15.724377', '2020-10-13 12:40:15.724377')[0m
  [1m[35m (142.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (153.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
PropertiesControllerTest: test_name
-----------------------------------
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 07:40:15 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (409.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (432.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 12:41:03.736497', '2020-10-13 12:41:03.736497');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 12:41:03.736497', '2020-10-13 12:41:03.736497');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 12:41:03.738354', '2020-10-13 12:41:03.738354');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 12:41:03.738354', '2020-10-13 12:41:03.738354');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 12:41:03.740140', '2020-10-13 12:41:03.740140');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 12:41:03.740140', '2020-10-13 12:41:03.740140')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 12:41:03.738933', '2020-10-13 12:41:03.738933');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 12:41:03.738933', '2020-10-13 12:41:03.738933');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 12:41:03.740805', '2020-10-13 12:41:03.740805');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 12:41:03.740805', '2020-10-13 12:41:03.740805');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 12:41:03.742366', '2020-10-13 12:41:03.742366');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 12:41:03.742366', '2020-10-13 12:41:03.742366')[0m
  [1m[35m (147.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
PropertiesControllerTest: test_name
-----------------------------------
  [1m[35m (184.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 07:41:03 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 212)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (355.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (359.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (1.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (3.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 12:42:57.593356', '2020-10-13 12:42:57.593356');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 12:42:57.593356', '2020-10-13 12:42:57.593356');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 12:42:57.595680', '2020-10-13 12:42:57.595680');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 12:42:57.595680', '2020-10-13 12:42:57.595680');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 12:42:57.598805', '2020-10-13 12:42:57.598805');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 12:42:57.598805', '2020-10-13 12:42:57.598805')[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 12:42:57.592473', '2020-10-13 12:42:57.592473');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 12:42:57.592473', '2020-10-13 12:42:57.592473');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 12:42:57.594907', '2020-10-13 12:42:57.594907');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 12:42:57.594907', '2020-10-13 12:42:57.594907');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 12:42:57.598135', '2020-10-13 12:42:57.598135');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 12:42:57.598135', '2020-10-13 12:42:57.598135')[0m
  [1m[35m (92.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
  [1m[35m (94.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 07:42:57 -0500
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 07:42:57 -0500
Processing by Api::V1::PropertiesController#index as JSON
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (3.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (462.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (464.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 12:44:39.296130', '2020-10-13 12:44:39.296130');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 12:44:39.296130', '2020-10-13 12:44:39.296130');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 12:44:39.299956', '2020-10-13 12:44:39.299956');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 12:44:39.299956', '2020-10-13 12:44:39.299956');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 12:44:39.305095', '2020-10-13 12:44:39.305095');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 12:44:39.305095', '2020-10-13 12:44:39.305095')[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 12:44:39.296130', '2020-10-13 12:44:39.296130');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 12:44:39.296130', '2020-10-13 12:44:39.296130');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 12:44:39.299956', '2020-10-13 12:44:39.299956');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 12:44:39.299956', '2020-10-13 12:44:39.299956');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 12:44:39.305095', '2020-10-13 12:44:39.305095');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 12:44:39.305095', '2020-10-13 12:44:39.305095')[0m
  [1m[35m (148.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
  [1m[35m (190.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 07:44:39 -0500
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 07:44:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms | Allocations: 6187)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "photos"[0m
  [1m[35m (94.4ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "property_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (107.6ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "properties"[0m
  [1m[35m (105.5ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "project" varchar, "built_type" varchar, "price" varchar, "address" varchar, "apt" varchar, "hood" varchar, "city" varchar, "private_area" varchar, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar, "build_area" varchar, "social_class" varchar, "state" varchar, "elevator" boolean, "common_areas" varchar, "property_tax" varchar, "rooms" varchar, "bathrooms" varchar, "half_bathrooms" varchar, "parking_lot" varchar, "utility_room" boolean, "empty_property" boolean, "inhabitants" boolean, "rent" varchar, "mortgage" varchar)[0m
  [1m[35m (97.4ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (95.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (93.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (92.8ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (90.7ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (107.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "isadmin" boolean DEFAULT 0, "full_name" varchar, "cellphone" varchar)[0m
  [1m[35m (108.1ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aphotos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aphotos_on_property_id" ON "aphotos" ("property_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aphotos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "photos"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "photos"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0, CONSTRAINT "fk_rails_0d5710f200"
FOREIGN KEY ("property_id")
  REFERENCES "properties" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "photos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "aphotos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aphotos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (76.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproperties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_user_id" ON "aproperties" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_price" ON "aproperties" ("price")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_hood" ON "aproperties" ("hood")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_city" ON "aproperties" ("city")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_built_type" ON "aproperties" ("built_type")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "aproperties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "properties"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL, CONSTRAINT "fk_rails_e41321a67c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "properties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "aproperties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aproperties"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (87.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (87.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (67.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201013005654)[0m
  [1m[35m (65.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200920140300),
(20200920142212),
(20200928162141),
(20200928194359),
(20200928195320),
(20200929012706),
(20200929014510),
(20201005185525),
(20201011142729),
(20201011143722),
(20201013003510);

[0m
  [1m[35m (101.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-10-13 13:30:11.915918"], ["updated_at", "2020-10-13 13:30:11.915918"]]
  [1m[35m (77.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "b070afd6582e7d71893918d10e4e23953a964fb8"], ["created_at", "2020-10-13 13:30:12.006806"], ["updated_at", "2020-10-13 13:30:12.006806"]]
  [1m[35m (62.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "photos"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "photos"[0m
  [1m[35m (147.7ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "property_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (155.3ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "property_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (313.5ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "properties"[0m
  [1m[35m (359.7ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "properties"[0m
  [1m[35m (189.6ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "project" varchar, "built_type" varchar, "price" varchar, "address" varchar, "apt" varchar, "hood" varchar, "city" varchar, "private_area" varchar, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar, "build_area" varchar, "social_class" varchar, "state" varchar, "elevator" boolean, "common_areas" varchar, "property_tax" varchar, "rooms" varchar, "bathrooms" varchar, "half_bathrooms" varchar, "parking_lot" varchar, "utility_room" boolean, "empty_property" boolean, "inhabitants" boolean, "rent" varchar, "mortgage" varchar)[0m
  [1m[35m (193.0ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "project" varchar, "built_type" varchar, "price" varchar, "address" varchar, "apt" varchar, "hood" varchar, "city" varchar, "private_area" varchar, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar, "build_area" varchar, "social_class" varchar, "state" varchar, "elevator" boolean, "common_areas" varchar, "property_tax" varchar, "rooms" varchar, "bathrooms" varchar, "half_bathrooms" varchar, "parking_lot" varchar, "utility_room" boolean, "empty_property" boolean, "inhabitants" boolean, "rent" varchar, "mortgage" varchar)[0m
  [1m[35m (186.7ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (184.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (182.6ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (127.5ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (211.9ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (233.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (153.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (167.6ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (171.4ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (219.6ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (207.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "isadmin" boolean DEFAULT 0, "full_name" varchar, "cellphone" varchar)[0m
  [1m[35m (152.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "isadmin" boolean DEFAULT 0, "full_name" varchar, "cellphone" varchar)[0m
  [1m[35m (181.6ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aphotos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (202.3ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX "tindex_aphotos_on_property_id" ON "aphotos" ("property_id")[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "aphotos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "photos"[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (3.7ms)[0m  [1m[35mDROP TABLE "photos"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0, CONSTRAINT "fk_rails_0d5710f200"
FOREIGN KEY ("property_id")
  REFERENCES "properties" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aphotos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX "tindex_aphotos_on_property_id" ON "aphotos" ("property_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "aphotos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "photos"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted" boolean DEFAULT 0, CONSTRAINT "fk_rails_0d5710f200"
FOREIGN KEY ("property_id")
  REFERENCES "properties" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "photos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "aphotos"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aphotos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "photos" ("id","url","property_id","created_at","updated_at","accepted")
                     SELECT "id","url","property_id","created_at","updated_at","accepted" FROM "aphotos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aphotos"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (126.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproperties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_user_id" ON "aproperties" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_price" ON "aproperties" ("price")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_hood" ON "aproperties" ("hood")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_city" ON "aproperties" ("city")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_built_type" ON "aproperties" ("built_type")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aproperties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL, CONSTRAINT "fk_rails_e41321a67c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (169.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproperties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_user_id" ON "aproperties" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_price" ON "aproperties" ("price")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "properties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "aproperties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aproperties"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_hood" ON "aproperties" ("hood")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_city" ON "aproperties" ("city")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_built_type" ON "aproperties" ("built_type")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproperties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL, CONSTRAINT "fk_rails_e41321a67c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "properties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "aproperties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aproperties"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (153.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (195.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (220.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (179.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (132.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201013005654)[0m
  [1m[35m (115.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201013005654)[0m
  [1m[35m (132.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200920140300),
(20200920142212),
(20200928162141),
(20200928194359),
(20200928195320),
(20200929012706),
(20200929014510),
(20201005185525),
(20201011142729),
(20201011143722),
(20201013003510);

[0m
  [1m[35m (196.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200920140300),
(20200920142212),
(20200928162141),
(20200928194359),
(20200928195320),
(20200929012706),
(20200929014510),
(20201005185525),
(20201011142729),
(20201011143722),
(20201013003510);

[0m
  [1m[35m (223.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (186.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-10-13 13:30:15.441013"], ["updated_at", "2020-10-13 13:30:15.441013"]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-10-13 13:30:15.448316"], ["updated_at", "2020-10-13 13:30:15.448316"]]
  [1m[35m (125.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (120.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "b070afd6582e7d71893918d10e4e23953a964fb8"], ["created_at", "2020-10-13 13:30:15.586187"], ["updated_at", "2020-10-13 13:30:15.586187"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "b070afd6582e7d71893918d10e4e23953a964fb8"], ["created_at", "2020-10-13 13:30:15.586261"], ["updated_at", "2020-10-13 13:30:15.586261"]]
  [1m[35m (144.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (153.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 13:30:15.817240', '2020-10-13 13:30:15.817240');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 13:30:15.817240', '2020-10-13 13:30:15.817240');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email@email.com', '$2a$04$V3zRsDgmKt0Sgne2h1w7..tjEwjARR8PFNIF5HmC0fsoNgmc5hmuW', '2020-10-13 13:30:15.817240', '2020-10-13 13:30:15.817240', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$04$0t9cP8qNGbVav11X/bBwle1R.QihygTz23UmoZuPqavRa.lnUXLZy', '2020-10-13 13:30:15.817240', '2020-10-13 13:30:15.817240', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 13:30:15.819871', '2020-10-13 13:30:15.819871');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 13:30:15.819871', '2020-10-13 13:30:15.819871');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 13:30:15.822796', '2020-10-13 13:30:15.822796');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 13:30:15.822796', '2020-10-13 13:30:15.822796')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 13:30:15.819066', '2020-10-13 13:30:15.819066');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 13:30:15.819066', '2020-10-13 13:30:15.819066');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email@email.com', '$2a$04$iy.5RjYQi2nsR2LMuEGsmOr41og1GZl0aP1kfJMVtWeodeasUyGiK', '2020-10-13 13:30:15.819066', '2020-10-13 13:30:15.819066', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$04$4aNfXtVKAY8cs0XOMxZzb.TdCMiKZSWdUuGTzXetdAPq2znSjjFh2', '2020-10-13 13:30:15.819066', '2020-10-13 13:30:15.819066', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 13:30:15.821589', '2020-10-13 13:30:15.821589');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 13:30:15.821589', '2020-10-13 13:30:15.821589');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 13:30:15.824548', '2020-10-13 13:30:15.824548');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 13:30:15.824548', '2020-10-13 13:30:15.824548')[0m
  [1m[35m (195.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (197.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 08:30:16 -0500
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 08:30:16 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.3ms | Allocations: 6007)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (431.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (431.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 13:33:19.725056', '2020-10-13 13:33:19.725056');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 13:33:19.725056', '2020-10-13 13:33:19.725056');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email@email.com', '$2a$04$KnETvQxbVhCdJvs4X1pC1uZ5xHK7gtwy/MiLHnQWlnqZg3OyAZLmO', '2020-10-13 13:33:19.725056', '2020-10-13 13:33:19.725056', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$04$rCKzYdUyFIjG9XoYKf39aeBf17cHu/O0IbRVck8Hw0ixNq8aqIVJm', '2020-10-13 13:33:19.725056', '2020-10-13 13:33:19.725056', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 13:33:19.727728', '2020-10-13 13:33:19.727728');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 13:33:19.727728', '2020-10-13 13:33:19.727728');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 13:33:19.730675', '2020-10-13 13:33:19.730675');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 13:33:19.730675', '2020-10-13 13:33:19.730675')[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 13:33:19.725044', '2020-10-13 13:33:19.725044');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 13:33:19.725044', '2020-10-13 13:33:19.725044');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email@email.com', '$2a$04$VjYFaoUT9EPUlpCXLKsROOEyxkH4220CWoR7BFzBCKIsQEvPKSP2e', '2020-10-13 13:33:19.725044', '2020-10-13 13:33:19.725044', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$04$RVh5Nat3koFKL0vcfGM2ceUJp.n9iNSW8Hf0x0w4nQJ/enH6BLkt.', '2020-10-13 13:33:19.725044', '2020-10-13 13:33:19.725044', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 13:33:19.727726', '2020-10-13 13:33:19.727726');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 13:33:19.727726', '2020-10-13 13:33:19.727726');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 13:33:19.730675', '2020-10-13 13:33:19.730675');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 13:33:19.730675', '2020-10-13 13:33:19.730675')[0m
  [1m[35m (152.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
  [1m[35m (205.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 08:33:19 -0500
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 08:33:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms | Allocations: 6188)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 212)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (514.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (1.7ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (612.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 13:36:04.494520', '2020-10-13 13:36:04.494520');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 13:36:04.494520', '2020-10-13 13:36:04.494520');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email@email.com', '$2a$12$JmOeKx2USKoDHnkqqqp6c.qSRz17OxOW.1eFwKzDJYpfE7DETRonG', '2020-10-13 13:36:04.494520', '2020-10-13 13:36:04.494520', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$TAdJyM32q6oQo8ARxPs7/OIwh480F9CaQYYrR4uMSsadumDG4jQf2', '2020-10-13 13:36:04.494520', '2020-10-13 13:36:04.494520', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 13:36:04.497189', '2020-10-13 13:36:04.497189');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 13:36:04.497189', '2020-10-13 13:36:04.497189');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 13:36:04.500817', '2020-10-13 13:36:04.500817');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 13:36:04.500817', '2020-10-13 13:36:04.500817')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 13:36:04.549012', '2020-10-13 13:36:04.549012');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 13:36:04.549012', '2020-10-13 13:36:04.549012');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email@email.com', '$2a$12$cu4N50if9MoMQkEQuqa7ru6Kn7py3N96QD26nC0p5clDmtqqqazRW', '2020-10-13 13:36:04.549012', '2020-10-13 13:36:04.549012', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$6p6HbcCrQiRkupNnsY/S9uywfEolvK2dk/jG0j70DDruS1O8AeiFO', '2020-10-13 13:36:04.549012', '2020-10-13 13:36:04.549012', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 13:36:04.551780', '2020-10-13 13:36:04.551780');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 13:36:04.551780', '2020-10-13 13:36:04.551780');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 13:36:04.555357', '2020-10-13 13:36:04.555357');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 13:36:04.555357', '2020-10-13 13:36:04.555357')[0m
  [1m[35m (206.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (154.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
  [1m[35m (1.4ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 08:36:04 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 08:36:04 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.4ms | Allocations: 6187)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (484.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (539.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:13:59.986858', '2020-10-13 14:13:59.986858');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:13:59.986858', '2020-10-13 14:13:59.986858');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email@email.com', '$2a$12$ctmyRtkzcoLgqbRcZ.fKQe5s2bKJhP.Bxsfj7us5S/AwDCswtSKl6', '2020-10-13 14:13:59.986858', '2020-10-13 14:13:59.986858', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$EXKyLmYkBsvJl4aZFVkAeew6wyF/NUv6UN/tLl5VDrgoi1XAAedg2', '2020-10-13 14:13:59.986858', '2020-10-13 14:13:59.986858', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:13:59.993082', '2020-10-13 14:13:59.993082');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:13:59.993082', '2020-10-13 14:13:59.993082');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:13:59.999187', '2020-10-13 14:13:59.999187');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:13:59.999187', '2020-10-13 14:13:59.999187')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:14:00.004191', '2020-10-13 14:14:00.004191');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:14:00.004191', '2020-10-13 14:14:00.004191');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email@email.com', '$2a$12$W1fPEhb4bxRXn.qTay4xe.LV4hnaICz1Lb5tzWYBJQnXU4NWQjtr2', '2020-10-13 14:14:00.004191', '2020-10-13 14:14:00.004191', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$UQFyGwQku7Xs63QCohKafe4gPYyEORLGJiTRVz8Ouw7jpwaAwtT1q', '2020-10-13 14:14:00.004191', '2020-10-13 14:14:00.004191', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:14:00.008414', '2020-10-13 14:14:00.008414');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:14:00.008414', '2020-10-13 14:14:00.008414');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:14:00.013475', '2020-10-13 14:14:00.013475');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:14:00.013475', '2020-10-13 14:14:00.013475')[0m
  [1m[35m (165.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
  [1m[35m (233.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:14:00 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:14:00 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 212)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.8ms | Allocations: 6188)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (551.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (647.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:16:33.659026', '2020-10-13 14:16:33.659026');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:16:33.659026', '2020-10-13 14:16:33.659026');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$vu31u9sdw1fW83eTSM5Bv.SpDpHHp/aBBu1XgNYgkgio9nHGv5fYW', '2020-10-13 14:16:33.659026', '2020-10-13 14:16:33.659026', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$pXjwRyOA/Tcpfs8AUH3Fm.zBBzY1S692Aq.XzeOpohbnEz5MmUyiC', '2020-10-13 14:16:33.659026', '2020-10-13 14:16:33.659026', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:16:33.665104', '2020-10-13 14:16:33.665104');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:16:33.665104', '2020-10-13 14:16:33.665104');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:16:33.672745', '2020-10-13 14:16:33.672745');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:16:33.672745', '2020-10-13 14:16:33.672745')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:16:33.721430', '2020-10-13 14:16:33.721430');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:16:33.721430', '2020-10-13 14:16:33.721430');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$QuMhleH8.R13HkSm5u3t4.c2RIyW.zVziQwdpo70r1Izr/0rAJJai', '2020-10-13 14:16:33.721430', '2020-10-13 14:16:33.721430', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$.Hs9C2KgHGJ2CHvxwJDW9umrq/YPuJPdkkxVKwlAOW1OdxBfjjIN6', '2020-10-13 14:16:33.721430', '2020-10-13 14:16:33.721430', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:16:33.725711', '2020-10-13 14:16:33.725711');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:16:33.725711', '2020-10-13 14:16:33.725711');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:16:33.731049', '2020-10-13 14:16:33.731049');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:16:33.731049', '2020-10-13 14:16:33.731049')[0m
  [1m[35m (148.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:16:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[35m (159.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:16:33 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 280ms (Views: 0.7ms | ActiveRecord: 1.8ms | Allocations: 6484)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (508.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (563.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:23:16.578635', '2020-10-13 14:23:16.578635');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:23:16.578635', '2020-10-13 14:23:16.578635');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$gSoSF6PJqYk8HwzTtN9bQuAo2xdDeYYEw2AwW7O7yczSaeNTW88/O', '2020-10-13 14:23:16.578635', '2020-10-13 14:23:16.578635', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$GOkextKGm7dpIn2eg9OpAexU2yZht1B4g10pmxgVszNrQvyS7veK2', '2020-10-13 14:23:16.578635', '2020-10-13 14:23:16.578635', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:23:16.582144', '2020-10-13 14:23:16.582144');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:23:16.582144', '2020-10-13 14:23:16.582144');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:23:16.584700', '2020-10-13 14:23:16.584700');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:23:16.584700', '2020-10-13 14:23:16.584700')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:23:16.613996', '2020-10-13 14:23:16.613996');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:23:16.613996', '2020-10-13 14:23:16.613996');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$vaUNkw9tD9lOKR0IuQSiOOsIVuh2YEf7C0sBKTvPI2ej2VyrJLJV6', '2020-10-13 14:23:16.613996', '2020-10-13 14:23:16.613996', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$eRbfq8FdrteOYdbHNtOJH.Ao9sE9M/Z6q8O4LT7H9Gi9b2i3/muW6', '2020-10-13 14:23:16.613996', '2020-10-13 14:23:16.613996', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:23:16.616370', '2020-10-13 14:23:16.616370');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:23:16.616370', '2020-10-13 14:23:16.616370');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:23:16.618382', '2020-10-13 14:23:16.618382');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:23:16.618382', '2020-10-13 14:23:16.618382')[0m
  [1m[35m (182.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:23:16 -0500
  [1m[35m (194.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:23:16 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 283ms (Views: 1.9ms | ActiveRecord: 0.4ms | Allocations: 6467)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (421.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (503.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:23:30.307328', '2020-10-13 14:23:30.307328');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:23:30.307328', '2020-10-13 14:23:30.307328');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$ym4rkRPrPNxSArv6y3CYfOVeXomZbnCDm7aLMB58DhnzXxKU6PLj2', '2020-10-13 14:23:30.307328', '2020-10-13 14:23:30.307328', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$vRlavOjVYgdRkXVApX122.RWhCidPwL3S2lkShmPDAVQAflcFn6Lq', '2020-10-13 14:23:30.307328', '2020-10-13 14:23:30.307328', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:23:30.310911', '2020-10-13 14:23:30.310911');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:23:30.310911', '2020-10-13 14:23:30.310911');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:23:30.317529', '2020-10-13 14:23:30.317529');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:23:30.317529', '2020-10-13 14:23:30.317529')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:23:30.368523', '2020-10-13 14:23:30.368523');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:23:30.368523', '2020-10-13 14:23:30.368523');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$mtvPNn1kKRDUqV5/PeUYzeCYSTIZuVZTjLTwzWEhoXBlc9NeLUSBu', '2020-10-13 14:23:30.368523', '2020-10-13 14:23:30.368523', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$qh34wT5d6rSv0WJRtur6v.C/.KuGLwdf2LPcLM2csU9BzwPN.VBkC', '2020-10-13 14:23:30.368523', '2020-10-13 14:23:30.368523', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:23:30.372859', '2020-10-13 14:23:30.372859');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:23:30.372859', '2020-10-13 14:23:30.372859');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:23:30.379533', '2020-10-13 14:23:30.379533');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:23:30.379533', '2020-10-13 14:23:30.379533')[0m
  [1m[35m (203.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:23:30 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
  [1m[35m (205.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:23:30 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 212)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 282ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 6469)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (585.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (629.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:28:24.273829', '2020-10-13 14:28:24.273829');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:28:24.273829', '2020-10-13 14:28:24.273829');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$SbKYQE3ErIKPKhLAatVu4OMB6NR3I3ITP/4VhYzrxsld7nZa/9xWK', '2020-10-13 14:28:24.273829', '2020-10-13 14:28:24.273829', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$VOE9TxvLsaNDROkIqKgHv.LvgFOhxV9CHLUOybEgdDXExXhj8mOG.', '2020-10-13 14:28:24.273829', '2020-10-13 14:28:24.273829', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:28:24.279215', '2020-10-13 14:28:24.279215');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:28:24.279215', '2020-10-13 14:28:24.279215');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:28:24.285472', '2020-10-13 14:28:24.285472');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:28:24.285472', '2020-10-13 14:28:24.285472')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:28:24.327914', '2020-10-13 14:28:24.327914');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:28:24.327914', '2020-10-13 14:28:24.327914');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$NcBdeDFi0l06awTLJcLZBeafE8mI8XZxZoVPQA8iiwHZ/Swv/qH2S', '2020-10-13 14:28:24.327914', '2020-10-13 14:28:24.327914', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$fiMpnKrrKQ0d6VcXbGYdJOvmsp2yt91VBwuMLNDmF/FSAGku4PyHS', '2020-10-13 14:28:24.327914', '2020-10-13 14:28:24.327914', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:28:24.331179', '2020-10-13 14:28:24.331179');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:28:24.331179', '2020-10-13 14:28:24.331179');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:28:24.334874', '2020-10-13 14:28:24.334874');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:28:24.334874', '2020-10-13 14:28:24.334874')[0m
  [1m[35m (143.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:28:24 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
  [1m[35m (179.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:28:24 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 278ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 6467)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (7.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (496.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (508.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (4.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (4.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:29:01.200677', '2020-10-13 14:29:01.200677');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:29:01.200677', '2020-10-13 14:29:01.200677');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$9hqYzPtW2yi16fFeulCLpOWrQDfTyirGzXJHssu41E1TN4RHV3QOC', '2020-10-13 14:29:01.200677', '2020-10-13 14:29:01.200677', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$4aatYO4SxPzcpuI/x/oZUOQwAQWhNuqhnwEJiObn4Q.HbgwCYA2Xu', '2020-10-13 14:29:01.200677', '2020-10-13 14:29:01.200677', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:29:01.208739', '2020-10-13 14:29:01.208739');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:29:01.208739', '2020-10-13 14:29:01.208739');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:29:01.219848', '2020-10-13 14:29:01.219848');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:29:01.219848', '2020-10-13 14:29:01.219848')[0m
  [1m[36mFixtures Load (2.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:29:01.206671', '2020-10-13 14:29:01.206671');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:29:01.206671', '2020-10-13 14:29:01.206671');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$3tnMXUbJV9PGNx42mtLjeOpH7tVP9dXKiiyTqEtosXisgdIlMTQGe', '2020-10-13 14:29:01.206671', '2020-10-13 14:29:01.206671', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$/Fs.G3bjKh5hOo51Bx7oLuxSHoPInJhFcuOm7ZWpqLTKMQPBpljty', '2020-10-13 14:29:01.206671', '2020-10-13 14:29:01.206671', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:29:01.213516', '2020-10-13 14:29:01.213516');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:29:01.213516', '2020-10-13 14:29:01.213516');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:29:01.222018', '2020-10-13 14:29:01.222018');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:29:01.222018', '2020-10-13 14:29:01.222018')[0m
  [1m[35m (166.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:29:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
  [1m[35m (230.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:29:01 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 212)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 261ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 6469)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (515.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (521.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (2.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:29:39.349618', '2020-10-13 14:29:39.349618');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:29:39.349618', '2020-10-13 14:29:39.349618');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$EnL0DohpTwRS2pYCOicGa.p3fRRXNUwa7az.pR1eoCzflX.BIa8iG', '2020-10-13 14:29:39.349618', '2020-10-13 14:29:39.349618', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$.sCAWCd6tJhXY9zC3gmdD.5fJo5QdtptNe6WWC3msfhCaCnJh46Uq', '2020-10-13 14:29:39.349618', '2020-10-13 14:29:39.349618', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:29:39.354230', '2020-10-13 14:29:39.354230');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:29:39.354230', '2020-10-13 14:29:39.354230');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:29:39.365773', '2020-10-13 14:29:39.365773');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:29:39.365773', '2020-10-13 14:29:39.365773')[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (2.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:29:39.381794', '2020-10-13 14:29:39.381794');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:29:39.381794', '2020-10-13 14:29:39.381794');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$izu971VDjM30NWO/gKWgMeqr1HYjQSj3o13QG22NA0AgtuTedxS5O', '2020-10-13 14:29:39.381794', '2020-10-13 14:29:39.381794', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$ceI/SAQ8qUlYVyJIXt.EZuw.utzRDRl0AVUGutv.e1bJ7.gm85zVW', '2020-10-13 14:29:39.381794', '2020-10-13 14:29:39.381794', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:29:39.386880', '2020-10-13 14:29:39.386880');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:29:39.386880', '2020-10-13 14:29:39.386880');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:29:39.397250', '2020-10-13 14:29:39.397250');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:29:39.397250', '2020-10-13 14:29:39.397250')[0m
  [1m[35m (189.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:29:39 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (214.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:29:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
Completed 200 OK in 271ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 6484)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (1.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (1.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (486.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (536.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:31:08.396912', '2020-10-13 14:31:08.396912');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:31:08.396912', '2020-10-13 14:31:08.396912');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$wLt4GREQZnSr7/wED9KDcuPLRVLlYSh.QQ9DnndH0TOxdjTu74CR.', '2020-10-13 14:31:08.396912', '2020-10-13 14:31:08.396912', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$YgwpZYk5scZbeDyh/ZrGle9q770wC7/myaHHJ.9Q75/LziQgz1Gny', '2020-10-13 14:31:08.396912', '2020-10-13 14:31:08.396912', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:31:08.401322', '2020-10-13 14:31:08.401322');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:31:08.401322', '2020-10-13 14:31:08.401322');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:31:08.405235', '2020-10-13 14:31:08.405235');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:31:08.405235', '2020-10-13 14:31:08.405235')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:31:08.438376', '2020-10-13 14:31:08.438376');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:31:08.438376', '2020-10-13 14:31:08.438376');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$d0sjo/M2rIWTtgfv/wqt8.R6hoM/sEC1ZO2cZ8yvzzAkJKBBcdWeG', '2020-10-13 14:31:08.438376', '2020-10-13 14:31:08.438376', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$8DUFvMXaKWHP5dBX2yfH2OZKWP6pSE0sQEgaUjD/0YX1EHKETBGOK', '2020-10-13 14:31:08.438376', '2020-10-13 14:31:08.438376', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:31:08.440187', '2020-10-13 14:31:08.440187');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:31:08.440187', '2020-10-13 14:31:08.440187');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:31:08.441770', '2020-10-13 14:31:08.441770');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:31:08.441770', '2020-10-13 14:31:08.441770')[0m
  [1m[35m (109.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
  [1m[35m (172.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:31:08 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 212)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:31:08 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
Completed 200 OK in 274ms (Views: 0.8ms | ActiveRecord: 0.4ms | Allocations: 6468)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (578.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (633.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:31:28.109275', '2020-10-13 14:31:28.109275');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:31:28.109275', '2020-10-13 14:31:28.109275');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$huABIN213gqwaQN.S3uRWOKg.4QCWChVESHppxS.MALf2lUVkNSKa', '2020-10-13 14:31:28.109275', '2020-10-13 14:31:28.109275', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$okAAfcNbHOz7E4tuGuL4jukTi/cQG6SlCEwrIh0uM1uA3gmBYlvse', '2020-10-13 14:31:28.109275', '2020-10-13 14:31:28.109275', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:31:28.115893', '2020-10-13 14:31:28.115893');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:31:28.115893', '2020-10-13 14:31:28.115893');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:31:28.122408', '2020-10-13 14:31:28.122408');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:31:28.122408', '2020-10-13 14:31:28.122408')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:31:28.148838', '2020-10-13 14:31:28.148838');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:31:28.148838', '2020-10-13 14:31:28.148838');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$Bavzxsp44VFylMeRQ.dgbeqz83amDSXXys/4kSYGE//Xah9Mh98s2', '2020-10-13 14:31:28.148838', '2020-10-13 14:31:28.148838', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$dAjgSaT5Oeu8QgWhGk11K.orKQ2IlZbWYfY0KqLF9I4r9O.HF0YWC', '2020-10-13 14:31:28.148838', '2020-10-13 14:31:28.148838', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:31:28.151998', '2020-10-13 14:31:28.151998');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:31:28.151998', '2020-10-13 14:31:28.151998');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:31:28.154610', '2020-10-13 14:31:28.154610');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:31:28.154610', '2020-10-13 14:31:28.154610')[0m
  [1m[35m (182.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:31:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
  [1m[35m (220.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:31:28 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 212)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 263ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 6469)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (444.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (507.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (3.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:35:02.537241', '2020-10-13 14:35:02.537241');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:35:02.537241', '2020-10-13 14:35:02.537241');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$7UIxDqvJUvAWmyKOBkDofev2Du2DIbJClwpRP/Nmf3XwIAdwiCURS', '2020-10-13 14:35:02.537241', '2020-10-13 14:35:02.537241', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$XvR2ACvAizTdAOgXRtHBd.mgzmHDevNlKaHgPf7JMaj27GKZPyDoK', '2020-10-13 14:35:02.537241', '2020-10-13 14:35:02.537241', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:35:02.542179', '2020-10-13 14:35:02.542179');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:35:02.542179', '2020-10-13 14:35:02.542179');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:35:02.549584', '2020-10-13 14:35:02.549584');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:35:02.549584', '2020-10-13 14:35:02.549584')[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:35:02.551114', '2020-10-13 14:35:02.551114');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:35:02.551114', '2020-10-13 14:35:02.551114');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$b7Ka3oJsaYiUsom6YJ4Fx..d3UnBn7cYmGn.0TXMpK7ea42j7ikqy', '2020-10-13 14:35:02.551114', '2020-10-13 14:35:02.551114', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$cpwD/t0t/OAEeduIcOrzb.8u7n1Dp9AA795vxysLOF0LUWNoYIyce', '2020-10-13 14:35:02.551114', '2020-10-13 14:35:02.551114', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:35:02.559267', '2020-10-13 14:35:02.559267');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:35:02.559267', '2020-10-13 14:35:02.559267');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:35:02.567283', '2020-10-13 14:35:02.567283');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:35:02.567283', '2020-10-13 14:35:02.567283')[0m
  [1m[35m (172.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:35:02 -0500
  [1m[35m (220.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:35:02 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 287ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 6467)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (650.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (3.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (659.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:37:42.232034', '2020-10-13 14:37:42.232034');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:37:42.232034', '2020-10-13 14:37:42.232034');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$CLAo1OUAbG5U.cGElzZEWuzejVOhUVR7aW8JuSAbGUT/ExQlLu0LG', '2020-10-13 14:37:42.232034', '2020-10-13 14:37:42.232034', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$OhAIaGUD1Nc4uvgRVMQjpuzGgJrTuBITIry8xQxFTZETLk0yxV02.', '2020-10-13 14:37:42.232034', '2020-10-13 14:37:42.232034', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:37:42.234785', '2020-10-13 14:37:42.234785');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:37:42.234785', '2020-10-13 14:37:42.234785');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:37:42.238810', '2020-10-13 14:37:42.238810');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:37:42.238810', '2020-10-13 14:37:42.238810')[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:37:42.232159', '2020-10-13 14:37:42.232159');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:37:42.232159', '2020-10-13 14:37:42.232159');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$z5BJgYCbhZn5AuF.cojEBe.1swSsK.XKqSpJ/3RWo2i2jFKeRHFzG', '2020-10-13 14:37:42.232159', '2020-10-13 14:37:42.232159', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$6DrK5sv2Lt6fXYU5g5B7ouNTpQq3stMGquxB4h3klXvp2v9255e2G', '2020-10-13 14:37:42.232159', '2020-10-13 14:37:42.232159', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:37:42.235068', '2020-10-13 14:37:42.235068');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:37:42.235068', '2020-10-13 14:37:42.235068');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:37:42.239454', '2020-10-13 14:37:42.239454');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:37:42.239454', '2020-10-13 14:37:42.239454')[0m
  [1m[35m (476.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (478.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:37:42 -0500
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:37:42 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
Completed 200 OK in 294ms (Views: 1.6ms | ActiveRecord: 0.2ms | Allocations: 6467)
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-13 09:37:43 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"user"=>{}}
[31mUnpermitted parameters: :format, :user[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 61ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 7687)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (383.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (488.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:38:18.032623', '2020-10-13 14:38:18.032623');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:38:18.032623', '2020-10-13 14:38:18.032623');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$KJm5tr/J6Oaok4dgPiQ22.zJBhhcX/b7Vm6Xn4k2UKj5ptcVYDUmC', '2020-10-13 14:38:18.032623', '2020-10-13 14:38:18.032623', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$DGsL.L9pXhm/b9451cQhOewoJGeYe5Nmf5d0Z0m0XSRc7UNb8O7ci', '2020-10-13 14:38:18.032623', '2020-10-13 14:38:18.032623', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:38:18.037045', '2020-10-13 14:38:18.037045');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:38:18.037045', '2020-10-13 14:38:18.037045');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:38:18.042216', '2020-10-13 14:38:18.042216');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:38:18.042216', '2020-10-13 14:38:18.042216')[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:38:18.113581', '2020-10-13 14:38:18.113581');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:38:18.113581', '2020-10-13 14:38:18.113581');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$ZJ4IX.c.Y5/XdmGsJgmUY.TYnONY9Q79mYNtKty/3VRCw3wFrbOSa', '2020-10-13 14:38:18.113581', '2020-10-13 14:38:18.113581', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$TxcfNOeL1igpIv5UcxvHSeFRt4tY14/h5C1v64dn30eXTGE5l8STW', '2020-10-13 14:38:18.113581', '2020-10-13 14:38:18.113581', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:38:18.119751', '2020-10-13 14:38:18.119751');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:38:18.119751', '2020-10-13 14:38:18.119751');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:38:18.124292', '2020-10-13 14:38:18.124292');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:38:18.124292', '2020-10-13 14:38:18.124292')[0m
  [1m[35m (226.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:38:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
  [1m[35m (195.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:38:18 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 212)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 271ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 6469)
Started GET "/api/v1/users/" for 127.0.0.1 at 2020-10-13 09:38:18 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1263)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (461.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (512.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:39:29.122396', '2020-10-13 14:39:29.122396');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:39:29.122396', '2020-10-13 14:39:29.122396');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$4oxVIOD/8d2bP5QcWPgEiuTvzN372Xdn0ME/JDx.Neew3mmPOWrhC', '2020-10-13 14:39:29.122396', '2020-10-13 14:39:29.122396', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$djI/MXr.CkkTAa52DVmiGudPeJ0TF1S37dCGW5Bl.FoYYwjfq0Ie6', '2020-10-13 14:39:29.122396', '2020-10-13 14:39:29.122396', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:39:29.125064', '2020-10-13 14:39:29.125064');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:39:29.125064', '2020-10-13 14:39:29.125064');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:39:29.131385', '2020-10-13 14:39:29.131385');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:39:29.131385', '2020-10-13 14:39:29.131385')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:39:29.221904', '2020-10-13 14:39:29.221904');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:39:29.221904', '2020-10-13 14:39:29.221904');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$y402MYwRs1D0IJ/Uhgmu..HfbwtvP68QsKLhHR4H31gSgg46mvk0S', '2020-10-13 14:39:29.221904', '2020-10-13 14:39:29.221904', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$k3DX7rUUDmphOu5SsRW67u3YdDe.vSY1w4OrmPVCOY1/s81uQosra', '2020-10-13 14:39:29.221904', '2020-10-13 14:39:29.221904', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:39:29.224130', '2020-10-13 14:39:29.224130');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:39:29.224130', '2020-10-13 14:39:29.224130');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:39:29.230365', '2020-10-13 14:39:29.230365');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:39:29.230365', '2020-10-13 14:39:29.230365')[0m
  [1m[35m (179.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:39:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
  [1m[35m (170.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:39:29 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 279ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 6485)
Started GET "/api/v1/users/1/controllers" for 127.0.0.1 at 2020-10-13 09:39:29 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (486.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (578.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:39:59.919591', '2020-10-13 14:39:59.919591');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:39:59.919591', '2020-10-13 14:39:59.919591');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$zjnMC6J2INuUAGwpae83qeChKVDL8qIPpwo7cPf.9FJ0r7RbwUONG', '2020-10-13 14:39:59.919591', '2020-10-13 14:39:59.919591', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$xuMoD9Eren1m7/a3PY1Y.e7w5jM1SijhVPGpWL7xKQM2XPytQWZz2', '2020-10-13 14:39:59.919591', '2020-10-13 14:39:59.919591', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:39:59.921997', '2020-10-13 14:39:59.921997');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:39:59.921997', '2020-10-13 14:39:59.921997');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:39:59.924164', '2020-10-13 14:39:59.924164');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:39:59.924164', '2020-10-13 14:39:59.924164')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:39:59.967855', '2020-10-13 14:39:59.967855');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:39:59.967855', '2020-10-13 14:39:59.967855');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (113629430, 'email1@email.com', '$2a$12$uWPoa.mR2vgrYbhcDllj/OVky2QbZRS44PUjpcty8AOEF84O4kFmW', '2020-10-13 14:39:59.967855', '2020-10-13 14:39:59.967855', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (281110143, 'admin@admin.com', '$2a$12$7ChZbFsdgVjVfgp9gcVAs.VQhBOHs3LoP2A2PtiFR/0Liu7RjTbzS', '2020-10-13 14:39:59.967855', '2020-10-13 14:39:59.967855', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:39:59.970410', '2020-10-13 14:39:59.970410');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:39:59.970410', '2020-10-13 14:39:59.970410');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:39:59.973384', '2020-10-13 14:39:59.973384');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:39:59.973384', '2020-10-13 14:39:59.973384')[0m
  [1m[35m (134.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:40:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
  [1m[35m (164.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:40:00 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 267ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 6467)
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:40:00 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1", "property"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1475)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (422.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (417.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:41:20.864585', '2020-10-13 14:41:20.864585');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:41:20.864585', '2020-10-13 14:41:20.864585');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$MHmpVNQo.SM6pqA/XQJJnOAaLLPuG.rlH2jBOAGUeVNrXbH5bYr2a', '2020-10-13 14:41:20.864585', '2020-10-13 14:41:20.864585', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$ArODQ0TF.lcWRUTRLTciBeB/tRYL7bT9XlrsX.l/fP5sdFCBMQb3K', '2020-10-13 14:41:20.864585', '2020-10-13 14:41:20.864585', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:41:20.868087', '2020-10-13 14:41:20.868087');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:41:20.868087', '2020-10-13 14:41:20.868087');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:41:20.873466', '2020-10-13 14:41:20.873466');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:41:20.873466', '2020-10-13 14:41:20.873466')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:41:20.879131', '2020-10-13 14:41:20.879131');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:41:20.879131', '2020-10-13 14:41:20.879131');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$tswCK5fi/dG1NupNzvu0B.ilkqb8m21YpasiFHyr0oCA1qMemg482', '2020-10-13 14:41:20.879131', '2020-10-13 14:41:20.879131', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$aqZVixZt1VecobH0mRmQ.O9txf2DyymJO8Sw7nZcRVEd1aIn8PGly', '2020-10-13 14:41:20.879131', '2020-10-13 14:41:20.879131', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:41:20.882467', '2020-10-13 14:41:20.882467');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:41:20.882467', '2020-10-13 14:41:20.882467');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:41:20.887306', '2020-10-13 14:41:20.887306');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:41:20.887306', '2020-10-13 14:41:20.887306')[0m
  [1m[35m (123.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (1.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PropertiesControllerTest: test_index:_just_admin_user
-----------------------------------------------------
  [1m[35m (166.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:41:21 -0500
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-13 09:41:21 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 212)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 290ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 6470)
Started GET "/api/v1/users/100/properties" for 127.0.0.1 at 2020-10-13 09:41:21 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"100", "property"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 783)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (3.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (554.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (606.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:43:38.634471', '2020-10-13 14:43:38.634471');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:43:38.634471', '2020-10-13 14:43:38.634471');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$y.0DrAVpDpkYTfIDGl4gaeGaSoyaW9MDp0vYd.l5zM99KL7aFPve6', '2020-10-13 14:43:38.634471', '2020-10-13 14:43:38.634471', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$Uy1G4ZejsZ9XUflwTsdnP.Au8NxKp1jgSUczW499DPRV5ZJkhlJDi', '2020-10-13 14:43:38.634471', '2020-10-13 14:43:38.634471', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:43:38.637913', '2020-10-13 14:43:38.637913');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:43:38.637913', '2020-10-13 14:43:38.637913');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:43:38.642820', '2020-10-13 14:43:38.642820');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:43:38.642820', '2020-10-13 14:43:38.642820')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:43:38.686053', '2020-10-13 14:43:38.686053');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:43:38.686053', '2020-10-13 14:43:38.686053');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$xgOjQd71H5rnAHDyVj8o/Or0NOL9u3kTDf3XRD2r4HloPQjaJ.udy', '2020-10-13 14:43:38.686053', '2020-10-13 14:43:38.686053', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$0lQPWBKmcdSt3xmF6eHk6OZi5ekvmwuRmqtjxQRoF2NqITn8WNKGC', '2020-10-13 14:43:38.686053', '2020-10-13 14:43:38.686053', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:43:38.689478', '2020-10-13 14:43:38.689478');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:43:38.689478', '2020-10-13 14:43:38.689478');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:43:38.694502', '2020-10-13 14:43:38.694502');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:43:38.694502', '2020-10-13 14:43:38.694502')[0m
  [1m[35m (201.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (154.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 09:43:38 -0500
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-13 09:43:38 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
UsersControllerTest: test_index:_just_admin_user
------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:43:38 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 51ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 11352)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:43:38 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 373)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:43:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 381)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 274ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 6380)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 09:43:39 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 113629430], ["LIMIT", 1]]
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 734)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (495.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (541.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:45:25.713293', '2020-10-13 14:45:25.713293');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:45:25.713293', '2020-10-13 14:45:25.713293');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$Y2PtMUZD8F6wZR.ceOkrLOrKjPtztuoSXho5zeVfcwW9G2vZIrsn2', '2020-10-13 14:45:25.713293', '2020-10-13 14:45:25.713293', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$lYg2NFnURDbP/UENeaZNCeNam5BL0e4z7EY0izrZ5haV.fXopEZVa', '2020-10-13 14:45:25.713293', '2020-10-13 14:45:25.713293', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:45:25.717068', '2020-10-13 14:45:25.717068');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:45:25.717068', '2020-10-13 14:45:25.717068');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:45:25.720065', '2020-10-13 14:45:25.720065');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:45:25.720065', '2020-10-13 14:45:25.720065')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:45:25.730809', '2020-10-13 14:45:25.730809');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:45:25.730809', '2020-10-13 14:45:25.730809');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$fKeJxbey7NERbmjQyK2k2.PRGoecpyopxyCYYUa7glfWgLSTrj/y.', '2020-10-13 14:45:25.730809', '2020-10-13 14:45:25.730809', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$59EVVC/VYS4mDoxQXldFAeJq1YJwCyuOfq.FAK2SKIGpx9UO5VS1a', '2020-10-13 14:45:25.730809', '2020-10-13 14:45:25.730809', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:45:25.736129', '2020-10-13 14:45:25.736129');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:45:25.736129', '2020-10-13 14:45:25.736129');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:45:25.740300', '2020-10-13 14:45:25.740300');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:45:25.740300', '2020-10-13 14:45:25.740300')[0m
  [1m[35m (167.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
  [1m[35m (191.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:45:25 -0500
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 09:45:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 589)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:45:25 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 212)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-13 09:45:26 -0500
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
UsersControllerTest: test_index:_just_admin_user
------------------------------------------------
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:45:26 -0500
[31mUnpermitted parameter: :format[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 38ms (Views: 0.4ms | ActiveRecord: 0.6ms | Allocations: 11160)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 276ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 6381)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 09:45:26 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1266)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (466.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (476.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (5.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:58:36.625201', '2020-10-13 14:58:36.625201');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:58:36.625201', '2020-10-13 14:58:36.625201');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$dft1J6zo5hJSqduq2srzQ.2aOiATT1vukxqhRsesg2PHj8SUM233W', '2020-10-13 14:58:36.625201', '2020-10-13 14:58:36.625201', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$9hneEKixruiDT8wwaQdQBuW..SoFw4JwaMpIQCx/jeRsW.ldG9s/u', '2020-10-13 14:58:36.625201', '2020-10-13 14:58:36.625201', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:58:36.629896', '2020-10-13 14:58:36.629896');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:58:36.629896', '2020-10-13 14:58:36.629896');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:58:36.639054', '2020-10-13 14:58:36.639054');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:58:36.639054', '2020-10-13 14:58:36.639054')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:58:36.685775', '2020-10-13 14:58:36.685775');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:58:36.685775', '2020-10-13 14:58:36.685775');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$fHfscjxELGNX.Fm1xEl7vOl01RvUkwBAkaMs9RJz9PIh/BhPh18hO', '2020-10-13 14:58:36.685775', '2020-10-13 14:58:36.685775', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$jpLZg06ALvYuzK2yNkCr5uWcF4j6mLM0G3pdCT2QprQ8ztSEw3x.O', '2020-10-13 14:58:36.685775', '2020-10-13 14:58:36.685775', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:58:36.690571', '2020-10-13 14:58:36.690571');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:58:36.690571', '2020-10-13 14:58:36.690571');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:58:36.694863', '2020-10-13 14:58:36.694863');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:58:36.694863', '2020-10-13 14:58:36.694863')[0m
  [1m[35m (264.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:58:36 -0500
  [1m[35m (252.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 564)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
UsersControllerTest: test_index:_just_admin_user
------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:58:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 09:58:37 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:58:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 501)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-13 09:58:37 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 29ms (Views: 1.0ms | ActiveRecord: 0.6ms | Allocations: 11161)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 270ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 6270)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 09:58:37 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1192)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (506.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (579.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:59:13.994401', '2020-10-13 14:59:13.994401');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:59:13.994401', '2020-10-13 14:59:13.994401');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$jGHOP1eil6kkPADd8tluhum0EllJZJc76HORVfzjrXE0NwGf6t.3K', '2020-10-13 14:59:13.994401', '2020-10-13 14:59:13.994401', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$Tfhjuywm.g582kj0f6.ZXOF2IHP9/67lafnfmfPeMk0b6K9BbkaIK', '2020-10-13 14:59:13.994401', '2020-10-13 14:59:13.994401', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:59:13.996268', '2020-10-13 14:59:13.996268');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:59:13.996268', '2020-10-13 14:59:13.996268');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:59:13.999616', '2020-10-13 14:59:13.999616');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:59:13.999616', '2020-10-13 14:59:13.999616')[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:59:14.089450', '2020-10-13 14:59:14.089450');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:59:14.089450', '2020-10-13 14:59:14.089450');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$s9jkUsVSS5DXzmWS2JB8z.L/XCpzhgEBY1E6WRsgoCQpYST0TOS/G', '2020-10-13 14:59:14.089450', '2020-10-13 14:59:14.089450', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$Zdnh8FF2lPee.CuLt5Bo7u/FBO7lvECYuDc/zRRkQZV6ts5ET4lcC', '2020-10-13 14:59:14.089450', '2020-10-13 14:59:14.089450', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:59:14.091211', '2020-10-13 14:59:14.091211');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:59:14.091211', '2020-10-13 14:59:14.091211');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:59:14.093854', '2020-10-13 14:59:14.093854');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:59:14.093854', '2020-10-13 14:59:14.093854')[0m
  [1m[35m (112.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 09:59:14 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:59:14 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 476)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:59:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 381)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
UsersControllerTest: test_index:_just_admin_user
------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:59:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
  [1m[35m (152.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-13 09:59:14 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 22ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 11351)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 272ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 6123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (426.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (530.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:59:47.524714', '2020-10-13 14:59:47.524714');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:59:47.524714', '2020-10-13 14:59:47.524714');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$YtChO82v2hhsants5UGwCe.72CdoqmXpAjBNPcjfrHsd8rnOObvAu', '2020-10-13 14:59:47.524714', '2020-10-13 14:59:47.524714', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$DKHlMOfmXHTWR9TzjLEDKe7AU4uLaetbjkOA4y.0GqBqKvmZ974MK', '2020-10-13 14:59:47.524714', '2020-10-13 14:59:47.524714', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:59:47.527798', '2020-10-13 14:59:47.527798');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:59:47.527798', '2020-10-13 14:59:47.527798');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:59:47.535435', '2020-10-13 14:59:47.535435');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:59:47.535435', '2020-10-13 14:59:47.535435')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 14:59:47.556881', '2020-10-13 14:59:47.556881');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 14:59:47.556881', '2020-10-13 14:59:47.556881');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$L6s2GvhB/hP4mw8Wa9o3h.NJzLJ1X/DtZCUc9WdaeVERNBq6.j602', '2020-10-13 14:59:47.556881', '2020-10-13 14:59:47.556881', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$hHLDINIjwrJP4k3oc0niPe67uGVXcsgXYd2asIzN3ASsw08tr3Xv6', '2020-10-13 14:59:47.556881', '2020-10-13 14:59:47.556881', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 14:59:47.562346', '2020-10-13 14:59:47.562346');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 14:59:47.562346', '2020-10-13 14:59:47.562346');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 14:59:47.570703', '2020-10-13 14:59:47.570703');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 14:59:47.570703', '2020-10-13 14:59:47.570703')[0m
  [1m[35m (194.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (177.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-13 09:59:47 -0500
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 09:59:47 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 212)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:59:47 -0500
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (Views: 2.1ms | ActiveRecord: 0.3ms | Allocations: 476)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 31ms (Views: 0.4ms | ActiveRecord: 1.8ms | Allocations: 11353)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
UsersControllerTest: test_index:_just_admin_user
------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:59:47 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 09:59:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 381)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 276ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 719)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 09:59:48 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1190)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (432.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (419.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 15:00:39.925617', '2020-10-13 15:00:39.925617');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 15:00:39.925617', '2020-10-13 15:00:39.925617');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$2Zwnxb.85qS7FRilmyawG.cnNA2g5ByNYy/BNd8TAPjIMsHBvy5IO', '2020-10-13 15:00:39.925617', '2020-10-13 15:00:39.925617', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$X2RZyFBA3TZkzejn5X899O7s0xdHD8zjKIUp.g32xB618UVLFchA.', '2020-10-13 15:00:39.925617', '2020-10-13 15:00:39.925617', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 15:00:39.928812', '2020-10-13 15:00:39.928812');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 15:00:39.928812', '2020-10-13 15:00:39.928812');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 15:00:39.933755', '2020-10-13 15:00:39.933755');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 15:00:39.933755', '2020-10-13 15:00:39.933755')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 15:00:39.965599', '2020-10-13 15:00:39.965599');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 15:00:39.965599', '2020-10-13 15:00:39.965599');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$ENdmX3n1nVkRXiA1hiDVhOxVzHAxCpfyk1mAX7HDLJkXdnn3Y5Pr2', '2020-10-13 15:00:39.965599', '2020-10-13 15:00:39.965599', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$HgZqLrEpan6T2GZvRQ14yeAHfzy7GQq9ry/I3E04K7B7rahhC7yyq', '2020-10-13 15:00:39.965599', '2020-10-13 15:00:39.965599', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 15:00:39.972254', '2020-10-13 15:00:39.972254');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 15:00:39.972254', '2020-10-13 15:00:39.972254');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 15:00:39.977682', '2020-10-13 15:00:39.977682');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 15:00:39.977682', '2020-10-13 15:00:39.977682')[0m
  [1m[35m (124.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (170.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
UsersControllerTest: test_index:_just_admin_user
------------------------------------------------
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:00:40 -0500
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 10:00:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:00:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 500)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:00:40 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-13 10:00:40 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 41ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 11159)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 284ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 6468)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 10:00:40 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1190)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (531.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (524.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 15:01:01.965615', '2020-10-13 15:01:01.965615');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 15:01:01.965615', '2020-10-13 15:01:01.965615');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$DuDNaP6hyYiKOFAls2PO7OWzTUhKWoOL3HfcH1tvpAt/xxgZx3WxC', '2020-10-13 15:01:01.965615', '2020-10-13 15:01:01.965615', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$u41Ta8R9yCs1F3uemV/AXOl7KFGc600Xg0YYLPUlX6gJJ7EDCOf8C', '2020-10-13 15:01:01.965615', '2020-10-13 15:01:01.965615', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 15:01:01.970059', '2020-10-13 15:01:01.970059');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 15:01:01.970059', '2020-10-13 15:01:01.970059');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 15:01:01.976328', '2020-10-13 15:01:01.976328');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 15:01:01.976328', '2020-10-13 15:01:01.976328')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 15:01:02.001161', '2020-10-13 15:01:02.001161');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 15:01:02.001161', '2020-10-13 15:01:02.001161');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$az7Xsp7ludwr6ml57v87TuggAQO/yHCF.A.neIyMmb9hQtYcag9Hu', '2020-10-13 15:01:02.001161', '2020-10-13 15:01:02.001161', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$cdq62TJ/cvbZGs30cNV3puPFIz1QevjwN7b2Cz1aqwJAD96JHzYZ.', '2020-10-13 15:01:02.001161', '2020-10-13 15:01:02.001161', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 15:01:02.008033', '2020-10-13 15:01:02.008033');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 15:01:02.008033', '2020-10-13 15:01:02.008033');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 15:01:02.015757', '2020-10-13 15:01:02.015757');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 15:01:02.015757', '2020-10-13 15:01:02.015757')[0m
  [1m[35m (164.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (126.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (5.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-13 10:01:02 -0500
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 10:01:02 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 212)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:01:02 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 24ms (Views: 1.4ms | ActiveRecord: 0.5ms | Allocations: 11353)
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 6ms (Views: 0.4ms | ActiveRecord: 1.5ms | Allocations: 476)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:01:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 381)
------------------------------------------------
UsersControllerTest: test_index:_just_admin_user
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:01:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
Completed 200 OK in 278ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 719)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 10:01:02 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1190)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (524.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (3.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (539.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 15:03:33.586617', '2020-10-13 15:03:33.586617');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 15:03:33.586617', '2020-10-13 15:03:33.586617');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$0u50hGaHtVGm64OT4Mvi6u1XAKrZJYXcFyJPFhqkDIfPnJ0QCoyDC', '2020-10-13 15:03:33.586617', '2020-10-13 15:03:33.586617', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$ChlZXZFhIIcqM0BbEv3d2eTHvF9r4Yfvz8CIImZrKzZezuT77WEvO', '2020-10-13 15:03:33.586617', '2020-10-13 15:03:33.586617', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 15:03:33.591780', '2020-10-13 15:03:33.591780');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 15:03:33.591780', '2020-10-13 15:03:33.591780');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 15:03:33.597394', '2020-10-13 15:03:33.597394');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 15:03:33.597394', '2020-10-13 15:03:33.597394')[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 15:03:33.632187', '2020-10-13 15:03:33.632187');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 15:03:33.632187', '2020-10-13 15:03:33.632187');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$CXgwLNnWTTFx2sas5.KwE.v766MKVZwfP5e.sdphIuSdx4oZscWh.', '2020-10-13 15:03:33.632187', '2020-10-13 15:03:33.632187', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$a4gkCu9THUihvAYcAkDh8eAdR78K4QItH5KAv3e4eI0FEVZrYqU1e', '2020-10-13 15:03:33.632187', '2020-10-13 15:03:33.632187', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 15:03:33.636275', '2020-10-13 15:03:33.636275');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 15:03:33.636275', '2020-10-13 15:03:33.636275');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 15:03:33.640319', '2020-10-13 15:03:33.640319');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 15:03:33.640319', '2020-10-13 15:03:33.640319')[0m
  [1m[35m (137.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 10:03:33 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 212)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:03:33 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 476)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (160.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:03:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:03:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Completed 200 OK in 278ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 6262)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 10:03:34 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1187)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:03:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-13 10:03:34 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 17ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5600)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 278ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 6470)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 10:03:34 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 8ms (Views: 3.1ms | ActiveRecord: 0.7ms | Allocations: 2027)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (3.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (544.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (614.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 15:05:47.471825', '2020-10-13 15:05:47.471825');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 15:05:47.471825', '2020-10-13 15:05:47.471825');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$ZKunez0oEKVFzGAMBOUFSe.lCjw41Ya0qs.3R7FNGV5vnTXmsn6Cy', '2020-10-13 15:05:47.471825', '2020-10-13 15:05:47.471825', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$08Ay1mwhJbKmwWmUY61xQe3Flkrf6Gtb5rn//gl7f4zZxNn2utv42', '2020-10-13 15:05:47.471825', '2020-10-13 15:05:47.471825', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 15:05:47.474735', '2020-10-13 15:05:47.474735');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 15:05:47.474735', '2020-10-13 15:05:47.474735');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 15:05:47.480416', '2020-10-13 15:05:47.480416');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 15:05:47.480416', '2020-10-13 15:05:47.480416')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 15:05:47.560070', '2020-10-13 15:05:47.560070');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 15:05:47.560070', '2020-10-13 15:05:47.560070');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$wXpc6oCjXNzTBvKMZMpcyOlmkBn6wpJEvgZ.wqzXIsG5Ur5IAjJdm', '2020-10-13 15:05:47.560070', '2020-10-13 15:05:47.560070', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$.6d6b6FV4rOTcEE.sp41.O0HABG513Rd3gXmKtXPnXijnt8QcpE2K', '2020-10-13 15:05:47.560070', '2020-10-13 15:05:47.560070', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 15:05:47.562695', '2020-10-13 15:05:47.562695');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 15:05:47.562695', '2020-10-13 15:05:47.562695');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 15:05:47.564794', '2020-10-13 15:05:47.564794');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 15:05:47.564794', '2020-10-13 15:05:47.564794')[0m
  [1m[35m (228.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:05:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[35m (214.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:05:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
Completed 200 OK in 284ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 6468)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 10:05:48 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 7ms (Views: 2.4ms | ActiveRecord: 0.6ms | Allocations: 2027)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:05:48 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 354)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 10:05:48 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:05:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-13 10:05:48 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 5596)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 285ms (Views: 3.2ms | ActiveRecord: 0.2ms | Allocations: 6468)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 10:05:48 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 1190)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (585.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (640.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 15:06:32.221466', '2020-10-13 15:06:32.221466');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 15:06:32.221466', '2020-10-13 15:06:32.221466');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$8cX7NY0IMJkur5HkCvA/auF5UwL3YFHHPvBcTtik0zuCJgrMOzNSm', '2020-10-13 15:06:32.221466', '2020-10-13 15:06:32.221466', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$L76.4tysk.FtIn8R/K/75OsKZOK6o961qyoze2SOoNC7BYT9dXbKW', '2020-10-13 15:06:32.221466', '2020-10-13 15:06:32.221466', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 15:06:32.226779', '2020-10-13 15:06:32.226779');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 15:06:32.226779', '2020-10-13 15:06:32.226779');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 15:06:32.233261', '2020-10-13 15:06:32.233261');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 15:06:32.233261', '2020-10-13 15:06:32.233261')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 15:06:32.261711', '2020-10-13 15:06:32.261711');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 15:06:32.261711', '2020-10-13 15:06:32.261711');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$KkWwmiicq5pWOwbJry5ZKOYGuEod5bTzE/UhTxrjIaEGP65TDdWAa', '2020-10-13 15:06:32.261711', '2020-10-13 15:06:32.261711', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$eleLz2QgCsbH9Pws4WXwJ.eask2NOT5PwlmDkt8VVxlhlUTythpIe', '2020-10-13 15:06:32.261711', '2020-10-13 15:06:32.261711', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 15:06:32.264706', '2020-10-13 15:06:32.264706');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 15:06:32.264706', '2020-10-13 15:06:32.264706');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 15:06:32.268957', '2020-10-13 15:06:32.268957');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 15:06:32.268957', '2020-10-13 15:06:32.268957')[0m
  [1m[35m (193.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:06:32 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 565)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:06:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
  [1m[35m (343.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:06:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 6262)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 10:06:32 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1190)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:06:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 10:06:32 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-13 10:06:32 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 14ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 5600)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 267ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 6470)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 10:06:32 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 2027)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (1.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (509.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (610.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 15:06:51.236931', '2020-10-13 15:06:51.236931');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 15:06:51.236931', '2020-10-13 15:06:51.236931');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$so8NuDzg8J6A/tStKrY4.uC4HWwI24Cshvcs2zXBFoiVBgMelPDFi', '2020-10-13 15:06:51.236931', '2020-10-13 15:06:51.236931', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$d6.qYv3ha4j6uTLYBK/W4uHLHeYTnTKvcJIPMeGhKkrqFapKIHvCi', '2020-10-13 15:06:51.236931', '2020-10-13 15:06:51.236931', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 15:06:51.240563', '2020-10-13 15:06:51.240563');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 15:06:51.240563', '2020-10-13 15:06:51.240563');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 15:06:51.246498', '2020-10-13 15:06:51.246498');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 15:06:51.246498', '2020-10-13 15:06:51.246498')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-13 15:06:51.235430', '2020-10-13 15:06:51.235430');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-13 15:06:51.235430', '2020-10-13 15:06:51.235430');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$3BVruOXcudawrhTQsQCRmukQ9uwumJrvYVAuoacc353ja2f8eMcCi', '2020-10-13 15:06:51.235430', '2020-10-13 15:06:51.235430', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$rAPjcAUoSGMBaSGcaJFHSeFxTQDyKZ5w5TRerGpBZlOoOzim/6tpK', '2020-10-13 15:06:51.235430', '2020-10-13 15:06:51.235430', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-13 15:06:51.240309', '2020-10-13 15:06:51.240309');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-13 15:06:51.240309', '2020-10-13 15:06:51.240309');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-13 15:06:51.252170', '2020-10-13 15:06:51.252170');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-13 15:06:51.252170', '2020-10-13 15:06:51.252170')[0m
  [1m[35m (147.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-13 10:06:51 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[35m (208.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 35ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 11368)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-13 10:06:51 -0500
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:06:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 398)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:06:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"email1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email1@email.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:06:51 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 476)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-13 10:06:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@admin.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Completed 200 OK in 289ms (Views: 1.6ms | ActiveRecord: 0.2ms | Allocations: 564)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 10:06:51 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1190)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 273ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 6267)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-13 10:06:51 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 8ms (Views: 2.3ms | ActiveRecord: 0.8ms | Allocations: 2024)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (5.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (10.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (530.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (535.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:33:37.738875', '2020-10-14 11:33:37.738875');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:33:37.738875', '2020-10-14 11:33:37.738875');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$UmmePqf/zVxmVGw9fZAxSOYKSKXPRD3ran2zbDk.pRqN3UOZ1hzv.', '2020-10-14 11:33:37.738875', '2020-10-14 11:33:37.738875', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$DOelOww2VXz2JAEW8nQ5puU.dHTlVgrE.jYARJsankNEvRFgC7hwu', '2020-10-14 11:33:37.738875', '2020-10-14 11:33:37.738875', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:33:37.753029', '2020-10-14 11:33:37.753029');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:33:37.753029', '2020-10-14 11:33:37.753029');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:33:37.802467', '2020-10-14 11:33:37.802467');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:33:37.802467', '2020-10-14 11:33:37.802467')[0m
  [1m[36mFixtures Load (5.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:33:37.738875', '2020-10-14 11:33:37.738875');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:33:37.738875', '2020-10-14 11:33:37.738875');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$TIJfOP/oRz7k4HUTAuPwP.BeDvPUaDMNGYUaw9AXwM3JKPgvgsuq6', '2020-10-14 11:33:37.738875', '2020-10-14 11:33:37.738875', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$zspc9zxSI.EA/gNyZFTa/uRr/DthFXeQvRFa.jkXJYHdNemcDZnFe', '2020-10-14 11:33:37.738875', '2020-10-14 11:33:37.738875', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:33:37.752410', '2020-10-14 11:33:37.752410');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:33:37.752410', '2020-10-14 11:33:37.752410');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:33:37.802467', '2020-10-14 11:33:37.802467');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:33:37.802467', '2020-10-14 11:33:37.802467')[0m
  [1m[35m (169.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (168.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
-------------------------------------------------------------
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 10ms (Views: 1.6ms | ActiveRecord: 0.9ms | Allocations: 590)
Completed 401 Unauthorized in 10ms (Views: 1.6ms | ActiveRecord: 0.9ms | Allocations: 590)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@email.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (Views: 0.6ms | ActiveRecord: 1.0ms | Allocations: 244)
Completed 401 Unauthorized in 4ms (Views: 0.6ms | ActiveRecord: 1.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
[31mUnpermitted parameter: :format[0m
Completed 401 Unauthorized in 4ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 243)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 357)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 244)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 239)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 89ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 11161)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@email.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@email.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:33:38 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 242)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (507.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (1.8ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (550.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:34:18.978971', '2020-10-14 11:34:18.978971');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:34:18.978971', '2020-10-14 11:34:18.978971');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$p9GGD1Ni/Jm0kCrFZyZvf.gDbiydEYquNtElKga8sjHWeOAu9GgJ.', '2020-10-14 11:34:18.978971', '2020-10-14 11:34:18.978971', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$L5m0pe6fwH5o2giMkQ7Jl.28xjHLwLHfZ2t2WDZmG.MiSnfWo8Ti6', '2020-10-14 11:34:18.978971', '2020-10-14 11:34:18.978971', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:34:18.986269', '2020-10-14 11:34:18.986269');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:34:18.986269', '2020-10-14 11:34:18.986269');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:34:18.993766', '2020-10-14 11:34:18.993766');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:34:18.993766', '2020-10-14 11:34:18.993766')[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:34:18.987023', '2020-10-14 11:34:18.987023');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:34:18.987023', '2020-10-14 11:34:18.987023');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$vT.Wd.8rAL16Ra0zZFOaiu/5wGKmPnxJs/G4iBZcpb/rf482b1dpi', '2020-10-14 11:34:18.987023', '2020-10-14 11:34:18.987023', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$XutlwXD57.4RDLcq.Hr4ee8UQm1KwA.1whASLsBbKbxR8XJs8ZLf2', '2020-10-14 11:34:18.987023', '2020-10-14 11:34:18.987023', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:34:18.995821', '2020-10-14 11:34:18.995821');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:34:18.995821', '2020-10-14 11:34:18.995821');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:34:19.001412', '2020-10-14 11:34:19.001412');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:34:19.001412', '2020-10-14 11:34:19.001412')[0m
  [1m[35m (182.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
  [1m[35m (228.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 589)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 589)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 244)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 242)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 244)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 239)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 06:34:19 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 28ms (Views: 0.9ms | ActiveRecord: 0.5ms | Allocations: 11159)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (404.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (459.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:36:51.875579', '2020-10-14 11:36:51.875579');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:36:51.875579', '2020-10-14 11:36:51.875579');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$L8EYYvo2uZg31UrrgNWUI.n6dsGoC7LoH3wsPTUujUeqK1Mj0cCXu', '2020-10-14 11:36:51.875579', '2020-10-14 11:36:51.875579', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$QK3c3wqKcrw9LOVijZFU6uF2nGGIB9sdj4nTB/rFQ35LqVRp3G9Ri', '2020-10-14 11:36:51.875579', '2020-10-14 11:36:51.875579', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:36:51.878295', '2020-10-14 11:36:51.878295');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:36:51.878295', '2020-10-14 11:36:51.878295');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:36:51.881147', '2020-10-14 11:36:51.881147');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:36:51.881147', '2020-10-14 11:36:51.881147')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:36:51.937967', '2020-10-14 11:36:51.937967');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:36:51.937967', '2020-10-14 11:36:51.937967');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$/C/tjBCtXFt0qP8.Ie2ktewVUQGt30MEmu6o5wfzQGI9oyiz6i6wS', '2020-10-14 11:36:51.937967', '2020-10-14 11:36:51.937967', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$ikmYJeFBbdPyCLdF3LpFc.Jq8yhnD6Y6QXOS.x5Ri/Er/jle11D2i', '2020-10-14 11:36:51.937967', '2020-10-14 11:36:51.937967', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:36:51.944246', '2020-10-14 11:36:51.944246');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:36:51.944246', '2020-10-14 11:36:51.944246');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:36:51.946698', '2020-10-14 11:36:51.946698');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:36:51.946698', '2020-10-14 11:36:51.946698')[0m
  [1m[35m (120.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 589)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 242)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 17ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 11157)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 239)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (477.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 589)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 06:36:52 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (431.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (539.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:40:08.524125', '2020-10-14 11:40:08.524125');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:40:08.524125', '2020-10-14 11:40:08.524125');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$1ZrWO7qBsw4ynmIn0/iXvuj/MYEVcAkN8gQ97c4Dw7gqFxad/zewq', '2020-10-14 11:40:08.524125', '2020-10-14 11:40:08.524125', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$B.ArpMrjxZnIM9q1spFyBO.jBfinscb94XoVbvwlGsRLOqNVWdbeS', '2020-10-14 11:40:08.524125', '2020-10-14 11:40:08.524125', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:40:08.527188', '2020-10-14 11:40:08.527188');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:40:08.527188', '2020-10-14 11:40:08.527188');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:40:08.535498', '2020-10-14 11:40:08.535498');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:40:08.535498', '2020-10-14 11:40:08.535498')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:40:08.635704', '2020-10-14 11:40:08.635704');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:40:08.635704', '2020-10-14 11:40:08.635704');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$4Inv5OkT.xm24lvXhhSJNeIFOCrbpMBwcvt1OTd517ciDXHTyFfPe', '2020-10-14 11:40:08.635704', '2020-10-14 11:40:08.635704', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$H06virVtqjvewrcw0eM.VO3sBu1LHiVgw57xSGfn11OVYTX7ZxOIC', '2020-10-14 11:40:08.635704', '2020-10-14 11:40:08.635704', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:40:08.642220', '2020-10-14 11:40:08.642220');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:40:08.642220', '2020-10-14 11:40:08.642220');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:40:08.648838', '2020-10-14 11:40:08.648838');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:40:08.648838', '2020-10-14 11:40:08.648838')[0m
  [1m[35m (121.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 590)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 242)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 239)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
  [1m[35m (127.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 21ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 11158)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 590)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 06:40:08 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (400.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (404.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:42:48.419245', '2020-10-14 11:42:48.419245');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:42:48.419245', '2020-10-14 11:42:48.419245');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$1jyZPu9aIaxBKxpj.tgAh.ULYA2yKu.gfXQeH9/V9YnvvV6reLFmK', '2020-10-14 11:42:48.419245', '2020-10-14 11:42:48.419245', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$mzJ3QA0PpKx3BiWGWieGVemqqq3VHG/jyDdxkUWfRmA7cmKU/zkhW', '2020-10-14 11:42:48.419245', '2020-10-14 11:42:48.419245', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:42:48.422487', '2020-10-14 11:42:48.422487');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:42:48.422487', '2020-10-14 11:42:48.422487');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:42:48.428342', '2020-10-14 11:42:48.428342');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:42:48.428342', '2020-10-14 11:42:48.428342')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:42:48.457002', '2020-10-14 11:42:48.457002');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:42:48.457002', '2020-10-14 11:42:48.457002');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$Z/giHgOnUafH2ULlNIl3vebGZvQNbe5p4nJIpeEOG9tHoYfNU8Iyy', '2020-10-14 11:42:48.457002', '2020-10-14 11:42:48.457002', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$sB0w09OTtVkhsRj.NcL/0.DNrw8w4UNHfvnoXbm901ToVjgiuu.Ay', '2020-10-14 11:42:48.457002', '2020-10-14 11:42:48.457002', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:42:48.462388', '2020-10-14 11:42:48.462388');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:42:48.462388', '2020-10-14 11:42:48.462388');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:42:48.473002', '2020-10-14 11:42:48.473002');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:42:48.473002', '2020-10-14 11:42:48.473002')[0m
  [1m[35m (195.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
  [1m[35m (200.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 589)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 242)
Processing by Api::V1::UsersController#login as JSON
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Completed 401 Unauthorized in 3ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 589)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Processing by Api::V1::UsersController#login as JSON
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 244)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Completed 401 Unauthorized in 2ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 244)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 243)
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Completed 401 Unauthorized in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms | Allocations: 244)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 239)
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 06:42:48 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 35ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 11160)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (470.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (479.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:44:12.519802', '2020-10-14 11:44:12.519802');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:44:12.519802', '2020-10-14 11:44:12.519802');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$MFzxJGRLKKnPQnB3MkTbEePeUg48d1avAb1bB4GU8YV8J/qAr/hTC', '2020-10-14 11:44:12.519802', '2020-10-14 11:44:12.519802', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$QDt8ylLo1g.hvY/NaD8VPurnknBaRZ2ytpKcFXr12O6gkCyNJ2fi2', '2020-10-14 11:44:12.519802', '2020-10-14 11:44:12.519802', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:44:12.521744', '2020-10-14 11:44:12.521744');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:44:12.521744', '2020-10-14 11:44:12.521744');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:44:12.523709', '2020-10-14 11:44:12.523709');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:44:12.523709', '2020-10-14 11:44:12.523709')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:44:12.523176', '2020-10-14 11:44:12.523176');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:44:12.523176', '2020-10-14 11:44:12.523176');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$aeHUr1Ys8RO/7zWBy2ZB8egGgQZYQqKzZ.btpohCMvSgH6TBNLIxW', '2020-10-14 11:44:12.523176', '2020-10-14 11:44:12.523176', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$JfuKPRA.LNmZpYwMh2mH..ns771X2ZYVdP7jjFEM1R/Bctz4pXPc.', '2020-10-14 11:44:12.523176', '2020-10-14 11:44:12.523176', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:44:12.525862', '2020-10-14 11:44:12.525862');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:44:12.525862', '2020-10-14 11:44:12.525862');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:44:12.528665', '2020-10-14 11:44:12.528665');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:44:12.528665', '2020-10-14 11:44:12.528665')[0m
  [1m[35m (170.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (167.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 589)
Completed 401 Unauthorized in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 589)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
[31mUnpermitted parameter: :format[0m
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 242)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Completed 422 Unprocessable Entity in 22ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 11160)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:44:12 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 242)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (583.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (585.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[36mFixtures Load (4.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:45:29.846301', '2020-10-14 11:45:29.846301');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:45:29.846301', '2020-10-14 11:45:29.846301');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$26GIMdK9TwGK0j5vl/4NrOaOl98NPQIox6fRpVEhZod3JsVsTL76.', '2020-10-14 11:45:29.846301', '2020-10-14 11:45:29.846301', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$bBpI.H37g9BYA4btXCWbsuA0tdKyb7M2gln8hOGOIf9bpFi.basma', '2020-10-14 11:45:29.846301', '2020-10-14 11:45:29.846301', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:45:29.854810', '2020-10-14 11:45:29.854810');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:45:29.854810', '2020-10-14 11:45:29.854810');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:45:29.862578', '2020-10-14 11:45:29.862578');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:45:29.862578', '2020-10-14 11:45:29.862578')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:45:29.851918', '2020-10-14 11:45:29.851918');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:45:29.851918', '2020-10-14 11:45:29.851918');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$GXBjPp/bJqO.L6Ls0znO6O8j3oRSEbrpVYOS9rpg7rwRgTqUH4iJy', '2020-10-14 11:45:29.851918', '2020-10-14 11:45:29.851918', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$ynN5XdIIo.X09vkreTBEyuUa0Y1V/jY5TIobjDO0Askzwu84h4fTC', '2020-10-14 11:45:29.851918', '2020-10-14 11:45:29.851918', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:45:29.859607', '2020-10-14 11:45:29.859607');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:45:29.859607', '2020-10-14 11:45:29.859607');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:45:29.869063', '2020-10-14 11:45:29.869063');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:45:29.869063', '2020-10-14 11:45:29.869063')[0m
  [1m[35m (182.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.4ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
  [1m[35m (234.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Completed 401 Unauthorized in 3ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 590)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 590)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 242)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Completed 401 Unauthorized in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 242)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 357)
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 244)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 244)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 06:45:30 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 120)
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 27ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 11158)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (414.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (534.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:46:33.578614', '2020-10-14 11:46:33.578614');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:46:33.578614', '2020-10-14 11:46:33.578614');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$bV6ZgUMSq.n..An38BQK8eeLHINJI10MP89ruXx0DyAfXtWmVRHda', '2020-10-14 11:46:33.578614', '2020-10-14 11:46:33.578614', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$Qj/4u1u.ghOWG6lOPNm/1.sYXNvSBpooXV0lIe121c1F9zm5vsxXW', '2020-10-14 11:46:33.578614', '2020-10-14 11:46:33.578614', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:46:33.583804', '2020-10-14 11:46:33.583804');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:46:33.583804', '2020-10-14 11:46:33.583804');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:46:33.588522', '2020-10-14 11:46:33.588522');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:46:33.588522', '2020-10-14 11:46:33.588522')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:46:33.641785', '2020-10-14 11:46:33.641785');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:46:33.641785', '2020-10-14 11:46:33.641785');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$M5e0XnY/AotaZ5oyZHOrEeO7OEcjMVfk0hAnR9relGLMVbflxPkAi', '2020-10-14 11:46:33.641785', '2020-10-14 11:46:33.641785', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$en3i1/2iZfN18GVNLTQPMOR56q4uYagB4ziRzsT0QZ2uYRzpnKNa6', '2020-10-14 11:46:33.641785', '2020-10-14 11:46:33.641785', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:46:33.648664', '2020-10-14 11:46:33.648664');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:46:33.648664', '2020-10-14 11:46:33.648664');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:46:33.652028', '2020-10-14 11:46:33.652028');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:46:33.652028', '2020-10-14 11:46:33.652028')[0m
  [1m[35m (199.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
  [1m[35m (191.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 589)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 589)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 4ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 244)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 239)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 244)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 243)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 244)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 244)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 06:46:34 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:46:34 -0500
Processing by Api::V1::UsersController#create as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
[31mUnpermitted parameter: :format[0m
Completed 401 Unauthorized in 3ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:46:34 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 242)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 41ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 11159)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (455.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (453.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:47:07.084327', '2020-10-14 11:47:07.084327');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:47:07.084327', '2020-10-14 11:47:07.084327');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$oArsYPmiMqzSAJW7kOmJpOjp0HRLxYqHUX9wdGGz54TTkQv5B0/h6', '2020-10-14 11:47:07.084327', '2020-10-14 11:47:07.084327', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$ildO4Py9Eh4iaM5GU/fHNugfT2CTYSyPXjU2WOsJFUwKcKUPHC3TS', '2020-10-14 11:47:07.084327', '2020-10-14 11:47:07.084327', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:47:07.086023', '2020-10-14 11:47:07.086023');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:47:07.086023', '2020-10-14 11:47:07.086023');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:47:07.087593', '2020-10-14 11:47:07.087593');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:47:07.087593', '2020-10-14 11:47:07.087593')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:47:07.133924', '2020-10-14 11:47:07.133924');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:47:07.133924', '2020-10-14 11:47:07.133924');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$SQI689lcWsa1MofZT./zfuJL0Fy2qlG47XWwl4ZryYL0/hw/CPuLa', '2020-10-14 11:47:07.133924', '2020-10-14 11:47:07.133924', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$cAuE2fig6dBXnzCAVPG7dOWjUqoHya4SKUPNyYqEkoULs5sXqfnd6', '2020-10-14 11:47:07.133924', '2020-10-14 11:47:07.133924', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:47:07.136004', '2020-10-14 11:47:07.136004');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:47:07.136004', '2020-10-14 11:47:07.136004');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:47:07.137609', '2020-10-14 11:47:07.137609');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:47:07.137609', '2020-10-14 11:47:07.137609')[0m
  [1m[35m (88.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 06:47:07 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 211)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:47:07 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 500)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 06:47:07 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 19ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 11160)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:47:07 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 356)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:47:07 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:47:07 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 239)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:47:07 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 244)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:47:07 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 239)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (161.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (461.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (461.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (2.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (4.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:47:41.923938', '2020-10-14 11:47:41.923938');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:47:41.923938', '2020-10-14 11:47:41.923938');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$qNMbG/w9djHcXMGaXaJ5aeap2W/3Zv0f/3P3VWCEVUkGXPNnqLjpS', '2020-10-14 11:47:41.923938', '2020-10-14 11:47:41.923938', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$KIJkSjg2yssT.iby8ysM2uplud1Zyud7YQcWX5VU4df5V9rcOCGWe', '2020-10-14 11:47:41.923938', '2020-10-14 11:47:41.923938', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:47:41.927657', '2020-10-14 11:47:41.927657');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:47:41.927657', '2020-10-14 11:47:41.927657');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:47:41.934593', '2020-10-14 11:47:41.934593');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:47:41.934593', '2020-10-14 11:47:41.934593')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:47:41.974061', '2020-10-14 11:47:41.974061');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:47:41.974061', '2020-10-14 11:47:41.974061');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'email1@email.com', '$2a$12$.u70nz2Y5NkadJZux3oTUuJFXzOlEldaB/M.eZW5OGzbFgWYIZ1KO', '2020-10-14 11:47:41.974061', '2020-10-14 11:47:41.974061', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@admin.com', '$2a$12$kcWfDz5TNGDutFsAQJXQXeUQfCn3So.2vsoE6W9htTt5uvxiL1qYW', '2020-10-14 11:47:41.974061', '2020-10-14 11:47:41.974061', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:47:41.976555', '2020-10-14 11:47:41.976555');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:47:41.976555', '2020-10-14 11:47:41.976555');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:47:41.983764', '2020-10-14 11:47:41.983764');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:47:41.983764', '2020-10-14 11:47:41.983764')[0m
  [1m[35m (122.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (1.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (175.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:47:42 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:47:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 590)
Processing by Api::V1::UsersController#login as JSON
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:47:42 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 565)
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 242)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:47:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 382)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 06:47:42 -0500
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:47:42 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 242)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 06:47:42 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 25ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 11159)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:47:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (554.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (593.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:48:55.233633', '2020-10-14 11:48:55.233633');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:48:55.233633', '2020-10-14 11:48:55.233633');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$vJK8yk7IJ5DGVkBfBtTTk.VRuvsH5Jm63tiM.me7VYloa3VoOjC7a', '2020-10-14 11:48:55.233633', '2020-10-14 11:48:55.233633', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$bdcg7g1cJu5blfXrDGMo6ObsBG7/QM4aM1M4p56SfL/rJdAfYnZeW', '2020-10-14 11:48:55.233633', '2020-10-14 11:48:55.233633', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:48:55.239024', '2020-10-14 11:48:55.239024');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:48:55.239024', '2020-10-14 11:48:55.239024');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:48:55.241489', '2020-10-14 11:48:55.241489');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:48:55.241489', '2020-10-14 11:48:55.241489')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:48:55.246601', '2020-10-14 11:48:55.246601');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:48:55.246601', '2020-10-14 11:48:55.246601');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$Cpxa2o70cLB1mf.GGEMeEe9jAAp0jw.Zw.8rCfF4pI54NoUdoYvty', '2020-10-14 11:48:55.246601', '2020-10-14 11:48:55.246601', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$ey3JpVALqF0ukAPAX034reNYjetAIDwex7euxYMCRoyvP.i0Oa1S.', '2020-10-14 11:48:55.246601', '2020-10-14 11:48:55.246601', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:48:55.251121', '2020-10-14 11:48:55.251121');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:48:55.251121', '2020-10-14 11:48:55.251121');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:48:55.253775', '2020-10-14 11:48:55.253775');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:48:55.253775', '2020-10-14 11:48:55.253775')[0m
  [1m[35m (185.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
  [1m[35m (177.0ms)[0m  [1m[36mcommit transaction[0m
------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 06:48:55 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:48:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 588)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 06:48:55 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:48:55 -0500
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 25ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 11351)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:48:55 -0500
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by Api::V1::UsersController#login as JSON
-------------------------------------------------------------------------
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:48:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 726)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:48:55 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Completed 200 OK in 254ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 6130)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:48:55 -0500
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1188)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.6ms | Allocations: 2022)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (417.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (472.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:51:58.040290', '2020-10-14 11:51:58.040290');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:51:58.040290', '2020-10-14 11:51:58.040290');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$grKq44yMnD0U75kUSU6HNeVF/EFZ0gGzO415mwb9bt8z8Up6azoie', '2020-10-14 11:51:58.040290', '2020-10-14 11:51:58.040290', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$L/UAjXZQTQrU3yQbm93k7eBr7UodczMo/EM9ToYdUKOHuSspw7WPC', '2020-10-14 11:51:58.040290', '2020-10-14 11:51:58.040290', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:51:58.044203', '2020-10-14 11:51:58.044203');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:51:58.044203', '2020-10-14 11:51:58.044203');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:51:58.049028', '2020-10-14 11:51:58.049028');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:51:58.049028', '2020-10-14 11:51:58.049028')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 11:51:58.064217', '2020-10-14 11:51:58.064217');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 11:51:58.064217', '2020-10-14 11:51:58.064217');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$2MVhxpPmBT30HC0gH40R1ekF7fajsI4svgWrbhRCz0IP6/QXlFRZW', '2020-10-14 11:51:58.064217', '2020-10-14 11:51:58.064217', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$PoFXHCD3l60xgrDTsZEoQe00dHk84ADTLo6mZ7ZP/1eyrIjdhVezC', '2020-10-14 11:51:58.064217', '2020-10-14 11:51:58.064217', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 11:51:58.067433', '2020-10-14 11:51:58.067433');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 11:51:58.067433', '2020-10-14 11:51:58.067433');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 11:51:58.072159', '2020-10-14 11:51:58.072159');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 11:51:58.072159', '2020-10-14 11:51:58.072159')[0m
  [1m[35m (145.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:58 -0500
  [1m[35m (179.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 1.9ms | ActiveRecord: 0.2ms | Allocations: 6475)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 1.9ms | ActiveRecord: 0.2ms | Allocations: 6475)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 06:51:58 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:51:58 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1188)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 06:51:59 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 17ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 5601)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:51:59 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 246ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 06:52:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 06:52:00 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 2024)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (1.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (587.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (589.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:02:17.354064', '2020-10-14 12:02:17.354064');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:02:17.354064', '2020-10-14 12:02:17.354064');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$tESo8C5ORROycR9EE3cnpOn5Lydf9ypZ2CkLJqFgsrjoY487Y9y.a', '2020-10-14 12:02:17.354064', '2020-10-14 12:02:17.354064', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$oLLprsJTWUK1/fHaIBbEJuojOZGL2r3iZyPxZXhv6kiGj1vIqbEEq', '2020-10-14 12:02:17.354064', '2020-10-14 12:02:17.354064', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:02:17.355732', '2020-10-14 12:02:17.355732');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:02:17.355732', '2020-10-14 12:02:17.355732');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:02:17.357432', '2020-10-14 12:02:17.357432');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:02:17.357432', '2020-10-14 12:02:17.357432')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:02:17.400670', '2020-10-14 12:02:17.400670');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:02:17.400670', '2020-10-14 12:02:17.400670');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$ZqBAGLsJW9uZl/xJKi5yI.qtRHPmkFZ5FE991NkuxxHx6A1W3kV7y', '2020-10-14 12:02:17.400670', '2020-10-14 12:02:17.400670', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$mXvztkw87YtDufvcTAQINOYp3qWXrno.FxtWfjds.btX60kvYdn7O', '2020-10-14 12:02:17.400670', '2020-10-14 12:02:17.400670', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:02:17.402327', '2020-10-14 12:02:17.402327');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:02:17.402327', '2020-10-14 12:02:17.402327');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:02:17.403977', '2020-10-14 12:02:17.403977');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:02:17.403977', '2020-10-14 12:02:17.403977')[0m
  [1m[35m (124.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:17 -0500
  [1m[35m (148.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.8ms | ActiveRecord: 0.6ms | Allocations: 6475)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 250ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 6475)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:18 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:02:18 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 535)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 535)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:02:19 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1188)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:02:19 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 2025)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:02:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:02:19 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5600)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (498.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (501.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:04:18.177010', '2020-10-14 12:04:18.177010');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:04:18.177010', '2020-10-14 12:04:18.177010');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$SePKEbIGzl2g6514XD/DLuWFfE3NXtEnv.TDNY/X4AAAp4h4v2uNW', '2020-10-14 12:04:18.177010', '2020-10-14 12:04:18.177010', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$CK0XhJ1cSusIuaYZ1zfKDuCtH8OphBBCx53nqA/oirsV/0N2/7bUy', '2020-10-14 12:04:18.177010', '2020-10-14 12:04:18.177010', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:04:18.178730', '2020-10-14 12:04:18.178730');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:04:18.178730', '2020-10-14 12:04:18.178730');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:04:18.180491', '2020-10-14 12:04:18.180491');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:04:18.180491', '2020-10-14 12:04:18.180491')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:04:18.225542', '2020-10-14 12:04:18.225542');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:04:18.225542', '2020-10-14 12:04:18.225542');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$sDBulPitbTraXNeR/XLaKucOhpmSiyNfZjqzC6W2d.diZEeSeO51C', '2020-10-14 12:04:18.225542', '2020-10-14 12:04:18.225542', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$lT7G4FuhZ1y1ymZysyCBhezCQf60pxgo/1ov8pUP7gobvd3Wn2Xjm', '2020-10-14 12:04:18.225542', '2020-10-14 12:04:18.225542', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:04:18.227302', '2020-10-14 12:04:18.227302');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:04:18.227302', '2020-10-14 12:04:18.227302');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:04:18.228867', '2020-10-14 12:04:18.228867');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:04:18.228867', '2020-10-14 12:04:18.228867')[0m
  [1m[35m (196.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:18 -0500
  [1m[35m (215.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6475)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 6475)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:04:19 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 124)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:19 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 358)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:04:19 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.4ms | Allocations: 2025)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:04:20 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5600)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:04:20 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1188)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:04:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:04:20 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1907)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (535.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (2.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (593.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:06:19.944343', '2020-10-14 12:06:19.944343');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:06:19.944343', '2020-10-14 12:06:19.944343');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$P2vhADL18MmQkZuql7jHkOCTvPH2qA6TMsY2IOnlLaJLUhdgBOe2m', '2020-10-14 12:06:19.944343', '2020-10-14 12:06:19.944343', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$hk4.h9FuvEWDGM33RZrGBu6JVt8T6WisOoGLIcMUm2ayXhG7Hz1Si', '2020-10-14 12:06:19.944343', '2020-10-14 12:06:19.944343', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:06:19.951401', '2020-10-14 12:06:19.951401');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:06:19.951401', '2020-10-14 12:06:19.951401');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:06:19.955491', '2020-10-14 12:06:19.955491');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:06:19.955491', '2020-10-14 12:06:19.955491')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:06:19.962923', '2020-10-14 12:06:19.962923');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:06:19.962923', '2020-10-14 12:06:19.962923');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$Q4hZ3d7jZz4pCN/usZgGveEXj0eYkhvGtKU7rAUS/GoOuYqW.NURO', '2020-10-14 12:06:19.962923', '2020-10-14 12:06:19.962923', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$H0VTxxdyDCqQwJeQE5U22uRoDQvHxUxqvkfRtUQe0gGZ8PYmlavlm', '2020-10-14 12:06:19.962923', '2020-10-14 12:06:19.962923', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:06:19.970346', '2020-10-14 12:06:19.970346');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:06:19.970346', '2020-10-14 12:06:19.970346');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:06:19.973568', '2020-10-14 12:06:19.973568');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:06:19.973568', '2020-10-14 12:06:19.973568')[0m
  [1m[35m (188.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
  [1m[35m (237.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:20 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 6475)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 6475)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:06:20 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 8ms (Views: 1.9ms | ActiveRecord: 0.6ms | Allocations: 2025)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:21 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:06:21 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1002)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:06:21 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 16ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 5600)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:06:21 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:21 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1907)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 248ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:06:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:06:22 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (576.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (627.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:07:24.955288', '2020-10-14 12:07:24.955288');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:07:24.955288', '2020-10-14 12:07:24.955288');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$BZHWWjwdaLeTj67Sf/Mlde15A2du570MsxBdL594Xf4YgK9ThQBWK', '2020-10-14 12:07:24.955288', '2020-10-14 12:07:24.955288', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$FCMGXpD4ZgJfGoe/Enk2JOgMIB8vVG3NjeuVoA239F3wiXXUnTyay', '2020-10-14 12:07:24.955288', '2020-10-14 12:07:24.955288', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:07:24.956947', '2020-10-14 12:07:24.956947');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:07:24.956947', '2020-10-14 12:07:24.956947');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:07:24.958672', '2020-10-14 12:07:24.958672');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:07:24.958672', '2020-10-14 12:07:24.958672')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:07:24.979202', '2020-10-14 12:07:24.979202');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:07:24.979202', '2020-10-14 12:07:24.979202');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$hqWuY8AR3EmE/MpUClPULeldLhWyZJRz6IKD4KFRdntbBA3dj2/QK', '2020-10-14 12:07:24.979202', '2020-10-14 12:07:24.979202', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$Skg.IZE9abfBCrGpvdmP7OwSh5WS/ZUGt5Do96bsOB1n.Wv5naccu', '2020-10-14 12:07:24.979202', '2020-10-14 12:07:24.979202', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:07:24.980874', '2020-10-14 12:07:24.980874');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:07:24.980874', '2020-10-14 12:07:24.980874');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:07:24.982485', '2020-10-14 12:07:24.982485');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:07:24.982485', '2020-10-14 12:07:24.982485')[0m
  [1m[35m (172.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
  [1m[35m (153.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:25 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6475)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:25 -0500
Completed 200 OK in 254ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6475)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:25 -0500
Processing by Api::V1::UsersController#login as JSON
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 357)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:07:25 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5601)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:07:26 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 2093)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:07:26 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1188)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:07:26 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:07:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:07:27 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 1836)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (516.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (517.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:08:00.095573', '2020-10-14 12:08:00.095573');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:08:00.095573', '2020-10-14 12:08:00.095573');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$ZtPD6mbtU2fhzNZuhCbzQOuI4Qg3KS9ZOU7V8X.ftTKEFhVgObm.6', '2020-10-14 12:08:00.095573', '2020-10-14 12:08:00.095573', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$nV1FJrafxWCTd60VcbH9Segh7O7Bx56Xhe9mP61IZ7J4vL.iBcuQC', '2020-10-14 12:08:00.095573', '2020-10-14 12:08:00.095573', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:08:00.110999', '2020-10-14 12:08:00.110999');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:08:00.110999', '2020-10-14 12:08:00.110999');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:08:00.113876', '2020-10-14 12:08:00.113876');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:08:00.113876', '2020-10-14 12:08:00.113876')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:08:00.148618', '2020-10-14 12:08:00.148618');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:08:00.148618', '2020-10-14 12:08:00.148618');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$Sp8fo.WpHz8UXuPO29UyKuouxcYk501b1Z98ET63cB8CMXO6.sMbi', '2020-10-14 12:08:00.148618', '2020-10-14 12:08:00.148618', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$qDpZsRHww5ayukXGaS9Q7e73dWrKrow5b1ZevSZD5B9X3TR9pyjbq', '2020-10-14 12:08:00.148618', '2020-10-14 12:08:00.148618', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:08:00.162150', '2020-10-14 12:08:00.162150');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:08:00.162150', '2020-10-14 12:08:00.162150');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:08:00.165232', '2020-10-14 12:08:00.165232');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:08:00.165232', '2020-10-14 12:08:00.165232')[0m
  [1m[35m (82.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (145.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 261ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 6476)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 6476)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:00 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:08:00 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 2025)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 259ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 259ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:08:01 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1907)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 266ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:08:01 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 267ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:08:01 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5541)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:08:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:08:02 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1185)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (580.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (632.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:10:48.259146', '2020-10-14 12:10:48.259146');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:10:48.259146', '2020-10-14 12:10:48.259146');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$EVJIraNMIcIJ2O0BU4v6quLUGM.gXbVn.PRWbnkX4daR21ibYL3Hq', '2020-10-14 12:10:48.259146', '2020-10-14 12:10:48.259146', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$e0qoX3fMGE4m8qCrCnKiyOh5tds/mR4NVxSkph1z.dz7ix.wVN8Yu', '2020-10-14 12:10:48.259146', '2020-10-14 12:10:48.259146', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:10:48.260964', '2020-10-14 12:10:48.260964');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:10:48.260964', '2020-10-14 12:10:48.260964');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:10:48.262654', '2020-10-14 12:10:48.262654');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:10:48.262654', '2020-10-14 12:10:48.262654')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:10:48.313630', '2020-10-14 12:10:48.313630');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:10:48.313630', '2020-10-14 12:10:48.313630');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$B3tvBs4yTVcT1CRQNrTHh.ye9zO0WgMWxHFu3WuEtq9GQyk/hu7rq', '2020-10-14 12:10:48.313630', '2020-10-14 12:10:48.313630', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$7HP8p7Zlk5jcGH2urQtEue82YZJus3iTueoiJi.5mtc6XrNH6zuQu', '2020-10-14 12:10:48.313630', '2020-10-14 12:10:48.313630', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:10:48.315462', '2020-10-14 12:10:48.315462');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:10:48.315462', '2020-10-14 12:10:48.315462');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:10:48.317453', '2020-10-14 12:10:48.317453');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:10:48.317453', '2020-10-14 12:10:48.317453')[0m
  [1m[35m (197.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
  [1m[35m (150.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:48 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 276ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:10:49 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1188)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:10:49 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:10:49 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 12ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 5601)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 268ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:10:49 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.4ms | Allocations: 2025)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_show_any_other_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:50 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 354)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:10:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:10:50 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1654)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 242ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:10:50 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 1907)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (494.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (496.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:11:58.517964', '2020-10-14 12:11:58.517964');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:11:58.517964', '2020-10-14 12:11:58.517964');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$gN.KDWDfwBEq9jX7/eHQdu4udiwQtiKcMLynDbaMo93ttqkKGmVi6', '2020-10-14 12:11:58.517964', '2020-10-14 12:11:58.517964', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$1e3aS1YKNzQZsXRE8BiOCuYXKZEbp587bJ2cOhiKsm82rl8QfaRhu', '2020-10-14 12:11:58.517964', '2020-10-14 12:11:58.517964', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:11:58.519998', '2020-10-14 12:11:58.519998');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:11:58.519998', '2020-10-14 12:11:58.519998');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:11:58.526314', '2020-10-14 12:11:58.526314');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:11:58.526314', '2020-10-14 12:11:58.526314')[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:11:58.529899', '2020-10-14 12:11:58.529899');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:11:58.529899', '2020-10-14 12:11:58.529899');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$kxogI7LFB6UszyoHSISTS.acUJWPyJvnLLPzd747lnkhYC3BbpYfS', '2020-10-14 12:11:58.529899', '2020-10-14 12:11:58.529899', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$ZOKvUKFM4Xd5B9BxuIh/7O0A8zCdkUVI8blG42HxdXHviZiaSqQ4.', '2020-10-14 12:11:58.529899', '2020-10-14 12:11:58.529899', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:11:58.533094', '2020-10-14 12:11:58.533094');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:11:58.533094', '2020-10-14 12:11:58.533094');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:11:58.535002', '2020-10-14 12:11:58.535002');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:11:58.535002', '2020-10-14 12:11:58.535002')[0m
  [1m[35m (146.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (158.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:11:58 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:11:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:11:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:11:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:11:59 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1843)
Completed 200 OK in 244ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:11:59 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:11:59 -0500
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 2093)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:11:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:11:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 262ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:11:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:11:59 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5540)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:11:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 266ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:11:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:11:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:12:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 267ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:12:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:12:00 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:12:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:12:00 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 1839)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:12:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:12:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 266ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:12:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:12:00 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 999)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:12:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:12:00 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1368)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:12:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:12:01 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 352)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (431.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (429.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:15:36.434773', '2020-10-14 12:15:36.434773');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:15:36.434773', '2020-10-14 12:15:36.434773');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$fDeUdfdGR3wQCQ.xd0Ek..g7xKCT.4kNKuHWaV/EmgrBU2KUmHKs.', '2020-10-14 12:15:36.434773', '2020-10-14 12:15:36.434773', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$UrGmhmysbMiO4slp90R/Oez1MvcfaMOZU5eiQcc9r3GFa3.BH6jT6', '2020-10-14 12:15:36.434773', '2020-10-14 12:15:36.434773', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:15:36.437214', '2020-10-14 12:15:36.437214');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:15:36.437214', '2020-10-14 12:15:36.437214');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:15:36.438849', '2020-10-14 12:15:36.438849');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:15:36.438849', '2020-10-14 12:15:36.438849')[0m
  [1m[36mFixtures Load (3.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:15:36.434738', '2020-10-14 12:15:36.434738');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:15:36.434738', '2020-10-14 12:15:36.434738');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$O.0qhc3Swz71imSUEONx6OZQn0ou7M7wKY76LXvYS8D2apICzjw3u', '2020-10-14 12:15:36.434738', '2020-10-14 12:15:36.434738', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$6IV7cKunR8AyDKM.JIkZ4ezUHhdv57e04XFWQc2XfbbQ6hMJ22KPG', '2020-10-14 12:15:36.434738', '2020-10-14 12:15:36.434738', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:15:36.437214', '2020-10-14 12:15:36.437214');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:15:36.437214', '2020-10-14 12:15:36.437214');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:15:36.438850', '2020-10-14 12:15:36.438850');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:15:36.438850', '2020-10-14 12:15:36.438850')[0m
  [1m[35m (157.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
  [1m[35m (199.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:36 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.7ms | ActiveRecord: 0.4ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:15:37 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 2093)
Completed 200 OK in 242ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:15:37 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1188)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:37 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:15:37 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:37 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 422 Unprocessable Entity in 11ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 5540)
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:37 -0500
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:15:38 -0500
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:38 -0500
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 352)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:38 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:38 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:38 -0500
Completed 200 OK in 249ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:15:38 -0500
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:15:38 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1368)
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 1839)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:38 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:38 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:15:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:15:39 -0500
Completed 200 OK in 242ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:15:39 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1654)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.5ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 88ms (Views: 1.4ms | ActiveRecord: 2.0ms | Allocations: 5918)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (493.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (537.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:19:47.087883', '2020-10-14 12:19:47.087883');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:19:47.087883', '2020-10-14 12:19:47.087883');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$zsJancQZZ/Pt20hLMqAop.PdaUeSP28BIsOEnD6yxJf5Bz6329CTC', '2020-10-14 12:19:47.087883', '2020-10-14 12:19:47.087883', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$kCTXMFItdKQGpW78AhvgIuF8UprPIM/K8Be9tI/ihTJsfsYBYaqku', '2020-10-14 12:19:47.087883', '2020-10-14 12:19:47.087883', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:19:47.092985', '2020-10-14 12:19:47.092985');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:19:47.092985', '2020-10-14 12:19:47.092985');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:19:47.097718', '2020-10-14 12:19:47.097718');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:19:47.097718', '2020-10-14 12:19:47.097718')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:19:47.112682', '2020-10-14 12:19:47.112682');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:19:47.112682', '2020-10-14 12:19:47.112682');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$De8/Ij9DL.N82mr5V4aZmO1yXL8HAeI21y3VwvaCQUmZwPY4W3q8e', '2020-10-14 12:19:47.112682', '2020-10-14 12:19:47.112682', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$1cvX248xveoXZzrv4.1YD..6rBdK9fqs3nNGqXNq20tUndYP5KqA.', '2020-10-14 12:19:47.112682', '2020-10-14 12:19:47.112682', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:19:47.116735', '2020-10-14 12:19:47.116735');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:19:47.116735', '2020-10-14 12:19:47.116735');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:19:47.120681', '2020-10-14 12:19:47.120681');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:19:47.120681', '2020-10-14 12:19:47.120681')[0m
  [1m[35m (189.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
  [1m[35m (212.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:47 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 6476)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 271ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 6476)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 269ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:19:48 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 15ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 5601)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:19:48 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1668)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:19:48 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1843)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:19:48 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1793)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:19:49 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 999)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:19:49 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:49 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 356)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:19:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:19:49 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 1836)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (485.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (489.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:20:19.441792', '2020-10-14 12:20:19.441792');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:20:19.441792', '2020-10-14 12:20:19.441792');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$7MiEeJcFltOUIAg7j4UNp.GYcYPFXFGzm6NXgnptoixNXWK0RcWwm', '2020-10-14 12:20:19.441792', '2020-10-14 12:20:19.441792', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$ntBw/8e9QO2/o07C87LWzeJxX3HRPlG7us43eQ6GgrZtsY6aePdkC', '2020-10-14 12:20:19.441792', '2020-10-14 12:20:19.441792', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:20:19.443641', '2020-10-14 12:20:19.443641');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:20:19.443641', '2020-10-14 12:20:19.443641');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:20:19.448612', '2020-10-14 12:20:19.448612');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:20:19.448612', '2020-10-14 12:20:19.448612')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:20:19.443048', '2020-10-14 12:20:19.443048');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:20:19.443048', '2020-10-14 12:20:19.443048');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$HPf3bSoLaHhBRlqXtR1c.urcdCm04CiANTle4mbeE/mQ4/A75rUuW', '2020-10-14 12:20:19.443048', '2020-10-14 12:20:19.443048', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$VwpHJkRtkZbz15btFC7NLOp5ezBv2dhj6iGb427MZceHgTIkqQu5.', '2020-10-14 12:20:19.443048', '2020-10-14 12:20:19.443048', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:20:19.447437', '2020-10-14 12:20:19.447437');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:20:19.447437', '2020-10-14 12:20:19.447437');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:20:19.452063', '2020-10-14 12:20:19.452063');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:20:19.452063', '2020-10-14 12:20:19.452063')[0m
  [1m[35m (173.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (171.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:19 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:19 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6474)
Completed 200 OK in 255ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:20 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:20:20 -0500
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:20:20 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1843)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.4ms | Allocations: 2025)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:20 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:20 -0500
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:20:20 -0500
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:20:20 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 14ms (Views: 0.6ms | ActiveRecord: 0.9ms | Allocations: 5932)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 422 Unprocessable Entity in 14ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5600)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
---------------------------------------------------------------
------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:20 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:20 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:21 -0500
Completed 200 OK in 245ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 240ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:20:21 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:21 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1907)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:21 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 354)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:20:21 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1002)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:20:22 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 244ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:20:22 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1368)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (559.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (645.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:20:48.817987', '2020-10-14 12:20:48.817987');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:20:48.817987', '2020-10-14 12:20:48.817987');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$ThZm/nXd3fFfG6rSK4pIdeox7zQExdRebQY5yg5j9JzHP4U7H1A2W', '2020-10-14 12:20:48.817987', '2020-10-14 12:20:48.817987', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$o7b2mUprXsxplgSBJ6LDBe6pcc1cbFq0/QsXrMmpjqptng5HdgNDW', '2020-10-14 12:20:48.817987', '2020-10-14 12:20:48.817987', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:20:48.819761', '2020-10-14 12:20:48.819761');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:20:48.819761', '2020-10-14 12:20:48.819761');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:20:48.822361', '2020-10-14 12:20:48.822361');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:20:48.822361', '2020-10-14 12:20:48.822361')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:20:48.866555', '2020-10-14 12:20:48.866555');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:20:48.866555', '2020-10-14 12:20:48.866555');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$IvkHND8e0lATgxOftx4OFe7m.W8GvMAqX.8rVmoHaek8VnRdCl9Wm', '2020-10-14 12:20:48.866555', '2020-10-14 12:20:48.866555', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$pecogVxUKO2xwCywKDdd1eYEnDPjLdzW1dbruchGlQLa5SXPMNp3a', '2020-10-14 12:20:48.866555', '2020-10-14 12:20:48.866555', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:20:48.868327', '2020-10-14 12:20:48.868327');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:20:48.868327', '2020-10-14 12:20:48.868327');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:20:48.869946', '2020-10-14 12:20:48.869946');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:20:48.869946', '2020-10-14 12:20:48.869946')[0m
  [1m[35m (198.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
  [1m[35m (214.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:49 -0500
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 260ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:20:49 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5601)
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:20:49 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:49 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1843)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:20:50 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 2024)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:20:50 -0500
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:50 -0500
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1368)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:50 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 354)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:50 -0500
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:20:50 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 15ms (Views: 0.4ms | ActiveRecord: 1.6ms | Allocations: 5930)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:20:51 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1907)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:20:51 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 999)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:20:51 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 244ms (Views: 1.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:20:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (623.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (677.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:22:08.022247', '2020-10-14 12:22:08.022247');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:22:08.022247', '2020-10-14 12:22:08.022247');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$CuHekHv.9OJOfdR7msM2IuPeB3wjT8.w9LkEEZA5m0M1q8eyZa1b.', '2020-10-14 12:22:08.022247', '2020-10-14 12:22:08.022247', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$Fb8.jjBJ0TibhXTeFjPTm.Jlxo.l5WdSG9piyLtlzyWCDX6qQu/ES', '2020-10-14 12:22:08.022247', '2020-10-14 12:22:08.022247', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:22:08.024160', '2020-10-14 12:22:08.024160');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:22:08.024160', '2020-10-14 12:22:08.024160');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:22:08.026281', '2020-10-14 12:22:08.026281');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:22:08.026281', '2020-10-14 12:22:08.026281')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:22:08.039103', '2020-10-14 12:22:08.039103');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:22:08.039103', '2020-10-14 12:22:08.039103');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$6NhllehL8j7meqN6f/UoIOdclBk5WIVXRPkD/n80phwCdLB/0Xuxa', '2020-10-14 12:22:08.039103', '2020-10-14 12:22:08.039103', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$fPvUcFTrHugUHaBhwKA9VO5OXLsMb3cfwgAGbDZ0zLv4/ZITjPsMa', '2020-10-14 12:22:08.039103', '2020-10-14 12:22:08.039103', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:22:08.041038', '2020-10-14 12:22:08.041038');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:22:08.041038', '2020-10-14 12:22:08.041038');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:22:08.043193', '2020-10-14 12:22:08.043193');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:22:08.043193', '2020-10-14 12:22:08.043193')[0m
  [1m[35m (197.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_non_admin_user_for_index_users
-------------------------------------------------------------------------
  [1m[35m (225.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:08 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 6476)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 6476)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:22:08 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1188)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:22:08 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1843)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:08 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:09 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:09 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:09 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:09 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 1.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:22:09 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 14ms (Views: 0.8ms | ActiveRecord: 1.6ms | Allocations: 5935)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:09 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:09 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:09 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:22:09 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:09 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:22:09 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 5579)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:09 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:22:10 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1654)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:10 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 355)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:22:10 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1793)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_user_for_index_users
-------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:22:10 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1368)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:22:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:22:11 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 1836)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (505.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (507.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (2.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:24:17.170951', '2020-10-14 12:24:17.170951');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:24:17.170951', '2020-10-14 12:24:17.170951');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$nE/9CPtccmMQ/98xngiNXOo2MoJ5yFNwg8whtdcbt17/g1LiwpVsa', '2020-10-14 12:24:17.170951', '2020-10-14 12:24:17.170951', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$FPihMvKwrQ2vF.7wwo9s9uBWEqizkXygDiHfyupsEbd/26BMo2eRW', '2020-10-14 12:24:17.170951', '2020-10-14 12:24:17.170951', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:24:17.176231', '2020-10-14 12:24:17.176231');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:24:17.176231', '2020-10-14 12:24:17.176231');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:24:17.183707', '2020-10-14 12:24:17.183707');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:24:17.183707', '2020-10-14 12:24:17.183707')[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:24:17.174035', '2020-10-14 12:24:17.174035');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:24:17.174035', '2020-10-14 12:24:17.174035');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$yR8DVfC5Ioz3LG/o3uat8.90SoTdPiKCiOgTA93ZrMK6ImOTHTwd2', '2020-10-14 12:24:17.174035', '2020-10-14 12:24:17.174035', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$YEonJviWzRkMf96TOBsUPuxfuzxraL7MmS.lvSMV4/qsPs1nI5eAK', '2020-10-14 12:24:17.174035', '2020-10-14 12:24:17.174035', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:24:17.178615', '2020-10-14 12:24:17.178615');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:24:17.178615', '2020-10-14 12:24:17.178615');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:24:17.185227', '2020-10-14 12:24:17.185227');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:24:17.185227', '2020-10-14 12:24:17.185227')[0m
  [1m[35m (127.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (124.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:17 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:17 -0500
Completed 200 OK in 257ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 6474)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:24:17 -0500
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:17 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1188)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:17 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 242ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:18 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 241ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:24:18 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:18 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:18 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:18 -0500
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:18 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:24:18 -0500
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:24:18 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1840)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 17ms (Views: 0.5ms | ActiveRecord: 1.4ms | Allocations: 6475)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:24:19 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1540)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:24:19 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.4ms | Allocations: 1837)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:24:19 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:24:19 -0500
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 12ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 5934)
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:19 -0500
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1793)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:24:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:24:20 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1368)
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:24:20 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 5520)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (485.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (542.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:31:33.741881', '2020-10-14 12:31:33.741881');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:31:33.741881', '2020-10-14 12:31:33.741881');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$d47e50.quF7fBYv3fMZcU.8Ve4Vo/F/YZThgcYQWUu8qgOaRw36kS', '2020-10-14 12:31:33.741881', '2020-10-14 12:31:33.741881', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$.JYPn/LKSUmbEU7YK9JyVeyECuP2QiXsygU0G8AdLd0gfSZQKM55K', '2020-10-14 12:31:33.741881', '2020-10-14 12:31:33.741881', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:31:33.745356', '2020-10-14 12:31:33.745356');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:31:33.745356', '2020-10-14 12:31:33.745356');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:31:33.750674', '2020-10-14 12:31:33.750674');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:31:33.750674', '2020-10-14 12:31:33.750674')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:31:33.758851', '2020-10-14 12:31:33.758851');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:31:33.758851', '2020-10-14 12:31:33.758851');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$170ypOxN6jxSgN6fBBAYq.VSFm8kOWYxwdNpZ/RXSMPOwh.vgtfWS', '2020-10-14 12:31:33.758851', '2020-10-14 12:31:33.758851', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$GRD.i1ile5ct3q8ljsGojODANVlMye1DBVgz8JTsIsBBgrsGyaii2', '2020-10-14 12:31:33.758851', '2020-10-14 12:31:33.758851', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:31:33.762691', '2020-10-14 12:31:33.762691');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:31:33.762691', '2020-10-14 12:31:33.762691');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:31:33.767947', '2020-10-14 12:31:33.767947');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:31:33.767947', '2020-10-14 12:31:33.767947')[0m
  [1m[35m (135.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
  [1m[35m (176.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:33 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:31:34 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 2093)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 243ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:34 -0500
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:31:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1188)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 250ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:31:35 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1543)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:35 -0500
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Processing by Api::V1::UsersController#login as JSON
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:35 -0500
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:35 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:35 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 250ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:35 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:35 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:35 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:31:35 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 1836)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:35 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:35 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:35 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:31:36 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1540)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:31:36 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 11ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 5600)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:31:36 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 13ms (Views: 0.6ms | ActiveRecord: 0.9ms | Allocations: 5931)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:31:36 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 16ms (Views: 0.7ms | ActiveRecord: 1.5ms | Allocations: 6457)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:31:37 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:31:37 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1368)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 07:31:37 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3101234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$0pWy.cwyWyjiLXlnhQQyhOJ7vLq2I5t89wS5pkSKWqs6Acso/5sZ."], ["created_at", "2020-10-14 12:31:37.564103"], ["updated_at", "2020-10-14 12:31:37.564103"], ["full_name", "ejemplo2"], ["cellphone", "3101234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 2192)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (486.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (486.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (9.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (10.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:31:50.315919', '2020-10-14 12:31:50.315919');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:31:50.315919', '2020-10-14 12:31:50.315919');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$3m6XhTTXTkhO8BpLjyV33.VZDnF1DtT7aRDNsTewPWWlCtkTdurBO', '2020-10-14 12:31:50.315919', '2020-10-14 12:31:50.315919', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$VBusKN3zhEQ0o0Ulu6s2weUBgy9Gtp11CmCZuIt87vT9kYyVEiZ2W', '2020-10-14 12:31:50.315919', '2020-10-14 12:31:50.315919', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:31:50.318789', '2020-10-14 12:31:50.318789');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:31:50.318789', '2020-10-14 12:31:50.318789');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:31:50.320808', '2020-10-14 12:31:50.320808');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:31:50.320808', '2020-10-14 12:31:50.320808')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:31:50.318790', '2020-10-14 12:31:50.318790');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:31:50.318790', '2020-10-14 12:31:50.318790');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$ayn9ap4S2BQsLzqs2wam3uFmSkepovDmKuz3gnn1SFfmRZ4akF7Te', '2020-10-14 12:31:50.318790', '2020-10-14 12:31:50.318790', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$.RMzRIICQxjgKihXap9pKuuuYv1e0OMI.0eWkWpHuCBXa9Ehn5B7i', '2020-10-14 12:31:50.318790', '2020-10-14 12:31:50.318790', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:31:50.320648', '2020-10-14 12:31:50.320648');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:31:50.320648', '2020-10-14 12:31:50.320648');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:31:50.324674', '2020-10-14 12:31:50.324674');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:31:50.324674', '2020-10-14 12:31:50.324674')[0m
  [1m[35m (163.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (163.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:50 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 6475)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:50 -0500
Completed 200 OK in 256ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 6475)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:31:51 -0500
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:51 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1843)
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
-----------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
UsersControllerTest: test_checks_creation_of_new_user
---------------------------------------------------------------
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:51 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:51 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:51 -0500
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:51 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:31:51 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 07:31:51 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3101234567"}
[31mUnpermitted parameter: :format[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$BNXyTdPWSd7kXxQDpz3jBeYWC9DvdCFDkMmWtbuVIV2itjnLqGcs2"], ["created_at", "2020-10-14 12:31:51.639531"], ["updated_at", "2020-10-14 12:31:51.639531"], ["full_name", "ejemplo2"], ["cellphone", "3101234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.7ms | ActiveRecord: 1.2ms | Allocations: 2276)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.6ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Completed 204 No Content in 17ms (Views: 0.6ms | ActiveRecord: 1.4ms | Allocations: 5934)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:51 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:31:52 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1668)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:31:52 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:52 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (Views: 0.6ms | ActiveRecord: 0.7ms | Allocations: 2245)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:31:52 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 4934)
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:31:52 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 120)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:52 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:52 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:52 -0500
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:52 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:53 -0500
Completed 200 OK in 243ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:31:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:53 -0500
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1837)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:31:53 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1002)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:53 -0500
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:31:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#show as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1793)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:31:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:31:54 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1540)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (525.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (9.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (578.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (2.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:32:25.961236', '2020-10-14 12:32:25.961236');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:32:25.961236', '2020-10-14 12:32:25.961236');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$LOnn9rBtFSW3J0JC5QqyEep9CG7uANJxJwdwxZjGReLMGmN.jG0Ky', '2020-10-14 12:32:25.961236', '2020-10-14 12:32:25.961236', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$jKsnPZ04y0sgpYLBsxE0lutP8pDJmy10S0VnBWknq/OZyijH.Fe2S', '2020-10-14 12:32:25.961236', '2020-10-14 12:32:25.961236', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:32:25.968099', '2020-10-14 12:32:25.968099');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:32:25.968099', '2020-10-14 12:32:25.968099');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:32:25.972480', '2020-10-14 12:32:25.972480');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:32:25.972480', '2020-10-14 12:32:25.972480')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:32:25.989587', '2020-10-14 12:32:25.989587');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:32:25.989587', '2020-10-14 12:32:25.989587');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$dbnULAnyhVxcLQ7U6CTod.sAY3.gG2gLSdAoZ.OGRo8Ef2xq7sVzS', '2020-10-14 12:32:25.989587', '2020-10-14 12:32:25.989587', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$Y8vcocPVccYTR6RLOJ8meelR6ZVYlemytHAaBb3Y5IVOSrlcKsdZq', '2020-10-14 12:32:25.989587', '2020-10-14 12:32:25.989587', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:32:25.991705', '2020-10-14 12:32:25.991705');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:32:25.991705', '2020-10-14 12:32:25.991705');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:32:25.994586', '2020-10-14 12:32:25.994586');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:32:25.994586', '2020-10-14 12:32:25.994586')[0m
  [1m[35m (165.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (3.6ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
  [1m[35m (180.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (5.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:26 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 6476)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 6476)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:32:26 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:26 -0500
Processing by Api::V1::UsersController#login as JSON
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:32:27 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 2093)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 242ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:27 -0500
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:32:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 19ms (Views: 0.9ms | ActiveRecord: 2.6ms | Allocations: 6234)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:32:27 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 999)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:32:27 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 1543)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:32:28 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1540)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:32:28 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1368)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:28 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 352)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 07:32:28 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3101234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$4tVGsq6dCNQN5f8GDSM5ZuYtCI/VjAuWN6US5g1sjW8rbM1Rn3n8q"], ["created_at", "2020-10-14 12:32:28.844791"], ["updated_at", "2020-10-14 12:32:28.844791"], ["full_name", "ejemplo2"], ["cellphone", "3101234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 0.4ms | ActiveRecord: 2.1ms | Allocations: 2192)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:32:29 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5533)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:32:29 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 1836)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:32:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:32:29 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 12ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 6344)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (431.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (1.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (482.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:39:11.353730', '2020-10-14 12:39:11.353730');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:39:11.353730', '2020-10-14 12:39:11.353730');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$8o5pZW06TUffIoBGahLjHe7IwwgH9tAOnD6yZRUzwROL6IJSHMjhC', '2020-10-14 12:39:11.353730', '2020-10-14 12:39:11.353730', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$RHa0R8mgebv/MUIWmnaRDuzs6yNWB3mOHwj3SNcnoc5RzHJJxNAIG', '2020-10-14 12:39:11.353730', '2020-10-14 12:39:11.353730', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:39:11.357935', '2020-10-14 12:39:11.357935');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:39:11.357935', '2020-10-14 12:39:11.357935');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:39:11.362723', '2020-10-14 12:39:11.362723');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:39:11.362723', '2020-10-14 12:39:11.362723')[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:39:11.384684', '2020-10-14 12:39:11.384684');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:39:11.384684', '2020-10-14 12:39:11.384684');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$1S3/PH5ALpyJY/cEfoaH5u3AMRYGRyiuKSbdTSAwLwUunG6e/l6B2', '2020-10-14 12:39:11.384684', '2020-10-14 12:39:11.384684', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$yHrJPNgXOaL9lX459l5Vw.BBZKsjEm78l.ooTtLIedjHgrHTZnlRi', '2020-10-14 12:39:11.384684', '2020-10-14 12:39:11.384684', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:39:11.389682', '2020-10-14 12:39:11.389682');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:39:11.389682', '2020-10-14 12:39:11.389682');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:39:11.393252', '2020-10-14 12:39:11.393252');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:39:11.393252', '2020-10-14 12:39:11.393252')[0m
  [1m[35m (146.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (174.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
-----------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
UsersControllerTest: test_checks_creation_of_new_user
---------------------------------------------------------
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:11 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (568.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (567.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[36mFixtures Load (1.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:39:21.656941', '2020-10-14 12:39:21.656941');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:39:21.656941', '2020-10-14 12:39:21.656941');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$cUNOKlRi9ff5LHRbzhaefu5QcBDzqYibWXmHkbLfddSanb8L8gEfW', '2020-10-14 12:39:21.656941', '2020-10-14 12:39:21.656941', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$7HwHVry//FiIspoClooeXuXixBJyqldoWLFpfxx/PQ/6IgPRWrkQC', '2020-10-14 12:39:21.656941', '2020-10-14 12:39:21.656941', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:39:21.659457', '2020-10-14 12:39:21.659457');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:39:21.659457', '2020-10-14 12:39:21.659457');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:39:21.670579', '2020-10-14 12:39:21.670579');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:39:21.670579', '2020-10-14 12:39:21.670579')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:39:21.658335', '2020-10-14 12:39:21.658335');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:39:21.658335', '2020-10-14 12:39:21.658335');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$WkS6k2sw.MRssc/U7W9hlepjUbdBYiIMma9aclANT/tuFgHtM4s9G', '2020-10-14 12:39:21.658335', '2020-10-14 12:39:21.658335', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$ZcvMWnfLglrIlNWwB9z2g.mMDONM6gXT8IM73zA0F67mDV2Xj0P2u', '2020-10-14 12:39:21.658335', '2020-10-14 12:39:21.658335', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:39:21.660770', '2020-10-14 12:39:21.660770');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:39:21.660770', '2020-10-14 12:39:21.660770');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:39:21.672158', '2020-10-14 12:39:21.672158');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:39:21.672158', '2020-10-14 12:39:21.672158')[0m
  [1m[35m (136.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
  [1m[35m (148.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:21 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 259ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6474)
Completed 200 OK in 258ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:22 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:39:22 -0500
Completed 200 OK in 245ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 07:39:22 -0500
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 123)
Processing by Api::V1::UsersController#create as JSON
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:22 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$Awr5fcgUSU9ZC5j12nE7/O/sMPJWwPlMVUHIpYpcjcFpGc9HwJHwO"], ["created_at", "2020-10-14 12:39:22.475415"], ["updated_at", "2020-10-14 12:39:22.475415"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 1.8ms | Allocations: 2271)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:39:22 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1840)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:39:23 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 4934)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:23 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:23 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:23 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:39:23 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 15ms (Views: 0.5ms | ActiveRecord: 1.4ms | Allocations: 5934)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:23 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:23 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 356)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:23 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:23 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:23 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:24 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:24 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:39:24 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 17ms (Views: 0.7ms | ActiveRecord: 1.2ms | Allocations: 6633)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:24 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:24 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:24 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:39:24 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1793)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:24 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:39:24 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1368)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:24 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:24 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:24 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:39:25 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 999)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:39:25 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1543)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:39:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:39:25 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1836)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (522.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (589.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:42:00.082622', '2020-10-14 12:42:00.082622');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:42:00.082622', '2020-10-14 12:42:00.082622');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$HrfWM4epbVGQrJaz5NZHeOzxeLwGluI0tZ9MXi9iAkVbJvtRo4zD.', '2020-10-14 12:42:00.082622', '2020-10-14 12:42:00.082622', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$10vFodHjOCK7Nl/1epbA3eYZGGQQiAu3If2ocYKZ4F9i4mz7bdYsi', '2020-10-14 12:42:00.082622', '2020-10-14 12:42:00.082622', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:42:00.085360', '2020-10-14 12:42:00.085360');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:42:00.085360', '2020-10-14 12:42:00.085360');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:42:00.087962', '2020-10-14 12:42:00.087962');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:42:00.087962', '2020-10-14 12:42:00.087962')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:42:00.159745', '2020-10-14 12:42:00.159745');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:42:00.159745', '2020-10-14 12:42:00.159745');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$//w0krgem4sx6GymRwnxy.BbuagiDwou6Vkn701CJihPdXvCLb8Gy', '2020-10-14 12:42:00.159745', '2020-10-14 12:42:00.159745', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$jcqiLMn6mQ8XtzMDa.Gixe8/YDje47YJh/0WEZK4VGz.SpkKafuxW', '2020-10-14 12:42:00.159745', '2020-10-14 12:42:00.159745', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:42:00.162537', '2020-10-14 12:42:00.162537');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:42:00.162537', '2020-10-14 12:42:00.162537');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:42:00.166222', '2020-10-14 12:42:00.166222');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:42:00.166222', '2020-10-14 12:42:00.166222')[0m
  [1m[35m (97.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (117.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 250ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 6472)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 6472)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:42:00 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 17ms (Views: 0.6ms | ActiveRecord: 1.2ms | Allocations: 6656)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:42:00 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:42:01 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 1837)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:42:01 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 1840)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:42:01 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1543)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:42:02 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5579)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:42:02 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1368)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:42:02 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (Views: 0.8ms | ActiveRecord: 1.6ms | Allocations: 1820)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:02 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 352)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 07:42:03 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$Ey9aXM98oPwyPJ.ZvxQdlerJXn2c6.efVtSQyD6u2EM0sEAp0he.."], ["created_at", "2020-10-14 12:42:03.291114"], ["updated_at", "2020-10-14 12:42:03.291114"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.5ms | ActiveRecord: 2.5ms | Allocations: 1601)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:42:03 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1793)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:42:03 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 999)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (500.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (568.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:42:47.578894', '2020-10-14 12:42:47.578894');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:42:47.578894', '2020-10-14 12:42:47.578894');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$Ast3cYFs7V4iCHyd6DKQB.suky2pcvNKo0aQ1JGYaIfHJ0f55EyBy', '2020-10-14 12:42:47.578894', '2020-10-14 12:42:47.578894', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$344CYGwDBvl1Jo9PZMoDOuiok3JQ20JLAi7ewHGxjvrCTLtJNd41q', '2020-10-14 12:42:47.578894', '2020-10-14 12:42:47.578894', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:42:47.582947', '2020-10-14 12:42:47.582947');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:42:47.582947', '2020-10-14 12:42:47.582947');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:42:47.587479', '2020-10-14 12:42:47.587479');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:42:47.587479', '2020-10-14 12:42:47.587479')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:42:47.603487', '2020-10-14 12:42:47.603487');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:42:47.603487', '2020-10-14 12:42:47.603487');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$RLydJtdlW.VeWeFRvJLux.uxJlccLekUu2JSoePFWiWN4ewh/L3.u', '2020-10-14 12:42:47.603487', '2020-10-14 12:42:47.603487', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$iY5TRCLHsnRdJhnGawaKeOfd67xXW9lHqIIvcLNP95uODbGpUco4a', '2020-10-14 12:42:47.603487', '2020-10-14 12:42:47.603487', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:42:47.606809', '2020-10-14 12:42:47.606809');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:42:47.606809', '2020-10-14 12:42:47.606809');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:42:47.612841', '2020-10-14 12:42:47.612841');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:42:47.612841', '2020-10-14 12:42:47.612841')[0m
  [1m[35m (137.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
  [1m[35m (208.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (3.7ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:47 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 6472)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:48 -0500
Completed 200 OK in 260ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 6472)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:48 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:42:48 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:48 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.6ms | Allocations: 2025)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 401 Unauthorized in 3ms (Views: 1.6ms | ActiveRecord: 0.2ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:48 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:48 -0500
Completed 200 OK in 247ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:42:48 -0500
Completed 200 OK in 245ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:42:48 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 15ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1658)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:49 -0500
Completed 200 OK in 258ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 535)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:42:49 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 07:42:49 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 2093)
[31mUnpermitted parameter: :format[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
---------------------------------------------------------
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:49 -0500
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$E0lkTU7vjAQQ0IMBFKLoX.moJgSPU1wc6u/gDyonNazEcBP5vj0AW"], ["created_at", "2020-10-14 12:42:49.466981"], ["updated_at", "2020-10-14 12:42:49.466981"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 201 Created in 7ms (Views: 0.4ms | ActiveRecord: 0.6ms | Allocations: 2271)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:42:49 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 999)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:42:49 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 12ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 4934)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:42:50 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 13ms (Views: 0.6ms | ActiveRecord: 1.0ms | Allocations: 5932)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:50 -0500
Completed 200 OK in 246ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:42:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 2.9ms | ActiveRecord: 0.4ms | Allocations: 1368)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:50 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 352)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:42:51 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1540)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 252ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:42:51 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:42:51 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (Views: 0.6ms | ActiveRecord: 1.0ms | Allocations: 2245)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (503.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (544.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:49:19.407468', '2020-10-14 12:49:19.407468');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:49:19.407468', '2020-10-14 12:49:19.407468');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$DBjUyjVmiCbGyPb/53nWRuEf7EWvWZf1oklSpS6h/19sXEEvTxDEq', '2020-10-14 12:49:19.407468', '2020-10-14 12:49:19.407468', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$awaZgCpFeVG/bnIx/LGCgunJxameGG3abqZLScDox/gn22iZxZOxa', '2020-10-14 12:49:19.407468', '2020-10-14 12:49:19.407468', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:49:19.409245', '2020-10-14 12:49:19.409245');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:49:19.409245', '2020-10-14 12:49:19.409245');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:49:19.410966', '2020-10-14 12:49:19.410966');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:49:19.410966', '2020-10-14 12:49:19.410966')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:49:19.440095', '2020-10-14 12:49:19.440095');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:49:19.440095', '2020-10-14 12:49:19.440095');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$1AyqnntRRSY4n9I.QeKrROWfq3zwkqrg4X/TzOREeuXrkTnq4f556', '2020-10-14 12:49:19.440095', '2020-10-14 12:49:19.440095', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$wtaW4qeQfciVHiUmP/kz0.rF06YBwiPFc6tJfRtZv52x9HOzvq3ae', '2020-10-14 12:49:19.440095', '2020-10-14 12:49:19.440095', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:49:19.442155', '2020-10-14 12:49:19.442155');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:49:19.442155', '2020-10-14 12:49:19.442155');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:49:19.444176', '2020-10-14 12:49:19.444176');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:49:19.444176', '2020-10-14 12:49:19.444176')[0m
  [1m[35m (200.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
  [1m[35m (212.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:19 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 250ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 6474)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:49:20 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:20 -0500
Completed 200 OK in 245ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:49:20 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 1840)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Completed 200 OK in 248ms (Views: 4.2ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:49:20 -0500
UsersControllerTest: test_check_updates_of_user
-----------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:20 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 27ms (Views: 1.3ms | ActiveRecord: 1.6ms | Allocations: 6659)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.4ms | ActiveRecord: 1.3ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:49:21 -0500
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"new_name", "user_id"=>"100"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:49:21 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1543)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:49:21 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 18ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 5593)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:49:21 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1369)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:21 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 535)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:49:22 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 1838)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:49:22 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 999)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:22 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 354)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:49:22 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1793)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:22 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:23 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:49:23 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:49:23 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 11ms (Views: 0.6ms | ActiveRecord: 1.3ms | Allocations: 5920)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 250ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 07:49:23 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$fiLq2jCrTB7jOOVX0LfBme9zaSWdtmgmamPyEWrPgMhn2wCDkhQ62"], ["created_at", "2020-10-14 12:49:23.367549"], ["updated_at", "2020-10-14 12:49:23.367549"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 2187)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (416.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (530.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:50:17.306134', '2020-10-14 12:50:17.306134');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:50:17.306134', '2020-10-14 12:50:17.306134');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$2Z845oGz32m7QRH0bDOfIucbFCtr71C5vxj4xQRJVoD5SQHWi3NJ2', '2020-10-14 12:50:17.306134', '2020-10-14 12:50:17.306134', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$F4k7kueDFgabzys9bEDNNOCd4tc8SyEYXVIycIBIon.OvITBMmeX.', '2020-10-14 12:50:17.306134', '2020-10-14 12:50:17.306134', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:50:17.308683', '2020-10-14 12:50:17.308683');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:50:17.308683', '2020-10-14 12:50:17.308683');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:50:17.311026', '2020-10-14 12:50:17.311026');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:50:17.311026', '2020-10-14 12:50:17.311026')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:50:17.399568', '2020-10-14 12:50:17.399568');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:50:17.399568', '2020-10-14 12:50:17.399568');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (100, 'ejemplo1@mail.com', '$2a$12$9CzBP./kLByVkgXoLu1gU.upQuNEdPuRr7i9ADInkRhRRSuVqHxwO', '2020-10-14 12:50:17.399568', '2020-10-14 12:50:17.399568', 0);
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$m3HAiesuh2ey7p5V5yjP3u31E1H/1S0eylFdy7ZMWlgfEneMqEcAS', '2020-10-14 12:50:17.399568', '2020-10-14 12:50:17.399568', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:50:17.402108', '2020-10-14 12:50:17.402108');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:50:17.402108', '2020-10-14 12:50:17.402108');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:50:17.404528', '2020-10-14 12:50:17.404528');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:50:17.404528', '2020-10-14 12:50:17.404528')[0m
  [1m[35m (114.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (143.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 260ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 6489)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 262ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 6489)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:50:17 -0500
Error occurred while parsing request parameters.
Contents:

full_name=new_name
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:50:18 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1843)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:18 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 07:50:18 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$jmw252dfZFofQU0LszMiLOhgbXRAgsZzBi3jA7DTOttrQcAPiSYX6"], ["created_at", "2020-10-14 12:50:18.619873"], ["updated_at", "2020-10-14 12:50:18.619873"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 2271)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:50:18 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:50:19 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1838)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:50:19 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 20ms (Views: 0.5ms | ActiveRecord: 1.2ms | Allocations: 6233)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:50:19 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 4934)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 261ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 259ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 260ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:50:20 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1368)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:50:20 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (Views: 0.4ms | ActiveRecord: 0.7ms | Allocations: 2245)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:50:20 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1793)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 281ms (Views: 1.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:50:20 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 272ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:50:21 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 999)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:50:21 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1540)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (525.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (583.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:51:41.803615', '2020-10-14 12:51:41.803615');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:51:41.803615', '2020-10-14 12:51:41.803615');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$re71dW6O5XLS173SAdyMWeTEwnln6MbAdCLmN0xj08Kx1xq8lyNFe', '2020-10-14 12:51:41.803615', '2020-10-14 12:51:41.803615', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$d8758WwWCu9Ec0KvwUhuOO5oUdWBh8ydIhq49geuYfEnfg9SoNzMi', '2020-10-14 12:51:41.803615', '2020-10-14 12:51:41.803615', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:51:41.806684', '2020-10-14 12:51:41.806684');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:51:41.806684', '2020-10-14 12:51:41.806684');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:51:41.808652', '2020-10-14 12:51:41.808652');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:51:41.808652', '2020-10-14 12:51:41.808652')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:51:41.835385', '2020-10-14 12:51:41.835385');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:51:41.835385', '2020-10-14 12:51:41.835385');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$7MwzlB2dl6BUfJNL3JkYueK3zsUXJ4ViB5UV4Koa60M.iZF.mqdg2', '2020-10-14 12:51:41.835385', '2020-10-14 12:51:41.835385', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$3eAlMr70mxzTz9jK38Xg/OfmrvdE3EjQR.a6GKrpMLGmjUJRpKz/S', '2020-10-14 12:51:41.835385', '2020-10-14 12:51:41.835385', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:51:41.837238', '2020-10-14 12:51:41.837238');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:51:41.837238', '2020-10-14 12:51:41.837238');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:51:41.839044', '2020-10-14 12:51:41.839044');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:51:41.839044', '2020-10-14 12:51:41.839044')[0m
  [1m[35m (157.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (191.1ms)[0m  [1m[36mcommit transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:42 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 6481)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Completed 200 OK in 258ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 6481)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:51:42 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 248ms (Views: 1.6ms | ActiveRecord: 0.5ms | Allocations: 534)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.4ms | Allocations: 2033)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:51:42 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:42 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 542)
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:42 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 245ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:51:43 -0500
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:51:43 -0500
Processing by Api::V1::UsersController#index as JSON
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user"=>{}}
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1003)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1677)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:43 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 1.4ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Completed 200 OK in 246ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 07:51:43 -0500
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:51:43 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$l0U/8kJjPc7.2UYzIMk5BuqDVO7fMs2EUToxoiGMSB2J79yFe0a.e"], ["created_at", "2020-10-14 12:51:43.612204"], ["updated_at", "2020-10-14 12:51:43.612204"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.6ms | ActiveRecord: 1.6ms | Allocations: 2269)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:43 -0500
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 20ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1542)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:51:44 -0500
Error occurred while parsing request parameters.
Contents:

full_name=new_name
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Completed 200 OK in 245ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:44 -0500
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:51:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 5540)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:51:44 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 16ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 6353)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:51:45 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1915)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:45 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 352)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:51:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:51:45 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 12ms (Views: 0.6ms | ActiveRecord: 1.1ms | Allocations: 5919)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 251ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 535)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:51:45 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (504.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (541.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:58:09.517651', '2020-10-14 12:58:09.517651');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:58:09.517651', '2020-10-14 12:58:09.517651');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$MBFL6oVGfu2dXzJhdxPqCeYdL/bdKc3riu52.j8f3oX1u7ae8SC8i', '2020-10-14 12:58:09.517651', '2020-10-14 12:58:09.517651', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$PYrJWfhOlnWK26OQvgq4kutgHvN/gxrx3wKCoU0oE5KDrCzUjIxaW', '2020-10-14 12:58:09.517651', '2020-10-14 12:58:09.517651', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:58:09.520264', '2020-10-14 12:58:09.520264');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:58:09.520264', '2020-10-14 12:58:09.520264');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:58:09.523256', '2020-10-14 12:58:09.523256');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:58:09.523256', '2020-10-14 12:58:09.523256')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 12:58:09.523173', '2020-10-14 12:58:09.523173');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 12:58:09.523173', '2020-10-14 12:58:09.523173');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$Q9x3mpENZTvxJBdT53Cm3.gWk/dkGzfUNI26sAOp6vZAf3voT482C', '2020-10-14 12:58:09.523173', '2020-10-14 12:58:09.523173', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$5EFWSGzLdjjLa0VnzASimuNdGHfGDBEZ3KzFJSeObymJKtpCBRHg2', '2020-10-14 12:58:09.523173', '2020-10-14 12:58:09.523173', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 12:58:09.526812', '2020-10-14 12:58:09.526812');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 12:58:09.526812', '2020-10-14 12:58:09.526812');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 12:58:09.531400', '2020-10-14 12:58:09.531400');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 12:58:09.531400', '2020-10-14 12:58:09.531400')[0m
  [1m[35m (190.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (197.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
  [1m[35m (10.8ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:09 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:09 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:58:10 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 2033)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:58:10 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 2101)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 07:58:10 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$ZvZIsTdisn22l/BXqq/OKeUPgcI1BBjOqc/bDR9PL32l21cM5nBxG"], ["created_at", "2020-10-14 12:58:10.875669"], ["updated_at", "2020-10-14 12:58:10.875669"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 2268)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:58:10 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 16ms (Views: 0.5ms | ActiveRecord: 1.4ms | Allocations: 6365)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:58:11 -0500
Error occurred while parsing request parameters.
Contents:

full_name=new_name
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 07:58:11 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 1003)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:58:11 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1658)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:58:11 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (Views: 0.6ms | ActiveRecord: 1.3ms | Allocations: 1829)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 07:58:12 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 07:58:12 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 11ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5520)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 07:58:12 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1377)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 07:58:13 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 354)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 249ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 07:58:13 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (472.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (1.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (514.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:03:13.394152', '2020-10-14 13:03:13.394152');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:03:13.394152', '2020-10-14 13:03:13.394152');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$6AOth.uhOeZ1SlZ9ELlWS.cJ7wMVty5ekBeiQFBJhFmrJo9KwcGMe', '2020-10-14 13:03:13.394152', '2020-10-14 13:03:13.394152', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$xhA8KJMTp1YPPzhjbSNzdeM94l91lrOhDZFXzMExxpC5ke8YYmhfy', '2020-10-14 13:03:13.394152', '2020-10-14 13:03:13.394152', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:03:13.397492', '2020-10-14 13:03:13.397492');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:03:13.397492', '2020-10-14 13:03:13.397492');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:03:13.400789', '2020-10-14 13:03:13.400789');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:03:13.400789', '2020-10-14 13:03:13.400789')[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:03:13.408012', '2020-10-14 13:03:13.408012');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:03:13.408012', '2020-10-14 13:03:13.408012');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$IBjylcPGj3qecY6VV6tmdeHvdKB6KeXZNNreFm34psKGYzsSmxR9.', '2020-10-14 13:03:13.408012', '2020-10-14 13:03:13.408012', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$hqiFEkuiU1TlN6zydsbv.OnNaPXpsUl5E/.RDkmDm3xYCrk2vtr8i', '2020-10-14 13:03:13.408012', '2020-10-14 13:03:13.408012', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:03:13.411016', '2020-10-14 13:03:13.411016');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:03:13.411016', '2020-10-14 13:03:13.411016');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:03:13.414019', '2020-10-14 13:03:13.414019');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:03:13.414019', '2020-10-14 13:03:13.414019')[0m
  [1m[35m (182.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
  [1m[35m (213.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:13 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 6480)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 6480)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:14 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 357)
Completed 200 OK in 243ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:03:14 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:14 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 31ms (Views: 0.6ms | ActiveRecord: 1.1ms | Allocations: 6668)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 7.7ms | ActiveRecord: 0.1ms | Allocations: 543)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:03:14 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 13ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 6242)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:03:14 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 1845)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 08:03:15 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:03:15 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 1801)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:03:15 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1000)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:03:15 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1544)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:03:16 -0500
Error occurred while parsing request parameters.
Contents:

email=ejemplo2%40mail.com&password=1234&full_name=new_name&cellphone=3001234567
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 08:03:16 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$MtuCCB44Yrvn1caUVVX8fuVe6rVfwm9IMJBdzx6W.ARCLPS..nwdm"], ["created_at", "2020-10-14 13:03:16.777702"], ["updated_at", "2020-10-14 13:03:16.777702"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 2243)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 08:03:16 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 12ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 5520)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:03:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:03:17 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 1377)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:03:17 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (476.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (521.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:37:53.520565', '2020-10-14 13:37:53.520565');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:37:53.520565', '2020-10-14 13:37:53.520565');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$vEIcHcaZp9lJtdxxasUSI.XdAaBb2YBv9Pd5jyUi..ScRg9m1cRjq', '2020-10-14 13:37:53.520565', '2020-10-14 13:37:53.520565', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$Bjargbgj/6KYIvK6Uuu2qOozRTeaowehhRzavCbTQs4Q015WflvtK', '2020-10-14 13:37:53.520565', '2020-10-14 13:37:53.520565', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:37:53.530492', '2020-10-14 13:37:53.530492');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:37:53.530492', '2020-10-14 13:37:53.530492');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:37:53.532700', '2020-10-14 13:37:53.532700');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:37:53.532700', '2020-10-14 13:37:53.532700')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:37:53.529606', '2020-10-14 13:37:53.529606');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:37:53.529606', '2020-10-14 13:37:53.529606');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$ImqNU2YZ6k.wThBt6qKClebi9xSx.siRaUGasPG1pqkw.LK069B6G', '2020-10-14 13:37:53.529606', '2020-10-14 13:37:53.529606', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$zpV8Rc26e3nkmfenjzpD.OxKv5mDmfyMmbCZ7gIfjokCLO1LYM8iO', '2020-10-14 13:37:53.529606', '2020-10-14 13:37:53.529606', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:37:53.540048', '2020-10-14 13:37:53.540048');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:37:53.540048', '2020-10-14 13:37:53.540048');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:37:53.541999', '2020-10-14 13:37:53.541999');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:37:53.541999', '2020-10-14 13:37:53.541999')[0m
  [1m[35m (151.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (161.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:53 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:53 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 6481)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:54 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Completed 200 OK in 255ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 6481)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:54 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:54 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:54 -0500
Completed 200 OK in 251ms (Views: 1.6ms | ActiveRecord: 2.2ms | Allocations: 534)
Started PATCH "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:37:54 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Error occurred while parsing request parameters.
Contents:

email=ejemplo2%40mail.com&password=1234&full_name=new_name&cellphone=3001234567
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:54 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:54 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:54 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 08:37:54 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$TL/c96Eir2UTCJE1wRkaXOSRBEqUH8leq8KrIwINvRdfZTenyke5."], ["created_at", "2020-10-14 13:37:54.877774"], ["updated_at", "2020-10-14 13:37:54.877774"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:37:54 -0500
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 0.8ms | ActiveRecord: 0.7ms | Allocations: 2268)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:54 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 9ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1844)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:54 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 08:37:55 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:55 -0500
Completed 200 OK in 243ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 08:37:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 30ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 5602)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 535)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:37:55 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 2101)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:37:55 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1000)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:37:56 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:37:56 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 14ms (Views: 1.1ms | ActiveRecord: 1.0ms | Allocations: 5930)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 1.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:37:56 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1377)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:37:56 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 2253)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:37:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:37:57 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 1845)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (444.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[36mTruncate Tables (448.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (7.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (3.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:40:37.278746', '2020-10-14 13:40:37.278746');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:40:37.278746', '2020-10-14 13:40:37.278746');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$lhbj42n4ffbx0lf4KlBz6ODW5BygVwzDm9BULcfDm4Y3GZ5JUMLyO', '2020-10-14 13:40:37.278746', '2020-10-14 13:40:37.278746', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$2GjyK8.4QsQHoPKaeXhzzuw2KlXdgeHnDZq6CPko0.kxqJ6DIrSZG', '2020-10-14 13:40:37.278746', '2020-10-14 13:40:37.278746', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:40:37.281141', '2020-10-14 13:40:37.281141');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:40:37.281141', '2020-10-14 13:40:37.281141');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:40:37.283865', '2020-10-14 13:40:37.283865');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:40:37.283865', '2020-10-14 13:40:37.283865')[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:40:37.278418', '2020-10-14 13:40:37.278418');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:40:37.278418', '2020-10-14 13:40:37.278418');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$1PLAuCNh4fsfkL36bv5q7uiFPHiqa.aANpSIaDSg8vWZ6thfK4Z6C', '2020-10-14 13:40:37.278418', '2020-10-14 13:40:37.278418', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$K6Fekso4XxEz62BO0xiY0O7jTpTxkt88/zu7CIV3Jt6g/n2TR99Ui', '2020-10-14 13:40:37.278418', '2020-10-14 13:40:37.278418', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:40:37.281086', '2020-10-14 13:40:37.281086');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:40:37.281086', '2020-10-14 13:40:37.281086');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:40:37.283865', '2020-10-14 13:40:37.283865');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:40:37.283865', '2020-10-14 13:40:37.283865')[0m
  [1m[35m (169.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
  [1m[35m (175.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:37 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:37 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6482)
Completed 200 OK in 254ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:37 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:38 -0500
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:40:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:38 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 13ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 6243)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:40:38 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1189)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:38 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 355)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:40:39 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 08:40:39 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
Processing by Api::V1::UsersController#create as JSON
  [1m[36mUser Destroy (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[31mUnpermitted parameter: :format[0m
Completed 204 No Content in 14ms (Views: 0.4ms | ActiveRecord: 1.3ms | Allocations: 6481)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$UJI/ujVtKZzY2IN4Fmc7f.h57.SNpe9dgB7PUpPr9OHIIsYP3Y3MK"], ["created_at", "2020-10-14 13:40:39.141343"], ["updated_at", "2020-10-14 13:40:39.141343"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:39 -0500
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.4ms | ActiveRecord: 0.8ms | Allocations: 2243)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:40:39 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:40:39 -0500
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:39 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1377)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:40:40 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 243ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:40:40 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Error occurred while parsing request parameters.
Contents:

full_name=new_name
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:40 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 08:40:40 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 08:40:40 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5579)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:40 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:40 -0500
Completed 200 OK in 250ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:40:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:40:41 -0500
Processing by Api::V1::UsersController#show as JSON
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  Parameters: {"user_id"=>"100", "user"=>{}}
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:40:41 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1801)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1845)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (517.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (517.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:41:47.325223', '2020-10-14 13:41:47.325223');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:41:47.325223', '2020-10-14 13:41:47.325223');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$6eQ3MGAlpi0y6j91zXhOjuoooCMn.LPSO0dLNt1.VeGuPAAsiWaVm', '2020-10-14 13:41:47.325223', '2020-10-14 13:41:47.325223', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$yQQezrEiDjAl6Q5Teg006uJM8C8XnJ8JLjYVKr66uN/201MYWd4AC', '2020-10-14 13:41:47.325223', '2020-10-14 13:41:47.325223', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:41:47.329011', '2020-10-14 13:41:47.329011');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:41:47.329011', '2020-10-14 13:41:47.329011');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:41:47.332947', '2020-10-14 13:41:47.332947');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:41:47.332947', '2020-10-14 13:41:47.332947')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:41:47.327926', '2020-10-14 13:41:47.327926');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:41:47.327926', '2020-10-14 13:41:47.327926');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$HL0nWE.DCtWlxLtxxAFqjuE.KuMcYgzfe8VZbGlIMqNUE7/Io1gdW', '2020-10-14 13:41:47.327926', '2020-10-14 13:41:47.327926', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$y82nOFHC4nBeOto8/dHGu.0BjQxuSzH/Pcu/kVzF9EdaA.STigtFO', '2020-10-14 13:41:47.327926', '2020-10-14 13:41:47.327926', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:41:47.331655', '2020-10-14 13:41:47.331655');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:41:47.331655', '2020-10-14 13:41:47.331655');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:41:47.335609', '2020-10-14 13:41:47.335609');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:41:47.335609', '2020-10-14 13:41:47.335609')[0m
  [1m[35m (181.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (178.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (4.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:47 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:47 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 6480)
Completed 200 OK in 254ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 6480)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:47 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:41:48 -0500
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:41:48 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1844)
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1189)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:48 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 542)
Completed 200 OK in 243ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:48 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:41:48 -0500
Completed 200 OK in 251ms (Views: 10.2ms | ActiveRecord: 0.1ms | Allocations: 535)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 08:41:48 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1492)
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$YwrOu6Mt49Svm4.kfDnV5u77zq7n.kfBxU.aVxGdDU693M7cTfIES"], ["created_at", "2020-10-14 13:41:48.706343"], ["updated_at", "2020-10-14 13:41:48.706343"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 201 Created in 8ms (Views: 0.3ms | ActiveRecord: 1.4ms | Allocations: 2268)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:48 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:48 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 08:41:49 -0500
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:41:49 -0500
[31mUnpermitted parameter: :format[0m
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 1846)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 11ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5540)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:49 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Completed 200 OK in 241ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:49 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:49 -0500
Completed 200 OK in 241ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:41:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Error occurred while parsing request parameters.
Contents:

user[full_name]=new_name
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:49 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 08:41:50 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:50 -0500
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:50 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 352)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:41:50 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1801)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 242ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:41:50 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:50 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 10ms (Views: 0.5ms | ActiveRecord: 0.7ms | Allocations: 5929)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:41:50 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:41:51 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 14ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 6342)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 246ms (Views: 1.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:41:51 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1541)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (518.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (560.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:42:31.228874', '2020-10-14 13:42:31.228874');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:42:31.228874', '2020-10-14 13:42:31.228874');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$tK71h5uzNFbCmB/3vj19Gu9Qz.Mf3wN3j4MfKyIDrk89pbEaZH2.e', '2020-10-14 13:42:31.228874', '2020-10-14 13:42:31.228874', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$QdiWO3OautJYmk4X0JKjvu00f/vgSsDp42N2el4SzYI5Odo175zE6', '2020-10-14 13:42:31.228874', '2020-10-14 13:42:31.228874', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:42:31.230717', '2020-10-14 13:42:31.230717');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:42:31.230717', '2020-10-14 13:42:31.230717');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:42:31.232703', '2020-10-14 13:42:31.232703');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:42:31.232703', '2020-10-14 13:42:31.232703')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:42:31.237305', '2020-10-14 13:42:31.237305');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:42:31.237305', '2020-10-14 13:42:31.237305');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$rO6GVb6.WDIihMsjXVYG5eSrxF/u7WnxLVGNkrK9OfjNW8CSD/y5y', '2020-10-14 13:42:31.237305', '2020-10-14 13:42:31.237305', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$bDbtLqCboqvVVzdfn16W/uS1GCHIl3NEzuj7Cvl4YhIagmitxnMKm', '2020-10-14 13:42:31.237305', '2020-10-14 13:42:31.237305', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:42:31.239153', '2020-10-14 13:42:31.239153');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:42:31.239153', '2020-10-14 13:42:31.239153');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:42:31.240889', '2020-10-14 13:42:31.240889');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:42:31.240889', '2020-10-14 13:42:31.240889')[0m
  [1m[35m (135.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (143.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:31 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:31 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 6482)
Completed 200 OK in 248ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:31 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:31 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:42:32 -0500
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 08:42:32 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1677)
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$cIdQRClD73w/ToKfbtLwfOuSpvc8jUhuMZiij.KNw9DwxkvWYVL6i"], ["created_at", "2020-10-14 13:42:32.057914"], ["updated_at", "2020-10-14 13:42:32.057914"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 201 Created in 11ms (Views: 1.1ms | ActiveRecord: 1.9ms | Allocations: 2268)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:32 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:42:32 -0500
Error occurred while parsing request parameters.
Contents:

user[full_name]=new_name
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 08:42:32 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:32 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:42:33 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 1003)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:33 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:33 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 356)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:42:33 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 32ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 6367)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:42:34 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:42:34 -0500
Completed 200 OK in 5ms (Views: 1.8ms | ActiveRecord: 0.5ms | Allocations: 2031)
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:34 -0500
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1541)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:34 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:42:34 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:42:34 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1655)
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1801)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:34 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:34 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:42:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:42:35 -0500
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 08:42:35 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#create as JSON
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
[31mUnpermitted parameter: :format[0m
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (Views: 0.4ms | ActiveRecord: 1.0ms | Allocations: 1829)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 4934)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (518.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (1.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (572.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:43:59.282543', '2020-10-14 13:43:59.282543');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:43:59.282543', '2020-10-14 13:43:59.282543');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$Z60iVugCPuyFN5BhMe7uCuIfyvG6Py1RngDhZ40IY65DWL2xYzIqG', '2020-10-14 13:43:59.282543', '2020-10-14 13:43:59.282543', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$uKrVGSCGO.uHO7.LGT.QpOxMjMEUfw/p7pLWKwqyyClPb934hUDNC', '2020-10-14 13:43:59.282543', '2020-10-14 13:43:59.282543', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:43:59.288932', '2020-10-14 13:43:59.288932');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:43:59.288932', '2020-10-14 13:43:59.288932');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:43:59.296040', '2020-10-14 13:43:59.296040');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:43:59.296040', '2020-10-14 13:43:59.296040')[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:43:59.331249', '2020-10-14 13:43:59.331249');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:43:59.331249', '2020-10-14 13:43:59.331249');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$7UekL9hw1pJj2gXwtewdA.V2/An7qsFZAjqJqi.DalwtNpVXhevWC', '2020-10-14 13:43:59.331249', '2020-10-14 13:43:59.331249', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$WWtSUXaGur43wmzSUliISe/RbSn2Lu5rmimzsTO4xlVlZrCKA6Kuy', '2020-10-14 13:43:59.331249', '2020-10-14 13:43:59.331249', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:43:59.336985', '2020-10-14 13:43:59.336985');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:43:59.336985', '2020-10-14 13:43:59.336985');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:43:59.345864', '2020-10-14 13:43:59.345864');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:43:59.345864', '2020-10-14 13:43:59.345864')[0m
  [1m[35m (131.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:43:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (259.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (2.9ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:43:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 377ms (Views: 1.4ms | ActiveRecord: 2.2ms | Allocations: 6497)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:43:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 303ms (Views: 1.4ms | ActiveRecord: 0.4ms | Allocations: 6497)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:44:00 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 2033)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:44:00 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1189)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 08:44:00 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:00 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:44:01 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 14ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 6480)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:44:01 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1655)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:44:01 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1377)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:44:01 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:44:02 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1801)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 08:44:02 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5520)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 08:44:02 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$SFzO8eiCyOsarZ9Dg.FzhuMB7ataPP.2PIdCbu2b6OBhLiDEF2TGK"], ["created_at", "2020-10-14 13:44:02.844525"], ["updated_at", "2020-10-14 13:44:02.844525"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.4ms | ActiveRecord: 2.6ms | Allocations: 2208)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:44:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:44:03 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 1829)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (504.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (1.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (504.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (4.7ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:54:43.215227', '2020-10-14 13:54:43.215227');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:54:43.215227', '2020-10-14 13:54:43.215227');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$c0xGvjNnTtqyBqqk4eOTh.VyUBAoCEtfm8uYHoJCccbaBLd03vAzi', '2020-10-14 13:54:43.215227', '2020-10-14 13:54:43.215227', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$2Gvi7YYYfL3Carr7NlVOyuERhy2m0Xnfd0fb4AKUvk/kqetO1Apfq', '2020-10-14 13:54:43.215227', '2020-10-14 13:54:43.215227', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:54:43.217318', '2020-10-14 13:54:43.217318');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:54:43.217318', '2020-10-14 13:54:43.217318');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:54:43.219729', '2020-10-14 13:54:43.219729');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:54:43.219729', '2020-10-14 13:54:43.219729')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 13:54:43.217336', '2020-10-14 13:54:43.217336');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 13:54:43.217336', '2020-10-14 13:54:43.217336');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$LMLv8COzqPOtQtdWG5aGr..TLA24vh1qSK7WZBe0dm2FHavRU8r1K', '2020-10-14 13:54:43.217336', '2020-10-14 13:54:43.217336', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$MSDDt2eMigy.C6.yF2lprepJf4zkJWBoPSzOuD2uNH7b5zdLWANJq', '2020-10-14 13:54:43.217336', '2020-10-14 13:54:43.217336', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 13:54:43.219265', '2020-10-14 13:54:43.219265');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 13:54:43.219265', '2020-10-14 13:54:43.219265');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 13:54:43.221645', '2020-10-14 13:54:43.221645');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 13:54:43.221645', '2020-10-14 13:54:43.221645')[0m
  [1m[35m (212.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (214.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
---------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
UsersControllerTest: test_authorized_for_admin_to_show_any_user
----------------------------------------------------------------
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:43 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 6480)
Completed 200 OK in 256ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 6480)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:43 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:43 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 245ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:54:44 -0500
Started PUT "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:54:44 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Error occurred while parsing request parameters.
Contents:

full_name=new_name
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:44 -0500
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Completed 200 OK in 9ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 2101)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 08:54:44 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
Completed 200 OK in 243ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:44 -0500
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$2336aPCAOk9lt1s0J00Iqu6D2imx/olJKk4vY9aXxKzDLYoPPqj5O"], ["created_at", "2020-10-14 13:54:44.622732"], ["updated_at", "2020-10-14 13:54:44.622732"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 201 Created in 12ms (Views: 1.3ms | ActiveRecord: 1.6ms | Allocations: 2268)
Completed 401 Unauthorized in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 352)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:44 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:44 -0500
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.9ms | Allocations: 542)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 535)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:54:45 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Completed 200 OK in 250ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 535)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 08:54:45 -0500
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 1844)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:45 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 14ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 4934)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:54:45 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 245ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 204 No Content in 16ms (Views: 0.7ms | ActiveRecord: 1.3ms | Allocations: 5943)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:45 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:45 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 263ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 543)
Completed 200 OK in 263ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:45 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 252ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 08:54:46 -0500
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:54:46 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1003)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:46 -0500
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 15ms (Views: 0.5ms | ActiveRecord: 1.0ms | Allocations: 6643)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:54:46 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 08:54:46 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 08:54:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 08:54:47 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 1377)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 244ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 08:54:47 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1541)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (888.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (886.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 14:13:36.700988', '2020-10-14 14:13:36.700988');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 14:13:36.700988', '2020-10-14 14:13:36.700988');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$l.h/3dPLZzWyWFOzaVV4luKj9YzuktGp.i0iwNj2DM/KQqGz9PQx2', '2020-10-14 14:13:36.700988', '2020-10-14 14:13:36.700988', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$kaLzYJtzvyfQouPyyS7hsuKpPe3caKei9lgU3DaRu5gx02viZDJv.', '2020-10-14 14:13:36.700988', '2020-10-14 14:13:36.700988', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 14:13:36.702804', '2020-10-14 14:13:36.702804');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 14:13:36.702804', '2020-10-14 14:13:36.702804');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 14:13:36.704811', '2020-10-14 14:13:36.704811');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 14:13:36.704811', '2020-10-14 14:13:36.704811')[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 14:13:36.700988', '2020-10-14 14:13:36.700988');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 14:13:36.700988', '2020-10-14 14:13:36.700988');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$7V/Z2lIyU1poDoipX./KlONvQDN9t9KX/PhL/d0EHoHaA3COyiKNK', '2020-10-14 14:13:36.700988', '2020-10-14 14:13:36.700988', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$gwUy3yd1jI1iw6HL4.81OO4.8hCbW9h1ZSbXRpsTasGMJo.SsB8gq', '2020-10-14 14:13:36.700988', '2020-10-14 14:13:36.700988', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 14:13:36.702804', '2020-10-14 14:13:36.702804');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 14:13:36.702804', '2020-10-14 14:13:36.702804');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 14:13:36.704811', '2020-10-14 14:13:36.704811');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 14:13:36.704811', '2020-10-14 14:13:36.704811')[0m
  [1m[35m (158.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (158.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:37 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:37 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 248ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6482)
Completed 200 OK in 248ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:37 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 09:13:37 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 09:13:37 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1189)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.4ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 34ms (Views: 0.8ms | ActiveRecord: 1.4ms | Allocations: 6667)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 260ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.8ms | ActiveRecord: 0.8ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 09:13:38 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 09:13:38 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 11ms (Views: 0.4ms | ActiveRecord: 1.1ms | Allocations: 1829)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-14 09:13:38 -0500
Error occurred while parsing request parameters.
Contents:

full_name=new_name
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 09:13:38 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 21ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5580)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 09:13:39 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1655)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 09:13:39 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 1845)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 535)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 09:13:39 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 09:13:39 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$XnJz2b/k3w8eAlX3KAD4M.aVxJST03IykLiDC32DNYznKjH/B.Y5e"], ["created_at", "2020-10-14 14:13:39.638333"], ["updated_at", "2020-10-14 14:13:39.638333"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.5ms | ActiveRecord: 1.1ms | Allocations: 1598)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 250ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:40 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 356)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 250ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:13:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 09:13:40 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1377)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 09:13:40 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1801)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (546.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (589.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 14:16:26.030564', '2020-10-14 14:16:26.030564');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 14:16:26.030564', '2020-10-14 14:16:26.030564');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$R1OHMti6Wxks1fIO5Mys6up6PtjEkRTEPt5KTVrcU4ylSdZ63r5MO', '2020-10-14 14:16:26.030564', '2020-10-14 14:16:26.030564', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$iYudt4eeclZzYENOSCK/8.jxqVrv5BJHF.DhmC17nWfN9hF8u1qaG', '2020-10-14 14:16:26.030564', '2020-10-14 14:16:26.030564', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 14:16:26.032919', '2020-10-14 14:16:26.032919');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 14:16:26.032919', '2020-10-14 14:16:26.032919');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 14:16:26.036304', '2020-10-14 14:16:26.036304');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 14:16:26.036304', '2020-10-14 14:16:26.036304')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 14:16:26.039968', '2020-10-14 14:16:26.039968');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 14:16:26.039968', '2020-10-14 14:16:26.039968');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$8GiQ4RkDwgvSGu8EuvpMsuB0Xt/G8g5NmwPs9CpSX9TBiJ4ZJHoPy', '2020-10-14 14:16:26.039968', '2020-10-14 14:16:26.039968', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$Yivs7nQGeBJu6adKI2Tj/.TJmyJcONDZquvD5V.4pNx7q5XmylDH6', '2020-10-14 14:16:26.039968', '2020-10-14 14:16:26.039968', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 14:16:26.042912', '2020-10-14 14:16:26.042912');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 14:16:26.042912', '2020-10-14 14:16:26.042912');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 14:16:26.045996', '2020-10-14 14:16:26.045996');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 14:16:26.045996', '2020-10-14 14:16:26.045996')[0m
  [1m[35m (173.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
  [1m[35m (208.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:26 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 6497)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 6497)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 09:16:26 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 09:16:26 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 204 No Content in 16ms (Views: 0.9ms | ActiveRecord: 1.0ms | Allocations: 6667)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 20ms (Views: 0.6ms | ActiveRecord: 1.1ms | Allocations: 6243)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 09:16:27 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$sTzKD5vB7VpY9hqRUN2IfO2sXbfZ8jpCK.dloNtEXcULTQ5X3lrO."], ["created_at", "2020-10-14 14:16:27.397924"], ["updated_at", "2020-10-14 14:16:27.397924"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 242ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 201 Created in 8ms (Views: 0.6ms | ActiveRecord: 0.8ms | Allocations: 2243)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 09:16:27 -0500
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 15ms (Views: 0.4ms | ActiveRecord: 0.6ms | Allocations: 5579)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 09:16:27 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1801)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 09:16:27 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1003)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-14 09:16:28 -0500
Error occurred while parsing request parameters.
Contents:

full_name=new_name
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 09:16:28 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 09:16:28 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 1845)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 09:16:29 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 1377)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:29 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 354)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:16:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 09:16:29 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1544)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 243ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 09:16:29 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (452.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (1.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (494.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 14:22:45.049552', '2020-10-14 14:22:45.049552');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 14:22:45.049552', '2020-10-14 14:22:45.049552');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$B/VoeXxT5OShOA8aOBIaD.6poKP7SvgkBBgzIrwvYHBr43WuttVWm', '2020-10-14 14:22:45.049552', '2020-10-14 14:22:45.049552', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$IDMyg3bCdpgcodvsbDP9OeNNVgc55ESly6kDhLLVOx6WmfoQmKXrS', '2020-10-14 14:22:45.049552', '2020-10-14 14:22:45.049552', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 14:22:45.051540', '2020-10-14 14:22:45.051540');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 14:22:45.051540', '2020-10-14 14:22:45.051540');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 14:22:45.055097', '2020-10-14 14:22:45.055097');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 14:22:45.055097', '2020-10-14 14:22:45.055097')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 14:22:45.058769', '2020-10-14 14:22:45.058769');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 14:22:45.058769', '2020-10-14 14:22:45.058769');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$UKR83hwRSi4w8AHdBAXNjOTytUUGj809sLANwctUP6HBAyq5zWvPW', '2020-10-14 14:22:45.058769', '2020-10-14 14:22:45.058769', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$HPK6gZvgIHnLgCMJ8s67Qe8XaU3L29.O5TbFXQMSj.6hlugoWPh9G', '2020-10-14 14:22:45.058769', '2020-10-14 14:22:45.058769', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 14:22:45.061544', '2020-10-14 14:22:45.061544');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 14:22:45.061544', '2020-10-14 14:22:45.061544');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 14:22:45.065106', '2020-10-14 14:22:45.065106');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 14:22:45.065106', '2020-10-14 14:22:45.065106')[0m
  [1m[35m (160.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
  [1m[35m (158.5ms)[0m  [1m[36mcommit transaction[0m
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:45 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 267ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 6480)
Completed 200 OK in 267ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 6480)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:45 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 09:22:45 -0500
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 09:22:45 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 19ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 5601)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 2.3ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:46 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 09:22:46 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.7ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 19ms (Views: 0.5ms | ActiveRecord: 2.7ms | Allocations: 6654)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 259ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 09:22:46 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 17ms (Views: 0.4ms | ActiveRecord: 1.5ms | Allocations: 6243)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 09:22:46 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$qCezGH7LUmhdghK6BIs7W.FN/jlbDK7RGRHt76MEr/Ttg/FfiyxUm"], ["created_at", "2020-10-14 14:22:46.965550"], ["updated_at", "2020-10-14 14:22:46.965550"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 1598)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 09:22:47 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1844)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 09:22:47 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1801)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 535)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 09:22:47 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1003)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:47 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 09:22:48 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-14 09:22:48 -0500
Error occurred while parsing request parameters.
Contents:

full_name=new_name
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 543)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 09:22:48 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 09:22:48 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 09:22:48 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 1377)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (19.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (16.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (1.8ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (1.7ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (555.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (599.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:46:31.607527', '2020-10-14 16:46:31.607527');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:46:31.607527', '2020-10-14 16:46:31.607527');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$oKe93Vur5QmtgJSizuaY2.BjOvGzS6dBLk47UqMflfo.0VNfxOobi', '2020-10-14 16:46:31.607527', '2020-10-14 16:46:31.607527', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$Q2gBCU5khXFDL5ZCrfejgeo2FNEmfBrta1WZAmIJMh1b3AbZWIOJG', '2020-10-14 16:46:31.607527', '2020-10-14 16:46:31.607527', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:46:31.612304', '2020-10-14 16:46:31.612304');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:46:31.612304', '2020-10-14 16:46:31.612304');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:46:31.619213', '2020-10-14 16:46:31.619213');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:46:31.619213', '2020-10-14 16:46:31.619213')[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:46:31.607533', '2020-10-14 16:46:31.607533');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:46:31.607533', '2020-10-14 16:46:31.607533');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$pgJS5AQzym51prOpJutKZ.tLxPX1ZdSRUQ0yV1h/r/qHyLWXJDx4u', '2020-10-14 16:46:31.607533', '2020-10-14 16:46:31.607533', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$Jhw.aS0Z1/hO51WBONRc6OYB7KIKSVwfw8x5V2/G68XxL6CiS27I2', '2020-10-14 16:46:31.607533', '2020-10-14 16:46:31.607533', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:46:31.612157', '2020-10-14 16:46:31.612157');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:46:31.612157', '2020-10-14 16:46:31.612157');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:46:31.618440', '2020-10-14 16:46:31.618440');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:46:31.618440', '2020-10-14 16:46:31.618440')[0m
  [1m[35m (110.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (5.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
  [1m[35m (125.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.7ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:31 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:31 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 327ms (Views: 0.8ms | ActiveRecord: 2.4ms | Allocations: 6482)
Completed 200 OK in 317ms (Views: 0.9ms | ActiveRecord: 1.2ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:32 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:32 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:46:32 -0500
Completed 200 OK in 258ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 11:46:32 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 198)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 7ms (Views: 2.9ms | ActiveRecord: 0.7ms | Allocations: 2033)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 250ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:32 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:46:33 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.5ms | Allocations: 2101)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:33 -0500
Completed 200 OK in 254ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:46:33 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1658)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 381ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:46:33 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1544)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:33 -0500
Completed 200 OK in 390ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:46:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 1377)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:33 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 283ms (Views: 3.9ms | ActiveRecord: 0.2ms | Allocations: 542)
Completed 200 OK in 306ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:34 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 286ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-14 11:46:34 -0500
Error occurred while parsing request parameters.
Contents:

full_name=newname
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 293ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:34 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 243)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:34 -0500
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 304ms (Views: 15.9ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 404ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:34 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 375ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:46:35 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 292ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1000)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 11:46:35 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:35 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 195)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:35 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 336ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:35 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 335ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:35 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (4.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 288ms (Views: 3.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 11:46:35 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:35 -0500
Completed 200 OK in 286ms (Views: 0.8ms | ActiveRecord: 4.6ms | Allocations: 534)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:35 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (Views: 0.9ms | ActiveRecord: 0.8ms | Allocations: 352)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:35 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 274ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 327ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:46:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 269ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:46:36 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 62ms (Views: 0.6ms | ActiveRecord: 1.6ms | Allocations: 5941)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 340ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:46:36 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 26ms (Views: 0.8ms | ActiveRecord: 2.8ms | Allocations: 6365)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (439.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (436.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (6.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:52:41.114419', '2020-10-14 16:52:41.114419');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:52:41.114419', '2020-10-14 16:52:41.114419');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$h3do8sVw41dGQS8J7roO9uER6cfVi9vRBcSI8UQ5mJfwJBeeiHnjK', '2020-10-14 16:52:41.114419', '2020-10-14 16:52:41.114419', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$.H8MF1eSAUlrcA10v4Vlr.y.8sO.EMHn3fTv30Sv./yuxDPUR3Y0y', '2020-10-14 16:52:41.114419', '2020-10-14 16:52:41.114419', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:52:41.134833', '2020-10-14 16:52:41.134833');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:52:41.134833', '2020-10-14 16:52:41.134833');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:52:41.149237', '2020-10-14 16:52:41.149237');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:52:41.149237', '2020-10-14 16:52:41.149237')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:52:41.158607', '2020-10-14 16:52:41.158607');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:52:41.158607', '2020-10-14 16:52:41.158607');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$8ARMJqfPIe38DULkUv9fBuWJ8U6V2v0j87xAxbwVFNUVfxO0kv6zK', '2020-10-14 16:52:41.158607', '2020-10-14 16:52:41.158607', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$DB8IGj7qvJj4BFY7/4RPkOk7V1OiJX54myQ4gOANbDMe5vBzaZsQS', '2020-10-14 16:52:41.158607', '2020-10-14 16:52:41.158607', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:52:41.163971', '2020-10-14 16:52:41.163971');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:52:41.163971', '2020-10-14 16:52:41.163971');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:52:41.176982', '2020-10-14 16:52:41.176982');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:52:41.176982', '2020-10-14 16:52:41.176982')[0m
  [1m[35m (147.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (165.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:41 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:41 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 279ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:41 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 281ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:41 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 285ms (Views: 1.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:52:42 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 293ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:42 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.6ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 21ms (Views: 0.7ms | ActiveRecord: 2.0ms | Allocations: 6243)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Completed 401 Unauthorized in 5ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 357)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:42 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 277ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 337ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 279ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 11:52:42 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 400ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:52:42 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1377)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 348ms (Views: 0.9ms | ActiveRecord: 0.5ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 341ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 283ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:52:43 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 0.4ms | Allocations: 2030)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 283ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:52:43 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 0.8ms | ActiveRecord: 0.4ms | Allocations: 1801)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 275ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 308ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 275ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-14 11:52:43 -0500
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "newname"], ["updated_at", "2020-10-14 16:52:43.889593"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 1.6ms | Allocations: 3275)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:43 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 295ms (Views: 0.5ms | ActiveRecord: 3.0ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 352ms (Views: 2.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:52:44 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1003)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 274ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:52:44 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 21ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 1541)
Completed 200 OK in 269ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 542)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 269ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:52:44 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 11ms (Views: 0.5ms | ActiveRecord: 1.0ms | Allocations: 2253)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 307ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:44 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 299ms (Views: 1.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 336ms (Views: 4.7ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:45 -0500
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 11:52:45 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 99ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 4945)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 427ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:52:45 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 8ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 477ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 335ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:45 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 345ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:52:46 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 337ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 11:52:46 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$a39w3O/AF6kxe08B/FR8eObg3S497AIwx5kWdXAh.tdaI3Qp9ZCpe"], ["created_at", "2020-10-14 16:52:46.316636"], ["updated_at", "2020-10-14 16:52:46.316636"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 2184)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (764.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (1.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (834.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:53:15.116297', '2020-10-14 16:53:15.116297');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:53:15.116297', '2020-10-14 16:53:15.116297');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$xHjc6ClbchJOzMdzj5xQReNEma4UdXU/ked8ZUEX49NsP7T18jOHq', '2020-10-14 16:53:15.116297', '2020-10-14 16:53:15.116297', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$CoLw7Y9NA2SQ7Ki3xFKeM.NUF2vMRo48s2IJbeK/rTv16vPTWZXZi', '2020-10-14 16:53:15.116297', '2020-10-14 16:53:15.116297', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:53:15.119843', '2020-10-14 16:53:15.119843');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:53:15.119843', '2020-10-14 16:53:15.119843');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:53:15.122101', '2020-10-14 16:53:15.122101');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:53:15.122101', '2020-10-14 16:53:15.122101')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:53:15.122101', '2020-10-14 16:53:15.122101');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:53:15.122101', '2020-10-14 16:53:15.122101');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$Qg9sz6VpxDw2THBeX00mFO2KqpoP9E3h7S9TBLTX5DMGppvoMsij.', '2020-10-14 16:53:15.122101', '2020-10-14 16:53:15.122101', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$LOIqt1/yvxXXChlHmzYBouP2b90F7IPqmlT5B4VU0Xd/JxbXddSv6', '2020-10-14 16:53:15.122101', '2020-10-14 16:53:15.122101', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:53:15.126175', '2020-10-14 16:53:15.126175');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:53:15.126175', '2020-10-14 16:53:15.126175');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:53:15.129456', '2020-10-14 16:53:15.129456');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:53:15.129456', '2020-10-14 16:53:15.129456')[0m
  [1m[35m (168.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:15 -0500
  [1m[35m (217.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 277ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 6480)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 276ms (Views: 4.1ms | ActiveRecord: 0.2ms | Allocations: 6480)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 263ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 11:53:15 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$j9sK.GUaiooWL.Y6RJdA/.XqxbO59t/0AENewK6Tgp0ddHXOLq3Y6"], ["created_at", "2020-10-14 16:53:15.917013"], ["updated_at", "2020-10-14 16:53:15.917013"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 0.8ms | ActiveRecord: 2.3ms | Allocations: 2268)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 279ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:53:15 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 1.0ms | ActiveRecord: 0.6ms | Allocations: 2101)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 319ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 310ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 270ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:53:16 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 22ms (Views: 0.8ms | ActiveRecord: 1.5ms | Allocations: 6217)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 277ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:53:16 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1544)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 273ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 273ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:16 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 295ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 271ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 11:53:17 -0500
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:53:17 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (2.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 27ms (Views: 0.7ms | ActiveRecord: 3.7ms | Allocations: 6364)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 284ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 270ms (Views: 1.6ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 267ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:53:17 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:17 -0500
Completed 200 OK in 298ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:53:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1000)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:17 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 281ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 334ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 11:53:18 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 200 OK in 330ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-14 11:53:18 -0500
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 422 Unprocessable Entity in 27ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 5520)
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:18 -0500
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "newname"], ["updated_at", "2020-10-14 16:53:18.391817"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.0ms | ActiveRecord: 2.4ms | Allocations: 2443)
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 315ms (Views: 11.1ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 356ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:18 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 295ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Completed 200 OK in 345ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:53:19 -0500
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:53:19 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.6ms | Allocations: 1845)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 1377)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:19 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 396ms (Views: 11.0ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 404ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:19 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 317ms (Views: 1.8ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:19 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 4ms (Views: 0.5ms | ActiveRecord: 0.7ms | Allocations: 354)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (2.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (487.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (535.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:53:54.936187', '2020-10-14 16:53:54.936187');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:53:54.936187', '2020-10-14 16:53:54.936187');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$FA.wtpHXflehpyiP5QU7JO.2Ob.JxK9oEw9MIOvAEUgFFAEG90nDO', '2020-10-14 16:53:54.936187', '2020-10-14 16:53:54.936187', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$VfRkzffYea4nkjfUW.YX2.NsR4wks9ucL/2nySemg4IQAwx3BOUFK', '2020-10-14 16:53:54.936187', '2020-10-14 16:53:54.936187', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:53:54.939967', '2020-10-14 16:53:54.939967');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:53:54.939967', '2020-10-14 16:53:54.939967');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:53:54.947273', '2020-10-14 16:53:54.947273');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:53:54.947273', '2020-10-14 16:53:54.947273')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:53:54.970237', '2020-10-14 16:53:54.970237');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:53:54.970237', '2020-10-14 16:53:54.970237');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$Y4FFbiEFDqExaufxca9B9OkO6BudIqEbB0GNfreUe4vH0BQr4S22K', '2020-10-14 16:53:54.970237', '2020-10-14 16:53:54.970237', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$KRv9iK4JJ7Z6G90P8ofFHOjWPAdDUOJmqELBrjenUxcR.mE1GS4wu', '2020-10-14 16:53:54.970237', '2020-10-14 16:53:54.970237', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:53:54.975693', '2020-10-14 16:53:54.975693');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:53:54.975693', '2020-10-14 16:53:54.975693');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:53:54.984017', '2020-10-14 16:53:54.984017');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:53:54.984017', '2020-10-14 16:53:54.984017')[0m
  [1m[35m (176.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
  [1m[35m (150.9ms)[0m  [1m[36mcommit transaction[0m
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (6.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:55 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 312ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 6482)
Completed 200 OK in 313ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:55 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:55 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 268ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:55 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 357)
Completed 200 OK in 275ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 11:53:55 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:55 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 16ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 5601)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:55 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 369ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 397ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 304ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:53:56 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.4ms | Allocations: 2030)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 450ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:53:56 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 16ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 1189)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 340ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:56 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 295ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 280ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:53:57 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 23ms (Views: 0.6ms | ActiveRecord: 2.8ms | Allocations: 6056)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 277ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:53:57 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1491)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 345ms (Views: 11.6ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 290ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 303ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 11:53:57 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$DI5cRT2eDnf9ioKxwpiYFuN5cvcaBgdpDHD07BTFbpPD2YkfCEzae"], ["created_at", "2020-10-14 16:53:57.935392"], ["updated_at", "2020-10-14 16:53:57.935392"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 0.8ms | ActiveRecord: 1.1ms | Allocations: 2243)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 272ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:57 -0500
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:53:57 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:57 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 273ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 310ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 272ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-14 11:53:58 -0500
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "newname"], ["updated_at", "2020-10-14 16:53:58.522321"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.8ms | Allocations: 2506)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 277ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 316ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 285ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 280ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:53:59 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.5ms | ActiveRecord: 0.7ms | Allocations: 1802)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 319ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 11:53:59 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 285ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 299ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 543)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:53:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 282ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:53:59 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 271ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:53:59 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 13ms (Views: 0.6ms | ActiveRecord: 2.0ms | Allocations: 2253)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (448.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (514.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:54:36.372041', '2020-10-14 16:54:36.372041');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:54:36.372041', '2020-10-14 16:54:36.372041');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$yOOHFcxzvuBDB8zsM2kOXOmTtDjxJfOxjCOqVajcSrKmv855HUfi2', '2020-10-14 16:54:36.372041', '2020-10-14 16:54:36.372041', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$gQRQVhKbjwbjNsjtN45OYeO/jq0MwTjVGyB5X/ZeNlaSPBaTzI24W', '2020-10-14 16:54:36.372041', '2020-10-14 16:54:36.372041', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:54:36.377092', '2020-10-14 16:54:36.377092');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:54:36.377092', '2020-10-14 16:54:36.377092');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:54:36.382965', '2020-10-14 16:54:36.382965');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:54:36.382965', '2020-10-14 16:54:36.382965')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:54:36.452998', '2020-10-14 16:54:36.452998');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:54:36.452998', '2020-10-14 16:54:36.452998');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$MzSIVvATmWBgj8zs7a4Jueid2Vz5zilLNvzYor0dZPo.LpMBaDA3S', '2020-10-14 16:54:36.452998', '2020-10-14 16:54:36.452998', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$x0RzVlrK7dNxYSiwsMZ9H.XErHZAtZUSOP1S6Zp3UepjLc.veftR2', '2020-10-14 16:54:36.452998', '2020-10-14 16:54:36.452998', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:54:36.456022', '2020-10-14 16:54:36.456022');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:54:36.456022', '2020-10-14 16:54:36.456022');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:54:36.462772', '2020-10-14 16:54:36.462772');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:54:36.462772', '2020-10-14 16:54:36.462772')[0m
  [1m[35m (108.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (148.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 273ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 278ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:36 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 273ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:54:37 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 2101)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 353ms (Views: 5.9ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 294ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:54:37 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.4ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 24ms (Views: 1.1ms | ActiveRecord: 2.6ms | Allocations: 6243)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Completed 200 OK in 263ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:54:37 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 7ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1544)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:37 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
Processing by Api::V1::UsersController#login as JSON
-------------------------------------------------------------
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:37 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 313ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 358ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 275ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 11:54:38 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 18ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 5540)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:38 -0500
Completed 200 OK in 272ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:54:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 1377)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 324ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:54:39 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1544)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 282ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-14 11:54:39 -0500
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "newname"], ["updated_at", "2020-10-14 16:54:39.083769"], ["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 22ms (Views: 0.9ms | ActiveRecord: 3.0ms | Allocations: 2506)
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 302ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 290ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 270ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:39 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 352)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 289ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:54:39 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 1844)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 288ms (Views: 2.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 284ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 307ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:54:40 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 8ms (Views: 0.9ms | ActiveRecord: 1.2ms | Allocations: 2253)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 293ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:54:40 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1000)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 316ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 321ms (Views: 2.6ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 316ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 11:54:40 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 271ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 11:54:40 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$XJkQ.Q2KEsb01Wb4smK5m.7tyb4cATJ9aGJGadgjB3mqp.1yiX/zG"], ["created_at", "2020-10-14 16:54:40.930629"], ["updated_at", "2020-10-14 16:54:40.930629"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 12ms (Views: 0.7ms | ActiveRecord: 2.1ms | Allocations: 1547)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (447.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (440.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (3.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:54:59.132710', '2020-10-14 16:54:59.132710');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:54:59.132710', '2020-10-14 16:54:59.132710');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$xyqJKeDJ6W.L.rKqvhwOou2niwLFDtqWkn7NS7MeVHPbhwo97.mEa', '2020-10-14 16:54:59.132710', '2020-10-14 16:54:59.132710', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$AOx44nNqht6s/xTq9fTKY.dTuKyBGRiP5Q0g6zpu/oXAq5lIAyAea', '2020-10-14 16:54:59.132710', '2020-10-14 16:54:59.132710', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:54:59.137657', '2020-10-14 16:54:59.137657');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:54:59.137657', '2020-10-14 16:54:59.137657');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:54:59.149060', '2020-10-14 16:54:59.149060');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:54:59.149060', '2020-10-14 16:54:59.149060')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:54:59.140360', '2020-10-14 16:54:59.140360');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:54:59.140360', '2020-10-14 16:54:59.140360');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$g5Ygqxe10.Xhhh4HsU7PNOiEghDjW4Joe3WsH2iBYEUpuOh5rKTfW', '2020-10-14 16:54:59.140360', '2020-10-14 16:54:59.140360', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$os8ZC9novkbhNDXeLynoweQrnAuGP5Kc6IC3C8kNl/..bwYYwrLaK', '2020-10-14 16:54:59.140360', '2020-10-14 16:54:59.140360', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:54:59.149916', '2020-10-14 16:54:59.149916');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:54:59.149916', '2020-10-14 16:54:59.149916');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:54:59.155909', '2020-10-14 16:54:59.155909');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:54:59.155909', '2020-10-14 16:54:59.155909')[0m
  [1m[35m (171.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
  [1m[35m (213.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:59 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 286ms (Views: 1.6ms | ActiveRecord: 0.2ms | Allocations: 6480)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:59 -0500
Completed 200 OK in 297ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 6480)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:54:59 -0500
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 270ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:55:00 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 296ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 11:55:00 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (9.7ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Destroy (3.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$d4M4E3OHqt37hFIyYryDLuUX7MNAru8VpLq0OP6ZyM3UR4Zj7XZcG"], ["created_at", "2020-10-14 16:55:00.105932"], ["updated_at", "2020-10-14 16:55:00.105932"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 52ms (Views: 1.0ms | ActiveRecord: 13.5ms | Allocations: 6668)
Completed 201 Created in 19ms (Views: 0.7ms | ActiveRecord: 2.8ms | Allocations: 2269)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 289ms (Views: 0.8ms | ActiveRecord: 0.4ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:00 -0500
Completed 200 OK in 282ms (Views: 4.2ms | ActiveRecord: 0.2ms | Allocations: 542)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 275ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:55:00 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
Completed 200 OK in 275ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-14 11:55:00 -0500
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#update as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1844)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:00 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "newname"], ["updated_at", "2020-10-14 16:55:00.726827"], ["id", 100]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 17ms (Views: 1.3ms | ActiveRecord: 2.0ms | Allocations: 3128)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 277ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 286ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 293ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:01 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 356)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 300ms (Views: 2.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:55:01 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 13ms (Views: 0.5ms | ActiveRecord: 2.5ms | Allocations: 1829)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 290ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 304ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 288ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:55:01 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 270ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 306ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 271ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 268ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:55:02 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1003)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 295ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 11:55:02 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 18ms (Views: 1.5ms | ActiveRecord: 0.4ms | Allocations: 4934)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 271ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 277ms (Views: 3.6ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 270ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 11:55:03 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 292ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:55:03 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 1844)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 276ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 303ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:03 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 263ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:55:03 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1801)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 279ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:55:03 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1377)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (4.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (5.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (606.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (665.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:55:24.692930', '2020-10-14 16:55:24.692930');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:55:24.692930', '2020-10-14 16:55:24.692930');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$cHG58T//9D2RlF2sBd0rk.u4pHObFqm7LqoX/G/RSiwqpIyNIPxaS', '2020-10-14 16:55:24.692930', '2020-10-14 16:55:24.692930', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$A/egh0wE/4mV8/Fc3JkStuMmoyyKuwjyU2rVB2yIa8mYgsHooZUXm', '2020-10-14 16:55:24.692930', '2020-10-14 16:55:24.692930', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:55:24.707083', '2020-10-14 16:55:24.707083');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:55:24.707083', '2020-10-14 16:55:24.707083');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:55:24.708927', '2020-10-14 16:55:24.708927');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:55:24.708927', '2020-10-14 16:55:24.708927')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 16:55:24.740471', '2020-10-14 16:55:24.740471');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 16:55:24.740471', '2020-10-14 16:55:24.740471');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$3fNVk48NRlxCOPQq0UpB4.vzxDC.TLV35Cj9YOcf9Zc1oG4IbNwje', '2020-10-14 16:55:24.740471', '2020-10-14 16:55:24.740471', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$CCDkO2WxnTcyO6XThFlft.7tvVOs1CpUDI0nYKxT7x6X335HXrQ62', '2020-10-14 16:55:24.740471', '2020-10-14 16:55:24.740471', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 16:55:24.756919', '2020-10-14 16:55:24.756919');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 16:55:24.756919', '2020-10-14 16:55:24.756919');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 16:55:24.760482', '2020-10-14 16:55:24.760482');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 16:55:24.760482', '2020-10-14 16:55:24.760482')[0m
  [1m[35m (132.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:24 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (171.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:24 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 291ms (Views: 1.5ms | ActiveRecord: 0.5ms | Allocations: 6481)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 290ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 6481)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 342ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:55:25 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1844)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 315ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 11:55:25 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 22ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 5601)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 341ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 330ms (Views: 2.2ms | ActiveRecord: 0.4ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 447ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:55:26 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Completed 200 OK in 371ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 535)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:55:26 -0500
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 23ms (Views: 2.0ms | ActiveRecord: 1.1ms | Allocations: 1802)
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 9ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 1189)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:26 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:26 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 369ms (Views: 3.1ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 455ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 297ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 11:55:27 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 2.2ms | ActiveRecord: 0.3ms | Allocations: 1846)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 375ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 11:55:27 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 291ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 317ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 270ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 11:55:27 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$jwm/E1LoIDh1ZppIg2qVb.ubnXvS2CqlXJ9cLb54W2vMmknOX2BE."], ["created_at", "2020-10-14 16:55:27.662756"], ["updated_at", "2020-10-14 16:55:27.662756"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.6ms | Allocations: 1609)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 288ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:55:27 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1377)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 353ms (Views: 0.8ms | ActiveRecord: 0.4ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 327ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 320ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 11:55:28 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 301ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:55:28 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 21ms (Views: 0.5ms | ActiveRecord: 1.8ms | Allocations: 6365)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 289ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 284ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 273ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 11:55:28 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.6ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 23ms (Views: 0.7ms | ActiveRecord: 3.5ms | Allocations: 6031)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 287ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:29 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 352)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 313ms (Views: 0.5ms | ActiveRecord: 0.7ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 342ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 298ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-14 11:55:29 -0500
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "newname"], ["updated_at", "2020-10-14 16:55:29.619965"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.5ms | ActiveRecord: 3.7ms | Allocations: 2442)
  [1m[35m (4.5ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 300ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 11:55:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (438.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (544.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 17:22:25.653571', '2020-10-14 17:22:25.653571');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 17:22:25.653571', '2020-10-14 17:22:25.653571');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$iU6A/VxgDOHv3532jkPCB.sgrhpXP2u0UNQlsFi1Z2KDKQ4huVbBi', '2020-10-14 17:22:25.653571', '2020-10-14 17:22:25.653571', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$aX.h4joFUmr5ru50tR73.eLim.ewOei4SGTrkZkOvWc7UqJnCWLWO', '2020-10-14 17:22:25.653571', '2020-10-14 17:22:25.653571', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 17:22:25.656851', '2020-10-14 17:22:25.656851');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 17:22:25.656851', '2020-10-14 17:22:25.656851');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 17:22:25.659402', '2020-10-14 17:22:25.659402');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 17:22:25.659402', '2020-10-14 17:22:25.659402')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 17:22:25.692780', '2020-10-14 17:22:25.692780');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 17:22:25.692780', '2020-10-14 17:22:25.692780');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$t2l5XCCNlq9DwuExIv7aA.f2rsel46V/iRoIq9tpH4z.i6ExAepIG', '2020-10-14 17:22:25.692780', '2020-10-14 17:22:25.692780', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$Aef1OaQ5wv09ON6bTTw7r.oCmrOy7o7.nGPEb4XlDaen4neww1ghW', '2020-10-14 17:22:25.692780', '2020-10-14 17:22:25.692780', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 17:22:25.695377', '2020-10-14 17:22:25.695377');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 17:22:25.695377', '2020-10-14 17:22:25.695377');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 17:22:25.697852', '2020-10-14 17:22:25.697852');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 17:22:25.697852', '2020-10-14 17:22:25.697852')[0m
  [1m[35m (127.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (165.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:25 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:25 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 272ms (Views: 1.2ms | ActiveRecord: 0.3ms | Allocations: 6482)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 12:22:26 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.4ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 18ms (Views: 0.5ms | ActiveRecord: 1.4ms | Allocations: 6667)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 267ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:26 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 357)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:26 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 12:22:26 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5579)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 267ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 12:22:27 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1801)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UsersControllerTest: test_Tests_the_update_method
-------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 12:22:27 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$Z4T91AGYm6VzyPBRmrMq3Of0QZnF11UrxBunJP78lMCe7qwvHbCtm"], ["created_at", "2020-10-14 17:22:27.615155"], ["updated_at", "2020-10-14 17:22:27.615155"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 2268)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:27 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "new_name"], ["updated_at", "2020-10-14 17:22:27.995712"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 12:22:28 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1189)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 12:22:28 -0500
Processing by Api::V1::UsersController#index as JSON
  Parameters: {"user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1844)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 266ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 12:22:28 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1491)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:28 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-14 12:22:28 -0500
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "newname"], ["updated_at", "2020-10-14 17:22:29.003353"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 2380)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 273ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 12:22:29 -0500
Completed 200 OK in 249ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 542)
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100", "user"=>{}}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:29 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 22ms (Views: 0.8ms | ActiveRecord: 2.3ms | Allocations: 5917)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 12:22:29 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1544)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 287ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:22:29 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 12:22:29 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1541)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 12:22:30 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (547.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (581.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 17:24:38.252907', '2020-10-14 17:24:38.252907');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 17:24:38.252907', '2020-10-14 17:24:38.252907');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$7q27jy/Pnja/8i7lClHjIuvZUVMqWhiA89N8BOs/UFFLUFcXUhF3W', '2020-10-14 17:24:38.252907', '2020-10-14 17:24:38.252907', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$e.aEFY7E5SwJkshXYXYxMu/ib3NuQSiocbmq91RTvcWRO3NjWLNSC', '2020-10-14 17:24:38.252907', '2020-10-14 17:24:38.252907', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 17:24:38.255592', '2020-10-14 17:24:38.255592');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 17:24:38.255592', '2020-10-14 17:24:38.255592');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 17:24:38.260226', '2020-10-14 17:24:38.260226');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 17:24:38.260226', '2020-10-14 17:24:38.260226')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-14 17:24:38.304376', '2020-10-14 17:24:38.304376');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-14 17:24:38.304376', '2020-10-14 17:24:38.304376');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$.EUDd5TRHbxmaaZA96EoFuq89s7G44Mq/NBUD4FG1GInZCj.UrOfq', '2020-10-14 17:24:38.304376', '2020-10-14 17:24:38.304376', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$o5qvzsBeBC2mD.p07BOL/eEQFsudx4au2PmOn1l9DCp.zMPM/iIb6', '2020-10-14 17:24:38.304376', '2020-10-14 17:24:38.304376', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-14 17:24:38.307004', '2020-10-14 17:24:38.307004');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-14 17:24:38.307004', '2020-10-14 17:24:38.307004');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-14 17:24:38.312396', '2020-10-14 17:24:38.312396');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-14 17:24:38.312396', '2020-10-14 17:24:38.312396')[0m
  [1m[35m (187.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
  [1m[35m (177.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:38 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 259ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 6497)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 6497)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:38 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 12:24:39 -0500
Processing by Api::V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1189)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 12:24:39 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 22ms (Views: 0.4ms | ActiveRecord: 2.2ms | Allocations: 6664)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 247ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 267ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-14 12:24:39 -0500
Processing by Api::V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 1847)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 268ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-14 12:24:39 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$y26AEId7TCSkQg7gsYEQ6enT3j/bPqSDTcBNtaZvHLMKZsV339c3i"], ["created_at", "2020-10-14 17:24:39.651145"], ["updated_at", "2020-10-14 17:24:39.651145"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 6ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 2243)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UsersControllerTest: test_Tests_the_update_method
-------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:39 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:40 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 354)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 265ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "new_name"], ["updated_at", "2020-10-14 17:24:40.196419"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 259ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 12:24:40 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 12ms (Views: 0.6ms | ActiveRecord: 0.9ms | Allocations: 6053)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 12:24:40 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1540)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 243ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:40 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 12:24:41 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1797)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:41 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-14 12:24:41 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:41 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:41 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 244ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:41 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-14 12:24:41 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 5520)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:41 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-14 12:24:41 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1373)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:41 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:41 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:41 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 242ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-14 12:24:42 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1537)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 246ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 245ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-14 12:24:42 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 241ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-14 12:24:42 -0500
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "newname"], ["updated_at", "2020-10-14 17:24:42.574296"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 2494)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "photos"[0m
  [1m[35m (106.3ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "property_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted_foc" boolean, "accepted_lum" boolean)[0m
  [1m[35m (110.7ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "properties"[0m
  [1m[35m (106.0ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "project" varchar, "built_type" varchar, "price" varchar, "address" varchar, "apt" varchar, "hood" varchar, "city" varchar, "private_area" varchar, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar, "build_area" varchar, "social_class" varchar, "state" varchar, "elevator" boolean, "common_areas" varchar, "property_tax" varchar, "rooms" varchar, "bathrooms" varchar, "half_bathrooms" varchar, "parking_lot" varchar, "utility_room" boolean, "empty_property" boolean, "inhabitants" boolean, "rent" varchar, "mortgage" varchar)[0m
  [1m[35m (90.5ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (115.7ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (94.5ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (98.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (102.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (94.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "isadmin" boolean DEFAULT 0, "full_name" varchar, "cellphone" varchar)[0m
  [1m[35m (88.7ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aphotos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted_foc" boolean DEFAULT NULL, "accepted_lum" boolean DEFAULT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "tindex_aphotos_on_property_id" ON "aphotos" ("property_id")[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "aphotos" ("id","url","property_id","created_at","updated_at","accepted_foc","accepted_lum")
                     SELECT "id","url","property_id","created_at","updated_at","accepted_foc","accepted_lum" FROM "photos"[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE "photos"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted_foc" boolean DEFAULT NULL, "accepted_lum" boolean DEFAULT NULL, CONSTRAINT "fk_rails_0d5710f200"
FOREIGN KEY ("property_id")
  REFERENCES "properties" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "photos" ("id","url","property_id","created_at","updated_at","accepted_foc","accepted_lum")
                     SELECT "id","url","property_id","created_at","updated_at","accepted_foc","accepted_lum" FROM "aphotos"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "aphotos"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (100.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproperties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_user_id" ON "aproperties" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_price" ON "aproperties" ("price")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_hood" ON "aproperties" ("hood")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_city" ON "aproperties" ("city")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_built_type" ON "aproperties" ("built_type")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aproperties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "properties"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "properties"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL, CONSTRAINT "fk_rails_e41321a67c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "properties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "aproperties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aproperties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (104.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (92.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (73.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201015003144)[0m
  [1m[35m (76.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200920140300),
(20200920142212),
(20200928162141),
(20200928194359),
(20200928195320),
(20200929012706),
(20200929014510),
(20201005185525),
(20201011142729),
(20201011143722),
(20201013003510),
(20201013005654);

[0m
  [1m[35m (97.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-10-15 18:36:06.082263"], ["updated_at", "2020-10-15 18:36:06.082263"]]
  [1m[35m (72.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "195ddc125391c10d2b1ff3c016dfb0734beb49af"], ["created_at", "2020-10-15 18:36:06.161325"], ["updated_at", "2020-10-15 18:36:06.161325"]]
  [1m[35m (72.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (4.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "photos"[0m
  [1m[35m (3.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "photos"[0m
  [1m[35m (167.0ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "property_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted_foc" boolean, "accepted_lum" boolean)[0m
  [1m[35m (190.7ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "url" varchar, "property_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted_foc" boolean, "accepted_lum" boolean)[0m
  [1m[35m (193.5ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "properties"[0m
  [1m[35m (217.7ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "properties"[0m
  [1m[35m (213.1ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "project" varchar, "built_type" varchar, "price" varchar, "address" varchar, "apt" varchar, "hood" varchar, "city" varchar, "private_area" varchar, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar, "build_area" varchar, "social_class" varchar, "state" varchar, "elevator" boolean, "common_areas" varchar, "property_tax" varchar, "rooms" varchar, "bathrooms" varchar, "half_bathrooms" varchar, "parking_lot" varchar, "utility_room" boolean, "empty_property" boolean, "inhabitants" boolean, "rent" varchar, "mortgage" varchar)[0m
  [1m[35m (197.7ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "project" varchar, "built_type" varchar, "price" varchar, "address" varchar, "apt" varchar, "hood" varchar, "city" varchar, "private_area" varchar, "user_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar, "build_area" varchar, "social_class" varchar, "state" varchar, "elevator" boolean, "common_areas" varchar, "property_tax" varchar, "rooms" varchar, "bathrooms" varchar, "half_bathrooms" varchar, "parking_lot" varchar, "utility_room" boolean, "empty_property" boolean, "inhabitants" boolean, "rent" varchar, "mortgage" varchar)[0m
  [1m[35m (169.6ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (200.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (236.3ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (225.3ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (128.4ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (187.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (193.4ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (209.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (161.0ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (191.0ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (200.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "isadmin" boolean DEFAULT 0, "full_name" varchar, "cellphone" varchar)[0m
  [1m[35m (206.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "isadmin" boolean DEFAULT 0, "full_name" varchar, "cellphone" varchar)[0m
  [1m[35m (230.4ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aphotos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted_foc" boolean DEFAULT NULL, "accepted_lum" boolean DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aphotos_on_property_id" ON "aphotos" ("property_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aphotos" ("id","url","property_id","created_at","updated_at","accepted_foc","accepted_lum")
                     SELECT "id","url","property_id","created_at","updated_at","accepted_foc","accepted_lum" FROM "photos"[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "photos"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted_foc" boolean DEFAULT NULL, "accepted_lum" boolean DEFAULT NULL, CONSTRAINT "fk_rails_0d5710f200"
FOREIGN KEY ("property_id")
  REFERENCES "properties" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (198.6ms)[0m  [1m[35mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "photos" ("id","url","property_id","created_at","updated_at","accepted_foc","accepted_lum")
                     SELECT "id","url","property_id","created_at","updated_at","accepted_foc","accepted_lum" FROM "aphotos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aphotos"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aphotos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted_foc" boolean DEFAULT NULL, "accepted_lum" boolean DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aphotos_on_property_id" ON "aphotos" ("property_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aphotos" ("id","url","property_id","created_at","updated_at","accepted_foc","accepted_lum")
                     SELECT "id","url","property_id","created_at","updated_at","accepted_foc","accepted_lum" FROM "photos"[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "photos"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "photos" ("id" integer NOT NULL PRIMARY KEY, "url" varchar DEFAULT NULL, "property_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "accepted_foc" boolean DEFAULT NULL, "accepted_lum" boolean DEFAULT NULL, CONSTRAINT "fk_rails_0d5710f200"
FOREIGN KEY ("property_id")
  REFERENCES "properties" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_photos_on_property_id" ON "photos" ("property_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "photos" ("id","url","property_id","created_at","updated_at","accepted_foc","accepted_lum")
                     SELECT "id","url","property_id","created_at","updated_at","accepted_foc","accepted_lum" FROM "aphotos"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aphotos"[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (142.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproperties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_user_id" ON "aproperties" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_price" ON "aproperties" ("price")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_hood" ON "aproperties" ("hood")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_city" ON "aproperties" ("city")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_built_type" ON "aproperties" ("built_type")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aproperties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "properties"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "properties"[0m
  [1m[35m (133.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL, CONSTRAINT "fk_rails_e41321a67c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aproperties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_user_id" ON "aproperties" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_price" ON "aproperties" ("price")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_hood" ON "aproperties" ("hood")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_city" ON "aproperties" ("city")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "properties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "aproperties"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aproperties_on_built_type" ON "aproperties" ("built_type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aproperties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aproperties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "properties"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "properties" ("id" integer NOT NULL PRIMARY KEY, "project" varchar DEFAULT NULL, "built_type" varchar DEFAULT NULL, "price" varchar DEFAULT NULL, "address" varchar DEFAULT NULL, "apt" varchar DEFAULT NULL, "hood" varchar DEFAULT NULL, "city" varchar DEFAULT NULL, "private_area" varchar DEFAULT NULL, "user_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "admon" varchar DEFAULT NULL, "build_area" varchar DEFAULT NULL, "social_class" varchar DEFAULT NULL, "state" varchar DEFAULT NULL, "elevator" boolean DEFAULT NULL, "common_areas" varchar DEFAULT NULL, "property_tax" varchar DEFAULT NULL, "rooms" varchar DEFAULT NULL, "bathrooms" varchar DEFAULT NULL, "half_bathrooms" varchar DEFAULT NULL, "parking_lot" varchar DEFAULT NULL, "utility_room" boolean DEFAULT NULL, "empty_property" boolean DEFAULT NULL, "inhabitants" boolean DEFAULT NULL, "rent" varchar DEFAULT NULL, "mortgage" varchar DEFAULT NULL, CONSTRAINT "fk_rails_e41321a67c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_built_type" ON "properties" ("built_type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_city" ON "properties" ("city")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_hood" ON "properties" ("hood")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_price" ON "properties" ("price")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_properties_on_user_id" ON "properties" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "properties" ("id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage")
                     SELECT "id","project","built_type","price","address","apt","hood","city","private_area","user_id","created_at","updated_at","admon","build_area","social_class","state","elevator","common_areas","property_tax","rooms","bathrooms","half_bathrooms","parking_lot","utility_room","empty_property","inhabitants","rent","mortgage" FROM "aproperties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aproperties"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (130.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (104.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (161.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (218.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (134.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201015003144)[0m
  [1m[35m (149.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201015003144)[0m
  [1m[35m (165.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200920140300),
(20200920142212),
(20200928162141),
(20200928194359),
(20200928195320),
(20200929012706),
(20200929014510),
(20201005185525),
(20201011142729),
(20201011143722),
(20201013003510),
(20201013005654);

[0m
  [1m[35m (130.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200920140300),
(20200920142212),
(20200928162141),
(20200928194359),
(20200928195320),
(20200929012706),
(20200929014510),
(20201005185525),
(20201011142729),
(20201011143722),
(20201013003510),
(20201013005654);

[0m
  [1m[35m (165.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (189.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-10-15 18:36:09.705627"], ["updated_at", "2020-10-15 18:36:09.705627"]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-10-15 18:36:09.724562"], ["updated_at", "2020-10-15 18:36:09.724562"]]
  [1m[35m (142.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (145.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Create (18.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "195ddc125391c10d2b1ff3c016dfb0734beb49af"], ["created_at", "2020-10-15 18:36:09.882973"], ["updated_at", "2020-10-15 18:36:09.882973"]]
  [1m[36mActiveRecord::InternalMetadata Load (1.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (6.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "195ddc125391c10d2b1ff3c016dfb0734beb49af"], ["created_at", "2020-10-15 18:36:09.916416"], ["updated_at", "2020-10-15 18:36:09.916416"]]
  [1m[35m (136.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (135.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-15 18:36:10.764041', '2020-10-15 18:36:10.764041');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-15 18:36:10.764041', '2020-10-15 18:36:10.764041');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$tFjUvhjV8xKYUQc/FIDfuekm4Y1cbwiPkWftWOrZE2uH/zBgokIhi', '2020-10-15 18:36:10.764041', '2020-10-15 18:36:10.764041', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$FqLo.NXZu0rFu1LOJintjOV4ftin8ejvcH9VowpBPy8naRujGe9xq', '2020-10-15 18:36:10.764041', '2020-10-15 18:36:10.764041', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-15 18:36:10.771482', '2020-10-15 18:36:10.771482');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-15 18:36:10.771482', '2020-10-15 18:36:10.771482');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-15 18:36:10.779260', '2020-10-15 18:36:10.779260');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-15 18:36:10.779260', '2020-10-15 18:36:10.779260')[0m
  [1m[36mFixtures Load (3.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-15 18:36:10.764040', '2020-10-15 18:36:10.764040');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-15 18:36:10.764040', '2020-10-15 18:36:10.764040');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$Kop.v1Nt5p9vML0QdKXHA.paaOECqDK/BIyb2jbM2ts5YsoTI4tXa', '2020-10-15 18:36:10.764040', '2020-10-15 18:36:10.764040', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$hYRWcdwGHLjfXDIqHAhO7emzrS6jCq0spNW96Tz5Uy0.kXFFiKA8q', '2020-10-15 18:36:10.764040', '2020-10-15 18:36:10.764040', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-15 18:36:10.770077', '2020-10-15 18:36:10.770077');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-15 18:36:10.770077', '2020-10-15 18:36:10.770077');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-15 18:36:10.778734', '2020-10-15 18:36:10.778734');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-15 18:36:10.778734', '2020-10-15 18:36:10.778734')[0m
  [1m[35m (141.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (181.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (0.4ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-15 18:36:11.061305"], ["updated_at", "2020-10-15 18:36:11.061305"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos" WHERE "photos"."property_id" = ?[0m  [["property_id", 980190963]]
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[36mProperty Destroy (0.1ms)[0m  [1m[31mDELETE FROM "properties" WHERE "properties"."id" = ?[0m  [["id", 980190963]]
  [1m[36mProperty Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (0.4ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-15 18:36:11.073992"], ["updated_at", "2020-10-15 18:36:11.073992"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_built_type
------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (0.9ms)[0m  [1m[32mINSERT INTO "properties" ("hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["hood", "Belen"], ["city", "Pizza"], ["user_id", 99], ["created_at", "2020-10-15 18:36:11.081786"], ["updated_at", "2020-10-15 18:36:11.081786"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
---------------------------------------------------------------
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:11 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 829)
Completed 200 OK in 256ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 6276)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:11 -0500
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:11 -0500
Processing by Api::V1::UsersController#login as JSON
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 268ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-15 13:36:11 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
Completed 200 OK in 272ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-15 13:36:11 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 12ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 4426)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Destroy (1.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 19ms (Views: 0.8ms | ActiveRecord: 2.7ms | Allocations: 5215)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 268ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 266ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 295ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-15 13:36:12 -0500
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "newname"], ["updated_at", "2020-10-15 18:36:12.468011"], ["id", 100]]
Completed 200 OK in 285ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 2742)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-15 13:36:12 -0500
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:12 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$j1y3WblPE8QdkPVmJr5vvegK1n1pJqLG4TmhnvIi6Iu5lBKbNbN4K"], ["created_at", "2020-10-15 18:36:12.477945"], ["updated_at", "2020-10-15 18:36:12.477945"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 9ms (Views: 0.4ms | ActiveRecord: 2.4ms | Allocations: 2049)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Completed 200 OK in 261ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:13 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-15 13:36:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:13 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1540)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:13 -0500
Completed 200 OK in 254ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-15 13:36:13 -0500
Processing by Api::V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 256ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.3ms | Allocations: 1844)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-15 13:36:13 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:13 -0500
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1537)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:13 -0500
Completed 200 OK in 253ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 542)
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Completed 200 OK in 256ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-15 13:36:14 -0500
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-15 13:36:14 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1373)
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Destroy (1.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 10ms (Views: 0.6ms | ActiveRecord: 2.1ms | Allocations: 2243)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:14 -0500
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 261ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Completed 200 OK in 261ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 542)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-15 13:36:14 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100"}
Completed 200 OK in 255ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-15 13:36:14 -0500
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Processing by Api::V1::UsersController#index as JSON
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1797)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1003)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:14 -0500
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UsersControllerTest: test_Tests_the_update_method
-------------------------------------------------
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:14 -0500
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 263ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 282ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-15 13:36:15 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:15 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 269ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "new_name"], ["updated_at", "2020-10-15 18:36:15.177391"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-15 13:36:15 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 155)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
Completed 200 OK in 291ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:15 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 258ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:36:15 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 351)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (3.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (405.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (452.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-15 18:45:57.727255', '2020-10-15 18:45:57.727255');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-15 18:45:57.727255', '2020-10-15 18:45:57.727255');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$UcMmsdmUW1Uhg5YJHFx.lOw1Ocnj5nXuyjXOafcQsvYrik71YgFaW', '2020-10-15 18:45:57.727255', '2020-10-15 18:45:57.727255', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$v5uUMcM3OkB8xbB0k4xDLu6DVWj9/p/2VfpauSdQWjR43RVfCD2k6', '2020-10-15 18:45:57.727255', '2020-10-15 18:45:57.727255', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-15 18:45:57.729746', '2020-10-15 18:45:57.729746');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-15 18:45:57.729746', '2020-10-15 18:45:57.729746');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-15 18:45:57.742743', '2020-10-15 18:45:57.742743');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-15 18:45:57.742743', '2020-10-15 18:45:57.742743')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-15 18:45:57.771938', '2020-10-15 18:45:57.771938');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-15 18:45:57.771938', '2020-10-15 18:45:57.771938');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$YZZyKzBLyE1iCfa4lvJGou52ByIZ2BQoQHsS0iZ6wEwUIZebtbr36', '2020-10-15 18:45:57.771938', '2020-10-15 18:45:57.771938', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$yOKkjrjngAT.IjXuIHyxwOYYFBmYpAGfsVuBva18wv53/xA.QQFeK', '2020-10-15 18:45:57.771938', '2020-10-15 18:45:57.771938', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-15 18:45:57.773900', '2020-10-15 18:45:57.773900');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-15 18:45:57.773900', '2020-10-15 18:45:57.773900');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-15 18:45:57.790364', '2020-10-15 18:45:57.790364');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-15 18:45:57.790364', '2020-10-15 18:45:57.790364')[0m
  [1m[35m (105.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (141.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (2.5ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (0.7ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-15 18:45:58.087915"], ["updated_at", "2020-10-15 18:45:58.087915"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PropertyTest: test_Should_create_a_property
-------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (0.7ms)[0m  [1m[32mINSERT INTO "properties" ("hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["hood", "Belen"], ["city", "Pizza"], ["user_id", 99], ["created_at", "2020-10-15 18:45:58.096806"], ["updated_at", "2020-10-15 18:45:58.096806"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UsersControllerTest: test_Tests_the_update_method
-------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (1.0ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-15 18:45:58.131130"], ["updated_at", "2020-10-15 18:45:58.131130"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos" WHERE "photos"."property_id" = ?[0m  [["property_id", 980190963]]
  [1m[36mProperty Load (0.5ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[36mProperty Destroy (0.2ms)[0m  [1m[31mDELETE FROM "properties" WHERE "properties"."id" = ?[0m  [["id", 980190963]]
  [1m[36mProperty Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 267ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 839)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 266ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 832)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 310ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-15 13:45:58 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1653)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 351ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:58 -0500
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "new_name"], ["updated_at", "2020-10-15 18:45:58.833150"], ["id", 100]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:58 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-15 13:45:59 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1540)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:59 -0500
Completed 200 OK in 254ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-15 13:45:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1819)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-15 13:45:59 -0500
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "newname"], ["updated_at", "2020-10-15 18:45:59.877208"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 1.3ms | Allocations: 2956)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-15 13:45:59 -0500
Processing by Api::V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 1844)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:45:59 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-15 13:46:00 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 2134)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 253ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:00 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 352)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-15 13:46:00 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 13ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 3928)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:00 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 270ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-15 13:46:01 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-15 13:46:01 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$kzmsrda1eJeO1NSmhLN1OO3u0teLlyfCmGO1yVU1vhtGrCLDYK.1K"], ["created_at", "2020-10-15 18:46:01.496291"], ["updated_at", "2020-10-15 18:46:01.496291"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.5ms | ActiveRecord: 1.3ms | Allocations: 1524)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-15 13:46:01 -0500
Processing by Api::V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 1000)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:01 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 256ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-15 13:46:02 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (1.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 11ms (Views: 0.4ms | ActiveRecord: 1.6ms | Allocations: 4460)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-15 13:46:02 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 155)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 266ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:46:02 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 249ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-15 13:46:02 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1797)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (1.7ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (379.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (380.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "photos";
DELETE FROM "properties"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-15 18:47:10.318592', '2020-10-15 18:47:10.318592');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-15 18:47:10.318592', '2020-10-15 18:47:10.318592');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$eAb8otlqghws6lrkUuXtUOB/NUhTkw3Od.eKeiiVyBAHvSoiS7jZ2', '2020-10-15 18:47:10.318592', '2020-10-15 18:47:10.318592', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$wbucPFfbfG.nfSy9Q3L1KuNfAWyujfb0DpEVsGEXN8w95bes0vDGq', '2020-10-15 18:47:10.318592', '2020-10-15 18:47:10.318592', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-15 18:47:10.322190', '2020-10-15 18:47:10.322190');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-15 18:47:10.322190', '2020-10-15 18:47:10.322190');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-15 18:47:10.327293', '2020-10-15 18:47:10.327293');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-15 18:47:10.327293', '2020-10-15 18:47:10.327293')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (2.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "properties";
DELETE FROM "photos";
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (99, 'email@email.com', '1234', '2020-10-15 18:47:10.330055', '2020-10-15 18:47:10.330055');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at") VALUES (298486374, 'MyString', 'MyString', '2020-10-15 18:47:10.330055', '2020-10-15 18:47:10.330055');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin", "full_name") VALUES (100, 'ejemplo1@mail.com', '$2a$12$sgemvpLrw6/d2NwPiZo2D.HebYj6epGv8SQYLe5a5FU34ER6ZBt8e', '2020-10-15 18:47:10.330055', '2020-10-15 18:47:10.330055', 0, 'ejemplo1');
INSERT INTO "users" ("id", "email", "password_digest", "created_at", "updated_at", "isadmin") VALUES (101, 'admin@mail.com', '$2a$12$HBp/QB8aTnRwG01CexyGXeTGkwYSjZq2P53ARuW8ohFxdyGhm3lyC', '2020-10-15 18:47:10.330055', '2020-10-15 18:47:10.330055', 1);
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (980190962, 'MyString', '2020-10-15 18:47:10.333228', '2020-10-15 18:47:10.333228');
INSERT INTO "properties" ("id", "city", "created_at", "updated_at") VALUES (298486374, 'MyString', '2020-10-15 18:47:10.333228', '2020-10-15 18:47:10.333228');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (980190962, '2020-10-15 18:47:10.336456', '2020-10-15 18:47:10.336456');
INSERT INTO "photos" ("id", "created_at", "updated_at") VALUES (298486374, '2020-10-15 18:47:10.336456', '2020-10-15 18:47:10.336456')[0m
  [1m[35m (166.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.7ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UserTest: test_Should_be_capable_of_accessing_the_amount_of_properties_a_user_has
---------------------------------------------------------------------------------
  [1m[35m (220.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_should_NOT_create_a_user_with_a_repeated_email
-------------------------------------------------------------
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (8.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$W1Fjl/Ujugf9ojKy5s95KO7fUZQLNoWdU8gaCahCZbj0/n3jnlqRG"], ["created_at", "2020-10-15 18:47:10.617932"], ["updated_at", "2020-10-15 18:47:10.617932"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$64r8Yrx8YP6.0XI5v3BAHeQcGgkzIPYO0dITOef8mjQ/JBiiE15lO"], ["created_at", "2020-10-15 18:47:10.622500"], ["updated_at", "2020-10-15 18:47:10.622500"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
UserTest: test_should_create_a_new_user
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 298486375]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$HRPQnxemjCU4b.sUqg/bReodhJuULGSQVkS/HeTFQ96PwvTwv6.N6"], ["created_at", "2020-10-15 18:47:10.661660"], ["updated_at", "2020-10-15 18:47:10.661660"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_should_find_the_new_created_user
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$fXTX7KR9RNctlzVVCaPAX.TspEK8E6wYfCkfM.NV8Okx5jMXXGTkm"], ["created_at", "2020-10-15 18:47:10.669176"], ["updated_at", "2020-10-15 18:47:10.669176"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 298486375]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_should_not_save_user_without_a_password
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$ffV3aZBtuDPp/qRZcvDB4eimgKtfJRXQCrKPSuILxaDHkrd1p0H3q"], ["created_at", "2020-10-15 18:47:10.687370"], ["updated_at", "2020-10-15 18:47:10.687370"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.3ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 298486375]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_should_not_save_user_without_proper_email
--------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$XanVU/u3eJnR.fJPPLDLC.mMCjlE9t.LZc4d9COIu6tesG4oQZiGa"], ["created_at", "2020-10-15 18:47:10.701011"], ["updated_at", "2020-10-15 18:47:10.701011"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 298486375]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserTest: test_Successfully_create_and_destroy_a_user
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$A66SDu8/4jveH9npkqw5bu8ddZ7G6Toi9H1pn/7ILHKdd8.6MlHQi"], ["created_at", "2020-10-15 18:47:10.723436"], ["updated_at", "2020-10-15 18:47:10.723436"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "notanactualeimail"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 298486375]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "valid1@email.com"], ["password_digest", "$2a$04$A3CXH1qJRjYXVsdlw4GRMOsgK5.gqO.OXSAWgeNabMVPQgm5ypBV2"], ["created_at", "2020-10-15 18:47:10.730902"], ["updated_at", "2020-10-15 18:47:10.730902"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_an_email_longer_than_255_characters
----------------------------------------------------------------------------
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 298486376]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 298486376]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "valid1@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$H7j3xY8uhg6Rc84OeY1CsemgKeddphTBGH0BqtMH/jJJlv.E7G2Iu"], ["created_at", "2020-10-15 18:47:10.736582"], ["updated_at", "2020-10-15 18:47:10.736582"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 298486375]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
-------------------------------------------------------------------------------
UserTest: test_should_not_save_user_with_a_password_no_longer_than_4_characters
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 298486375]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$QEQI3YyUTY7U5YEsAGuvxucJ5NBQmfWqTeAmsB6mCiC/HKpES8ZdO"], ["created_at", "2020-10-15 18:47:10.748870"], ["updated_at", "2020-10-15 18:47:10.748870"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Destroy (10.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 298486375]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 298486375]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_should_not_save_user_without_email
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "valid@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PropertiesControllerTest: test_index:_just_authorized_user
----------------------------------------------------------
  [1m[36mUser Create (5.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "valid@email.com"], ["password_digest", "$2a$04$w5xk1CPdSF/bdjfkk8c8eOy1GcQZVOl0YKUbyfVUlX2IYUspfue0a"], ["created_at", "2020-10-15 18:47:10.770734"], ["updated_at", "2020-10-15 18:47:10.770734"], ["full_name", "valid"], ["cellphone", "3001234567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 298486375]]
  [1m[36mUser Destroy (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 298486375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
UsersControllerTest: test_Attempt_accessing_without_logging_in_should_fail
--------------------------------------------------------------------------
Started GET "/api/v1/users/1/properties" for 127.0.0.1 at 2020-10-15 13:47:10 -0500
Processing by Api::V1::PropertiesController#index as JSON
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 200)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_invalid_email
------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:10 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:10 -0500
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 267ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 652)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 270ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 854)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 279ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 243)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_Failed_log_in_due_to_empty_parameters
---------------------------------------------------------------
Completed 200 OK in 265ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:11 -0500
Started GET "/api/v1/users/1" for 127.0.0.1 at 2020-10-15 13:47:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#show as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  Parameters: {"user_id"=>"1"}
Filter chain halted as :authorized rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_Failed_sing_up_due_to_invalid_email
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
Completed 200 OK in 257ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 542)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:11 -0500
Processing by Api::V1::UsersController#login as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 355)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UsersControllerTest: test_Tests_the_update_method
-------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:11 -0500
Completed 200 OK in 253ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/signup" for 127.0.0.1 at 2020-10-15 13:47:11 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"invalid", "password"=>"[FILTERED]"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 3529)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.4ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_to_delete_another_user
----------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 264ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "new_name"], ["updated_at", "2020-10-15 18:47:12.513192"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 252ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/101" for 127.0.0.1 at 2020-10-15 13:47:12 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"101"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_show_any_user
---------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:12 -0500
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1837)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
UsersControllerTest: test_authorized_for_user_to_delete_himself
---------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 268ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 266ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:12 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-15 13:47:13 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 2076)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
UsersControllerTest: test_authorized_user_to_show_his_own_user
--------------------------------------------------------------
Completed 200 OK in 262ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:13 -0500
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-15 13:47:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.1ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 8ms (Views: 0.9ms | ActiveRecord: 1.4ms | Allocations: 1849)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
UsersControllerTest: test_check_correct_update_of_user_full_name
----------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 262ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 263ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 252ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/100" for 127.0.0.1 at 2020-10-15 13:47:13 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1373)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_unauthorized_user_to_show_any_other_user
------------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 261ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 534)
Started PUT "/api/v1/users/100/" for 127.0.0.1 at 2020-10-15 13:47:13 -0500
Processing by Api::V1::UsersController#update as JSON
  Parameters: {"full_name"=>"newname", "user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
[31mUnpermitted parameters: :format, :user_id[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) AND "users"."id" != ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["id", 100], ["LIMIT", 1]]
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "full_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["full_name", "newname"], ["updated_at", "2020-10-15 18:47:13.623768"], ["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 2.0ms | Allocations: 2442)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_for_index
--------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 258ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:13 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users/101" for 127.0.0.1 at 2020-10-15 13:47:14 -0500
Processing by Api::V1::UsersController#show as JSON
  Parameters: {"user_id"=>"101"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :correct_user rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1537)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
UsersControllerTest: test_authorized_for_admin_to_delete_user
-------------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 254ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-15 13:47:14 -0500
Processing by Api::V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 0.7ms | Allocations: 1845)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UsersControllerTest: test_unauthorized_for_user_for_index
---------------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 262ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 277ms (Views: 0.9ms | ActiveRecord: 0.6ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 255ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/api/v1/users/100" for 127.0.0.1 at 2020-10-15 13:47:14 -0500
Processing by Api::V1::UsersController#destroy as JSON
  Parameters: {"user_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProperty Load (0.0ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ?[0m  [["user_id", 100]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (Views: 0.4ms | ActiveRecord: 0.6ms | Allocations: 2274)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UsersControllerTest: test_checks_creation_of_new_user
-----------------------------------------------------
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"ejemplo1@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ejemplo1@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 257ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 534)
Started GET "/api/v1/users" for 127.0.0.1 at 2020-10-15 13:47:14 -0500
Processing by Api::V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
Filter chain halted as :isadmin? rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1000)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_create,_save,_and_destroy_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (0.3ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-15 18:47:14.753957"], ["updated_at", "2020-10-15 18:47:14.753957"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "photos" WHERE "photos"."property_id" = ?[0m  [["property_id", 980190963]]
  [1m[36mProperty Load (0.2ms)[0m  [1m[34mSELECT "properties".* FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[36mProperty Destroy (0.2ms)[0m  [1m[31mDELETE FROM "properties" WHERE "properties"."id" = ?[0m  [["id", 980190963]]
  [1m[36mProperty Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "properties" WHERE "properties"."user_id" = ? LIMIT ?[0m  [["user_id", 99], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_the_proper_built_type
-----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
PropertyTest: test_Should_not_create_a_property_without_a_user_id
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
PropertyTest: test_Should_create_a_property
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (0.5ms)[0m  [1m[32mINSERT INTO "properties" ("hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["hood", "Belen"], ["city", "Pizza"], ["user_id", 99], ["created_at", "2020-10-15 18:47:14.783033"], ["updated_at", "2020-10-15 18:47:14.783033"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
PropertyTest: test_Should_have_successfully_created_a_property
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProperty Create (0.6ms)[0m  [1m[32mINSERT INTO "properties" ("built_type", "hood", "city", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["built_type", "Casa"], ["hood", "Belen"], ["city", "Medellin"], ["user_id", 99], ["created_at", "2020-10-15 18:47:14.789431"], ["updated_at", "2020-10-15 18:47:14.789431"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 262ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 542)
Started POST "/api/v1/login" for 127.0.0.1 at 2020-10-15 13:47:14 -0500
Processing by Api::V1::UsersController#login as JSON
  Parameters: {"email"=>"admin@mail.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin@mail.com"], ["LIMIT", 1]]
Completed 200 OK in 251ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 534)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/v1/users/" for 127.0.0.1 at 2020-10-15 13:47:15 -0500
Processing by Api::V1::UsersController#create as JSON
  Parameters: {"email"=>"ejemplo2@mail.com", "password"=>"[FILTERED]", "full_name"=>"ejemplo2", "cellphone"=>"3001234567"}
[31mUnpermitted parameter: :format[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ejemplo2@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "full_name", "cellphone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "ejemplo2@mail.com"], ["password_digest", "$2a$04$N8eB1pXup0v1Ea0shcYHc.Qr4M0vxXWLJAhNuSJ4eBGFS616OCDiO"], ["created_at", "2020-10-15 18:47:15.182254"], ["updated_at", "2020-10-15 18:47:15.182254"], ["full_name", "ejemplo2"], ["cellphone", "3001234567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 5ms (Views: 0.4ms | ActiveRecord: 0.6ms | Allocations: 1500)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
